---
title: Linux SUID权限
categories: 
  - Linux
  - 通用
  - 文件和目录的权限
abbrlink: 1944ab05
date: 2021-06-24 13:34:32
updated: 2022-04-04 00:51:45
---
# 三级权限存在的问题
## 问题
系统中任一个用户，要么对文件的全部内容具有访问权，要么不可访问文件。有的情况下，很不方便。
◆用户修改口令，文件/etc/passwd和/etc/shadow
◆用户liu的文件list.txt：希望用户liang，只能读取行首为#的行和与他有关的行


省略......

## 进程实际UID/有效UID
◆一般情况下，进程的实际UID和有效UID相等。
◆打开文件open()时，系统根据进程的有效UID，与文件所有者UID之间的关系和文件的权限进行访问合法性验证
◆可执行程序具有SUID权限，进程的实际UID和有效UID不再相等。实际UID是当前用户，而**有效UID为可执行文件的文件主**。
◆**SUID使得用户可以通过文件主提供的程序，以文件主的权限访问文件，但这种访问依赖于文件主提供的程序，进行有限的访问**。
