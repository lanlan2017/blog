<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.1.0">

<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="_Sly-yzHYmALHXzjFpPWsodMrjBSphw7bfRbMUH80Qc">
  <meta name="msvalidate.01" content="B1CFD346B8DEBBFE0C983C2AF8955531">
  <meta name="baidu-site-verification" content="vkMTwK56xr">

<link rel="stylesheet" href="/blog/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"lanlan2017.github.io","root":"/blog/","images":"/blog/images","scheme":"Gemini","darkmode":true,"version":"8.11.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/blog/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/blog/js/config.js"></script>

    <meta name="description" content="记录一些学习心得">
<meta property="og:type" content="website">
<meta property="og:title" content="蓝蓝站点">
<meta property="og:url" content="https://lanlan2017.github.io/blog/page/16/index.html">
<meta property="og:site_name" content="蓝蓝站点">
<meta property="og:description" content="记录一些学习心得">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="蓝蓝">
<meta property="article:tag" content="Java 数据库">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://lanlan2017.github.io/blog/page/16/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/16/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>蓝蓝站点</title>
  

  <script src="/blog/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?dadeb188eb14ccde0b25a19230c429b5"></script>



<link rel="dns-prefetch" href="https://waline-test-lanlan2017.vercel.app">
  <noscript>
    <link rel="stylesheet" href="/blog/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">蓝蓝站点</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-dir"><a href="/blog/dir/" rel="section"><i class="fa fa-sitemap fa-fw"></i>目录</a></li><li class="menu-item menu-item-categories"><a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-tags"><a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="蓝蓝"
      src="/blog/images/avatar.gif">
  <p class="site-author-name" itemprop="name">蓝蓝</p>
  <div class="site-description" itemprop="description">记录一些学习心得</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/blog/archives/">
          <span class="site-state-item-count">614</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/blog/categories/">
        <span class="site-state-item-count">204</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://lanlan2017.github.io/todo/" title="todo → https:&#x2F;&#x2F;lanlan2017.github.io&#x2F;todo&#x2F;"><i class="fa fa-check-square fa-fw"></i>todo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://lanlan2017.github.io/links/" title="links → https:&#x2F;&#x2F;lanlan2017.github.io&#x2F;links&#x2F;"><i class="fa fa-link fa-fw"></i>links</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/8c94a702/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/8c94a702/" class="post-title-link" itemprop="url">Linux 批量处理文件</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-15 17:07:33" itemprop="dateCreated datePublished" datetime="2021-06-15T17:07:33+08:00">2021-06-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%92%8C%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">文件管理和目录管理</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/8c94a702/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/8c94a702/" data-xid="/blog/8c94a702/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>3 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>遍历当前目录<code>.</code>的所有后缀为.c文件，查找文件中带有–help的内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name \*.c -exec grep -n -- --help &#123;&#125; /dev/null \;</span><br></pre></td></tr></table></figure>
<p>借助find的“壳”功能去遍历目录，对遍历到的每个符合条件的文件执行grep命令。</p>
<p>缺点：效率低，因为每个命中的对象都需要执行grep命令：<br>对于find命令查找到的文件，创建一个grep进程来处理这个文件，完成任务后grep进程消亡；<br>然后find命令找到下一个文件，再创建一个grep进程来处理。</p>
<p>也就是说对于find找到n个文件，就需要创建n个grep进程来处理这n个文件。</p>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><h3 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 批量处理文件]# tree -N</span><br><span class="line">.</span><br><span class="line">├── a</span><br><span class="line">│   └── HelloWorld.c</span><br><span class="line">├── b</span><br><span class="line">│   └── WorldHello.c</span><br><span class="line">├── hello.c</span><br><span class="line">├── other.txt</span><br><span class="line">└── world.c</span><br><span class="line"></span><br><span class="line">2 directories, 5 files</span><br><span class="line">[root@localhost 批量处理文件]# </span><br></pre></td></tr></table></figure>
<h4 id="各文件内容"><a href="#各文件内容" class="headerlink" title="各文件内容"></a>各文件内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 批量处理文件]# cat hello.c </span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">d</span><br><span class="line">--help</span><br><span class="line">-hello</span><br><span class="line">--hello</span><br><span class="line">[root@localhost 批量处理文件]# cat world.c </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">-world</span><br><span class="line">--help</span><br><span class="line">--world</span><br><span class="line">[root@localhost 批量处理文件]# cat a/HelloWorld.c </span><br><span class="line">a</span><br><span class="line">1</span><br><span class="line">b</span><br><span class="line">2</span><br><span class="line">helloworld</span><br><span class="line">-helloworld</span><br><span class="line">--helloworld</span><br><span class="line">helloworld8</span><br><span class="line">[root@localhost 批量处理文件]# cat b/WorldHello.c </span><br><span class="line">1</span><br><span class="line">a</span><br><span class="line">2</span><br><span class="line">b</span><br><span class="line">WorldHello</span><br><span class="line">--help</span><br><span class="line">--worldhello</span><br><span class="line">[root@localhost 批量处理文件]# cat other.txt </span><br><span class="line">非.c文件</span><br><span class="line">xxx</span><br><span class="line">yyy</span><br><span class="line">zzz</span><br><span class="line">--help</span><br><span class="line">[root@localhost 批量处理文件]# </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>在当前目录下的所有.c文件中查找–help字符串：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 批量处理文件]# find . -name \*.c -exec grep -n -- --help &#123;&#125; /dev/null \;</span><br><span class="line">./hello.c:5:--help</span><br><span class="line">./world.c:5:--help</span><br><span class="line">./b/WorldHello.c:6:--help</span><br><span class="line">[root@localhost 批量处理文件]# </span><br></pre></td></tr></table></figure>
<p>grep -nr – –help *.c</p>
<h2 id="grep-r"><a href="#grep-r" class="headerlink" title="grep -r"></a>grep -r</h2><p>grep命令也提供了-r选项，可以递归地搜索子目录下的文件，</p>
<p>但是对于如下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -nr -- --help *.c </span><br></pre></td></tr></table></figure>
<p>达不到效果，因为这里的子目录的名字为<code>a/</code>、<code>b/</code>，这些子目录的名字不能被*.c匹配。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 批量处理文件]# grep -nr -- --help *.c </span><br><span class="line">hello.c:5:--help</span><br><span class="line">world.c:5:--help</span><br><span class="line">[root@localhost 批量处理文件]# </span><br></pre></td></tr></table></figure>
<p>而命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -nr -- --help *</span><br></pre></td></tr></table></figure>
<p>倒是可以检索出文件中带<code>--help</code>的内容，但是这样是检索所有的文件，不是单独的检索<code>.c</code>文件，输出结果会被无用的信息干扰，甚至淹没。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 批量处理文件]# grep -nr -- --help *</span><br><span class="line">b/WorldHello.c:6:--help</span><br><span class="line">hello.c:5:--help</span><br><span class="line">other.txt:5:--help</span><br><span class="line">world.c:5:--help</span><br><span class="line">[root@localhost 批量处理文件]# </span><br></pre></td></tr></table></figure>
<p>所以还是应该使用find精确筛选的功能。然后再通过grep搜索这些文件的内容。</p>
<h2 id="利用find与xargs的组合"><a href="#利用find与xargs的组合" class="headerlink" title="利用find与xargs的组合"></a>利用find与xargs的组合</h2><p>对于上述命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name \*.c -exec grep -n -- --help &#123;&#125; /dev/null \;</span><br></pre></td></tr></table></figure>
<p>如果能把</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name \*.c -print</span><br></pre></td></tr></table></figure>
<p>的输出结果，也就是生成的文件名列表追加在下列grep命令后面就可以好了。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -n -- --help filelist</span><br></pre></td></tr></table></figure>
<p>这样我们就只需要执行一次grep命令，处理这些文件列表即可。不需要对一个文件，的执行一次grep命令。</p>
<p>命令xargs可以用来完成这个工作：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name \*.c -print | xargs grep -n -- --help</span><br></pre></td></tr></table></figure>
<p>xargs命令把标准输入追加到它的参数列表后面，也就是上述<code>grep -n -- --help</code>的后面，再作为一个命令来执行。这样利用find精确筛选，利用grep批量处理文件，提高效率。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 批量处理文件]# find . -name \*.c -print | xargs grep -n -- --help</span><br><span class="line">./hello.c:5:--help</span><br><span class="line">./world.c:5:--help</span><br><span class="line">./b/WorldHello.c:6:--help</span><br><span class="line">[root@localhost 批量处理文件]# </span><br></pre></td></tr></table></figure>
<h2 id="验证使用xargs可以节省时间"><a href="#验证使用xargs可以节省时间" class="headerlink" title="验证使用xargs可以节省时间"></a>验证使用xargs可以节省时间</h2><p>执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name \*.c -print | xargs grep -n -- --help</span><br></pre></td></tr></table></figure>
<p>需要的时间：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 批量处理文件]# time find . -name \*.c -print | xargs grep -n -- --help</span><br><span class="line">./hello.c:5:--help</span><br><span class="line">./world.c:5:--help</span><br><span class="line">./b/WorldHello.c:6:--help</span><br><span class="line"></span><br><span class="line">real    0m0.022s</span><br><span class="line">user    0m0.010s</span><br><span class="line">sys    0m0.000s</span><br><span class="line">[root@localhost 批量处理文件]# </span><br></pre></td></tr></table></figure>
<p>执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name \*.c -exec grep -n -- --help &#123;&#125; /dev/null \;</span><br></pre></td></tr></table></figure>
<p>需要的时间：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 批量处理文件]# time find . -name \*.c -exec grep -n -- --help &#123;&#125; /dev/null \;</span><br><span class="line">./hello.c:5:--help</span><br><span class="line">./world.c:5:--help</span><br><span class="line">./b/WorldHello.c:6:--help</span><br><span class="line"></span><br><span class="line">real    0m0.044s</span><br><span class="line">user    0m0.000s</span><br><span class="line">sys    0m0.010s</span><br><span class="line">[root@localhost 批量处理文件]# </span><br></pre></td></tr></table></figure>
<p>可以看到使用xargs确实节省和时间。</p>
<h1 id="xargs：将标准输入组织成命令执行"><a href="#xargs：将标准输入组织成命令执行" class="headerlink" title="xargs：将标准输入组织成命令执行"></a>xargs：将标准输入组织成命令执行</h1><ul>
<li>将标准输入构造为命令的命令行参数</li>
<li>如果标准输入的数据量很大，xargs指定的处理程序会启动多个进程运行，每个进程处理一批。</li>
<li>可以使用xargs的-n选项指定每批处理多少个</li>
<li>xargs经常与find配合使用，也可以与其它命令组合使用</li>
</ul>
<h1 id="xargs-构造参数列表并运行命令"><a href="#xargs-构造参数列表并运行命令" class="headerlink" title="xargs:构造参数列表并运行命令"></a>xargs:构造参数列表并运行命令</h1><p>解决shell文件名生成时，因为文件太多，缓冲区空间受限而文件名展开失败的问题</p>
<p>对于命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -f *.dat</span><br></pre></td></tr></table></figure>
<p>如果匹配的文件很多，则文件名*.dat可能会展开失败，<br>此时可以使用下面的命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls | grep &quot;.dat$&quot; | xargs rm -f</span><br></pre></td></tr></table></figure>
<p>find命中目录名因删除目录导致目录遍历过程遇到麻烦</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name CVS -exec rm -rf &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<p>改为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name CVS -print | xargs rm -rf</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/a84f434c/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/a84f434c/" class="post-title-link" itemprop="url">Linux 目录遍历命令find的应用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-08 01:52:55" itemprop="dateCreated datePublished" datetime="2021-06-08T01:52:55+08:00">2021-06-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%92%8C%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">文件管理和目录管理</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/a84f434c/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/a84f434c/" data-xid="/blog/a84f434c/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>5.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>5 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Linux-目录遍历命令find的应用"><a href="#Linux-目录遍历命令find的应用" class="headerlink" title="Linux 目录遍历命令find的应用"></a>Linux 目录遍历命令find的应用</h1><h2 id="查找当前目录下的所有目录"><a href="#查找当前目录下的所有目录" class="headerlink" title="查找当前目录下的所有目录"></a>查找当前目录下的所有目录</h2><p>从当前目录开始查找，寻找所有目录，打印路径名：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -type d -print</span><br></pre></td></tr></table></figure>
<p>结果：按层次列出当前的目录结构</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── hello</span><br><span class="line">│   └── world</span><br><span class="line">│       └── HelloWorld.c</span><br><span class="line">├── ht.c</span><br><span class="line">└── 文件管理</span><br><span class="line">    ├── HelloWorld2.c</span><br><span class="line">    ├── HelloWorld.c</span><br><span class="line">    ├── p1.c</span><br><span class="line">    └── p2.c</span><br><span class="line"></span><br><span class="line">3 directories, 6 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# find . -type d -print</span><br><span class="line">.</span><br><span class="line">./hello</span><br><span class="line">./hello/world</span><br><span class="line">./文件管理</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<p>指定了两个条件：名字与stud*匹配，类型为目录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name &#x27;stud*&#x27; -type d -print</span><br></pre></td></tr></table></figure>
<h2 id="使用多个条件选项"><a href="#使用多个条件选项" class="headerlink" title="使用多个条件选项"></a>使用多个条件选项</h2><p>两个条件逻辑“与”，必须同时符合这两个条件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── hello</span><br><span class="line">│   └── world</span><br><span class="line">│       └── HelloWorld.c</span><br><span class="line">├── hello2</span><br><span class="line">│   ├── HelloWorld2.c</span><br><span class="line">│   ├── HelloWorld.c</span><br><span class="line">│   ├── p1.c</span><br><span class="line">│   └── p2.c</span><br><span class="line">└── ht.c</span><br><span class="line"></span><br><span class="line">3 directories, 6 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# find . -name &#x27;hello*&#x27; -type d -print</span><br><span class="line">./hello</span><br><span class="line">./hello2</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h2 id="检索最近10天内修改过的普通文件"><a href="#检索最近10天内修改过的普通文件" class="headerlink" title="检索最近10天内修改过的普通文件"></a>检索最近10天内修改过的普通文件</h2><p>从根目录开始检索最近10天之内曾经修改过的普通磁盘文件（目录不算）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -type f -mtime -10 -print</span><br></pre></td></tr></table></figure>
<p>当前的时间：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# date</span><br><span class="line">2021年 06月 09日 星期三 13:29:26 CST</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>
<p>当前目录树结构，以及各个文件的最后修改时间：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── hello</span><br><span class="line">│   └── HelloWorld.c</span><br><span class="line">├── hello2</span><br><span class="line">│   ├── HelloWorld2.c</span><br><span class="line">│   ├── HelloWorld.c</span><br><span class="line">│   ├── p1.c</span><br><span class="line">│   └── p2.c</span><br><span class="line">└── ht.c</span><br><span class="line"></span><br><span class="line">2 directories, 6 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# ls -l *</span><br><span class="line">-rw-r--r--. 1 root root   34 6月   3 17:33 ht.c</span><br><span class="line"></span><br><span class="line">hello:</span><br><span class="line">总用量 0</span><br><span class="line">-rw-r--r--. 1 root root 0 6月   7 16:49 HelloWorld.c</span><br><span class="line"></span><br><span class="line">hello2:</span><br><span class="line">总用量 16</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:17 HelloWorld2.c</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:17 HelloWorld.c</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:00 p1.c</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:16 p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<p>查找刚好5天之前更新的文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find . -type f -mtime 5 -print</span><br><span class="line">./ht.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<p>查找刚好6天之前更新的文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find . -type f -mtime 6 -print</span><br><span class="line">./hello2/HelloWorld2.c</span><br><span class="line">./hello2/HelloWorld.c</span><br><span class="line">./hello2/p1.c</span><br><span class="line">./hello2/p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<p>查找5天之前更新的文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find . -type f -mtime +4 -print</span><br><span class="line">./hello2/HelloWorld2.c</span><br><span class="line">./hello2/HelloWorld.c</span><br><span class="line">./hello2/p1.c</span><br><span class="line">./hello2/p2.c</span><br><span class="line">./ht.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h2 id="使用逻辑运算符非"><a href="#使用逻辑运算符非" class="headerlink" title="使用逻辑运算符非!"></a>使用逻辑运算符非!</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . ! -type d -links +2 -print</span><br></pre></td></tr></table></figure>
<p>从当前目录开始检索link数大于2的非目录文件<br>条件“非”用！<br>注意：!号与-type之间必须保留一空格</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find . -type f -mtime 6 -print</span><br><span class="line">./hello2/HelloWorld2.c</span><br><span class="line">./hello2/HelloWorld.c</span><br><span class="line">./hello2/p1.c</span><br><span class="line">./hello2/p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# find . -type f ! -mtime 6 -print</span><br><span class="line">./hello/HelloWorld.c</span><br><span class="line">./ht.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h2 id="使用逻辑运算或-o"><a href="#使用逻辑运算或-o" class="headerlink" title="使用逻辑运算或-o"></a>使用逻辑运算或-o</h2><p>寻找当前目录下大于100字节的名叫hello的或.c后缀的文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# tree -Nh</span><br><span class="line">.</span><br><span class="line">├── [ 131]  arg.c</span><br><span class="line">├── [4.0K]  hello</span><br><span class="line">│   └── [   0]  HelloWorld.c</span><br><span class="line">├── [4.0K]  hello2</span><br><span class="line">│   ├── [  66]  HelloWorld2.c</span><br><span class="line">│   ├── [  66]  HelloWorld.c</span><br><span class="line">│   ├── [  66]  p1.c</span><br><span class="line">│   └── [  66]  p2.c</span><br><span class="line">├── [ 121]  helloworld.c</span><br><span class="line">└── [  34]  ht.c</span><br><span class="line"></span><br><span class="line">2 directories, 8 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# find -size +100c \( -name &#x27;hello&#x27; -o -name &#x27;*.c&#x27; \) -print</span><br><span class="line">./hello</span><br><span class="line">./arg.c</span><br><span class="line">./helloworld.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<ul>
<li>使用了两条件“或” (-o)及组合(圆括号)</li>
<li>不要遗漏了所必需的引号，反斜线和空格，尤其是圆括号前和圆括号后。圆括号是shell的特殊字符，所以需要写成<code>\(</code>或<code>\)</code></li>
</ul>
<p>其他写法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find -size +100c &#x27;(&#x27; -name &#x27;hello&#x27; -o -name &#x27;*.c&#x27; &#x27;)&#x27; -print</span><br><span class="line">./hello</span><br><span class="line">./arg.c</span><br><span class="line">./helloworld.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find -size +100c \( -name &#x27;hello&#x27; -o -name &#x27;*.c&#x27; &#x27;)&#x27; -print</span><br><span class="line">./hello</span><br><span class="line">./arg.c</span><br><span class="line">./helloworld.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h2 id="find-exec执行命令"><a href="#find-exec执行命令" class="headerlink" title="find -exec执行命令"></a>find -exec执行命令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -type d -print -exec ls -l &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>-exec</code>及随后的分号<code>;</code>之间的内容作为一条命令执行</li>
<li><code>shell</code>中分号<code>;</code>有特殊含义，前面加反斜线\</li>
<li><code>&#123;&#125;</code>代表遍历时所查到的符合条件的路径名。注意，<strong>两花括号间无空格，之后的空格不可省略</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── arg.c</span><br><span class="line">├── hello</span><br><span class="line">│   └── HelloWorld.c</span><br><span class="line">├── hello2</span><br><span class="line">│   ├── HelloWorld2.c</span><br><span class="line">│   ├── HelloWorld.c</span><br><span class="line">│   ├── p1.c</span><br><span class="line">│   └── p2.c</span><br><span class="line">├── helloworld.c</span><br><span class="line">└── ht.c</span><br><span class="line"></span><br><span class="line">2 directories, 8 files</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>
<p>查找当前目录下的子目录，并对这些子目录执行<code>ls -l</code>命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find . -type d -print -exec ls -l &#123;&#125; \;</span><br><span class="line">.</span><br><span class="line">总用量 20</span><br><span class="line">-rw-r--r--. 1 root root  131 6月   9 14:12 arg.c</span><br><span class="line">drwxr-xr-x. 2 root root 4096 6月   9 13:28 hello</span><br><span class="line">drwxr-xr-x. 2 root root 4096 6月   8 01:23 hello2</span><br><span class="line">-rw-r--r--. 1 root root  121 6月   9 14:13 helloworld.c</span><br><span class="line">-rw-r--r--. 1 root root   34 6月   3 17:33 ht.c</span><br><span class="line">./hello</span><br><span class="line">总用量 0</span><br><span class="line">-rw-r--r--. 1 root root 0 6月   7 16:49 HelloWorld.c</span><br><span class="line">./hello2</span><br><span class="line">总用量 16</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:17 HelloWorld2.c</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:17 HelloWorld.c</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:00 p1.c</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:16 p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>
<p>查找当前目录下的子目录，不包括这个<code>.</code>目录，并对这些子目录执行<code>ls -l</code>命令。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find . -type d ! -name &#x27;.&#x27;  -print -exec ls -l &#123;&#125; \;</span><br><span class="line">./hello</span><br><span class="line">总用量 0</span><br><span class="line">-rw-r--r--. 1 root root 0 6月   7 16:49 HelloWorld.c</span><br><span class="line">./hello2</span><br><span class="line">总用量 16</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:17 HelloWorld2.c</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:17 HelloWorld.c</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:00 p1.c</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:16 p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h2 id="find-ok执行命令"><a href="#find-ok执行命令" class="headerlink" title="find -ok执行命令"></a>find -ok执行命令</h2><p>-ok选项在执行指定的命令前等待用户确认</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find . -type d -print -ok ls -l &#123;&#125; \;</span><br><span class="line">.</span><br><span class="line">&lt; ls ... . &gt; ? n</span><br><span class="line">./hello</span><br><span class="line">&lt; ls ... ./hello &gt; ? y</span><br><span class="line">总用量 0</span><br><span class="line">-rw-r--r--. 1 root root 0 6月   7 16:49 HelloWorld.c</span><br><span class="line">./hello2</span><br><span class="line">&lt; ls ... ./hello2 &gt; ? y</span><br><span class="line">总用量 16</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:17 HelloWorld2.c</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:17 HelloWorld.c</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:00 p1.c</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:16 p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h2 id="利用find的递归式遍历目录的功能在文件中搜寻字符串"><a href="#利用find的递归式遍历目录的功能在文件中搜寻字符串" class="headerlink" title="利用find的递归式遍历目录的功能在文件中搜寻字符串"></a>利用find的递归式遍历目录的功能在文件中搜寻字符串</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find src -name \*.c -exec grep -n -- --help &#123;&#125; /dev/null \;</span><br></pre></td></tr></table></figure>
<p>在目录src中所有.c文件中查找–help字符串<br>grep的-n选项，–选项，&#x2F;dev&#x2F;null文件的作用<br>其他类似做法：将满足条件的文件转码或者对文件进行其他分析处理等</p>
<p>运行效果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── arg.c</span><br><span class="line">├── hello</span><br><span class="line">│   └── HelloWorld.c</span><br><span class="line">├── hello2</span><br><span class="line">│   ├── HelloWorld2.c</span><br><span class="line">│   ├── HelloWorld.c</span><br><span class="line">│   ├── p1.c</span><br><span class="line">│   └── p2.c</span><br><span class="line">├── helloworld.c</span><br><span class="line">└── ht.c</span><br><span class="line"></span><br><span class="line">2 directories, 8 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# cat ht.c </span><br><span class="line">56</span><br><span class="line">-1</span><br><span class="line">-4</span><br><span class="line">8</span><br><span class="line">--help</span><br><span class="line">--hello</span><br><span class="line">--world</span><br><span class="line">[root@localhost 文件管理和目录管理]# find . -name \*.c -exec grep -n -- --help &#123;&#125; /dev/null \;</span><br><span class="line">./ht.c:5:--help</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/691c316/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/691c316/" class="post-title-link" itemprop="url">Linux 目录遍历的命令</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-07 16:44:13" itemprop="dateCreated datePublished" datetime="2021-06-07T16:44:13+08:00">2021-06-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%92%8C%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">文件管理和目录管理</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/691c316/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/691c316/" data-xid="/blog/691c316/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>5.8k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>5 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="find-遍历目录树"><a href="#find-遍历目录树" class="headerlink" title="find:遍历目录树"></a>find:遍历目录树</h1><h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><p>find命令从指定的查找范围开始，递归地查找子目录，<strong>凡满足条件的文件或目录，执行规定的动作</strong></p>
<h2 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find verl.d ver2.d -name &#x27;*.c&#x27; -print</span><br></pre></td></tr></table></figure>
<p>范围：当前目录的子目录ver1.d 和ver2.d<br>条件：与名字*.c匹配。注:*.c应当用引号括起<br>动作：把查找到的文件的路径名打印出来</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── hello</span><br><span class="line">│   └── world</span><br><span class="line">│       └── HelloWorld</span><br><span class="line">│           └── HelloWorld.c</span><br><span class="line">├── ht.c</span><br><span class="line">└── 文件管理</span><br><span class="line">    ├── HelloWorld2.c</span><br><span class="line">    ├── HelloWorld.c</span><br><span class="line">    └── 备份</span><br><span class="line">        ├── p1.c</span><br><span class="line">        └── p2.c</span><br><span class="line"></span><br><span class="line">5 directories, 6 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# find hello/ 文件管理/ -name &#x27;*.c&#x27; -print</span><br><span class="line">hello/world/HelloWorld/HelloWorld.c</span><br><span class="line">文件管理/HelloWorld2.c</span><br><span class="line">文件管理/HelloWorld.c</span><br><span class="line">文件管理/备份/p1.c</span><br><span class="line">文件管理/备份/p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>

<h2 id="find命令的特点"><a href="#find命令的特点" class="headerlink" title="find命令的特点"></a>find命令的特点</h2><p>命令的特点</p>
<ul>
<li>功能强，选项较多</li>
<li>递归式查找，提供了一种遍历目录树的手段</li>
<li>find命令提供的灵活性：在“动作”中可以指定任何命令（也包括用户自己编写的处理程序），使得find成为一个任意处理命令可以借用来进行目录遍历的壳（类似awk对文本的逐行扫描，find对目录森林中的文件和目录逐个扫描）</li>
</ul>
<h1 id="find关于条件的选项"><a href="#find关于条件的选项" class="headerlink" title="find关于条件的选项"></a>find关于条件的选项</h1><h2 id="name-wildcard"><a href="#name-wildcard" class="headerlink" title="-name wildcard"></a>-name wildcard</h2><p>wildcard表示<strong>文件名通配符</strong>。<br><code>文件名</code>与<code>wildcard</code>匹配，注意：</p>
<ul>
<li><strong>必需的引号</strong><ul>
<li>这样shell不会对通配符进行替换</li>
</ul>
</li>
<li><strong>这里的“文件名”仅指路径名的最后一部分</strong></li>
<li>对通配符的解释由find完成</li>
</ul>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── hello</span><br><span class="line">│   └── world</span><br><span class="line">│       └── HelloWorld</span><br><span class="line">│           └── HelloWorld.c</span><br><span class="line">├── ht.c</span><br><span class="line">└── 文件管理</span><br><span class="line">    ├── HelloWorld2.c</span><br><span class="line">    ├── HelloWorld.c</span><br><span class="line">    └── 备份</span><br><span class="line">        ├── p1.c</span><br><span class="line">        └── p2.c</span><br><span class="line"></span><br><span class="line">5 directories, 6 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# find -name &#x27;*World*.c&#x27;</span><br><span class="line">./hello/world/HelloWorld/HelloWorld.c</span><br><span class="line">./文件管理/HelloWorld2.c</span><br><span class="line">./文件管理/HelloWorld.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>

<h2 id="regex-pattern"><a href="#regex-pattern" class="headerlink" title="-regex pattern"></a>-regex pattern</h2><p>整个路径名与正则表达式pattern匹配</p>
<h3 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── hello</span><br><span class="line">│   └── world</span><br><span class="line">│       └── HelloWorld</span><br><span class="line">│           └── HelloWorld.c</span><br><span class="line">├── ht.c</span><br><span class="line">└── 文件管理</span><br><span class="line">    ├── HelloWorld2.c</span><br><span class="line">    ├── HelloWorld.c</span><br><span class="line">    └── 备份</span><br><span class="line">        ├── p1.c</span><br><span class="line">        └── p2.c</span><br><span class="line"></span><br><span class="line">5 directories, 6 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# find -regex &#x27;.*[0-9]\.c&#x27;</span><br><span class="line">./文件管理/HelloWorld2.c</span><br><span class="line">./文件管理/备份/p1.c</span><br><span class="line">./文件管理/备份/p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>

<h2 id="type-文件类型"><a href="#type-文件类型" class="headerlink" title="-type 文件类型"></a>-type 文件类型</h2><p>这里的文件类型使用一个字母来表示，下标是文件类型字母和对应的文件类型。</p>
<table>
<thead>
<tr>
<th align="left">find -type的选项</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">f</td>
<td align="left">普通文件</td>
</tr>
<tr>
<td align="left">d</td>
<td align="left">目录</td>
</tr>
<tr>
<td align="left">l</td>
<td align="left">符号连接文件</td>
</tr>
<tr>
<td align="left">c</td>
<td align="left">字符设备文件</td>
</tr>
<tr>
<td align="left">b</td>
<td align="left">块设备文件</td>
</tr>
<tr>
<td align="left">p</td>
<td align="left">管道文件</td>
</tr>
</tbody></table>
<h3 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h3><p>当前目录结构：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── hello</span><br><span class="line">│   └── world</span><br><span class="line">│       └── HelloWorld</span><br><span class="line">│           └── HelloWorld.c</span><br><span class="line">├── ht.c</span><br><span class="line">└── 文件管理</span><br><span class="line">    ├── HelloWorld2.c</span><br><span class="line">    ├── HelloWorld.c</span><br><span class="line">    └── 备份</span><br><span class="line">        ├── p1.c</span><br><span class="line">        └── p2.c</span><br><span class="line"></span><br><span class="line">5 directories, 6 files</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>
<h4 id="find找出所有的子目录"><a href="#find找出所有的子目录" class="headerlink" title="find找出所有的子目录"></a>find找出所有的子目录</h4><p>遍历当前目录，找出所有的子目录。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find -type d</span><br><span class="line">.</span><br><span class="line">./hello</span><br><span class="line">./hello/world</span><br><span class="line">./hello/world/HelloWorld</span><br><span class="line">./文件管理</span><br><span class="line">./文件管理/备份</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>
<h4 id="find找出所有的普通文件："><a href="#find找出所有的普通文件：" class="headerlink" title="find找出所有的普通文件："></a>find找出所有的普通文件：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find -type f</span><br><span class="line">./hello/world/HelloWorld/HelloWorld.c</span><br><span class="line">./ht.c</span><br><span class="line">./文件管理/HelloWorld2.c</span><br><span class="line">./文件管理/HelloWorld.c</span><br><span class="line">./文件管理/备份/p1.c</span><br><span class="line">./文件管理/备份/p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h2 id="size-±n单位"><a href="#size-±n单位" class="headerlink" title="-size ±n单位"></a>-size ±n单位</h2><h3 id="帮助文档："><a href="#帮助文档：" class="headerlink" title="帮助文档："></a>帮助文档：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">-size n[cwbkMG]</span><br><span class="line">        File uses n units of space.  The following suffixes can be used:</span><br><span class="line"></span><br><span class="line">        `b&#x27;    for 512-byte blocks (this is the default if no suffix is used)</span><br><span class="line"></span><br><span class="line">        `c&#x27;    for bytes</span><br><span class="line"></span><br><span class="line">        `w&#x27;    for two-byte words</span><br><span class="line"></span><br><span class="line">        `k&#x27;    for Kilobytes (units of 1024 bytes)</span><br><span class="line"></span><br><span class="line">        `M&#x27;    for Megabytes (units of 1048576 bytes)</span><br><span class="line"></span><br><span class="line">        `G&#x27;    for Gigabytes (units of 1073741824 bytes)</span><br><span class="line"></span><br><span class="line">        The size does not count indirect blocks, but it does count blocks in sparse files that are not actually allocated.  Bear in mind that  the</span><br><span class="line">        `%k&#x27;  and  `%b&#x27;  format  specifiers of -printf handle sparse files differently.  The `b&#x27; suffix always denotes 512-byte blocks and never 1</span><br><span class="line">        Kilobyte blocks, which is different to the behaviour of -ls.</span><br></pre></td></tr></table></figure>
<p>指定文件大小（大于+，等于，小于-）</p>
<table>
<thead>
<tr>
<th align="left">find -size单位标识符</th>
<th align="left">大小</th>
</tr>
</thead>
<tbody><tr>
<td align="left">c</td>
<td align="left">字节</td>
</tr>
<tr>
<td align="left">w</td>
<td align="left">双字节</td>
</tr>
<tr>
<td align="left">k</td>
<td align="left">千字节</td>
</tr>
<tr>
<td align="left">M</td>
<td align="left">兆字节</td>
</tr>
<tr>
<td align="left">G</td>
<td align="left">千兆字节</td>
</tr>
</tbody></table>
<h3 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h3><p>当前目录下各个文件的大小：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# tree -Nh</span><br><span class="line">.</span><br><span class="line">├── [4.0K]  hello</span><br><span class="line">│   └── [4.0K]  world</span><br><span class="line">│       └── [4.0K]  HelloWorld</span><br><span class="line">│           └── [   0]  HelloWorld.c</span><br><span class="line">├── [  34]  ht.c</span><br><span class="line">└── [4.0K]  文件管理</span><br><span class="line">    ├── [  66]  HelloWorld2.c</span><br><span class="line">    ├── [  66]  HelloWorld.c</span><br><span class="line">    └── [4.0K]  备份</span><br><span class="line">        ├── [  66]  p1.c</span><br><span class="line">        └── [  66]  p2.c</span><br><span class="line"></span><br><span class="line">5 directories, 6 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h4 id="查找大小为66个字节的文件："><a href="#查找大小为66个字节的文件：" class="headerlink" title="查找大小为66个字节的文件："></a>查找大小为66个字节的文件：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find -size 66c</span><br><span class="line">./文件管理/HelloWorld2.c</span><br><span class="line">./文件管理/HelloWorld.c</span><br><span class="line">./文件管理/备份/p1.c</span><br><span class="line">./文件管理/备份/p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<p>使用的单位为<code>w</code>,<code>w</code>是双字节的意思。33w也就是66字节</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find -size 33w</span><br><span class="line">./文件管理/HelloWorld2.c</span><br><span class="line">./文件管理/HelloWorld.c</span><br><span class="line">./文件管理/备份/p1.c</span><br><span class="line">./文件管理/备份/p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h4 id="查找大小小于66字节的文件"><a href="#查找大小小于66字节的文件" class="headerlink" title="查找大小小于66字节的文件"></a>查找大小小于66字节的文件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find -size -66c</span><br><span class="line">./hello/world/HelloWorld/HelloWorld.c</span><br><span class="line">./ht.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h4 id="查找大于66字节的文件"><a href="#查找大于66字节的文件" class="headerlink" title="查找大于66字节的文件"></a>查找大于66字节的文件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find -size +66c</span><br><span class="line">.</span><br><span class="line">./hello</span><br><span class="line">./hello/world</span><br><span class="line">./hello/world/HelloWorld</span><br><span class="line">./文件管理</span><br><span class="line">./文件管理/备份</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>

<h2 id="mtime-±ndays"><a href="#mtime-±ndays" class="headerlink" title="-mtime ±ndays"></a>-mtime ±ndays</h2><p>文件最近修改时间</p>
<h3 id="帮助文档"><a href="#帮助文档" class="headerlink" title="帮助文档"></a>帮助文档</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-mmin n</span><br><span class="line">        对文件数据的最近一次修改是在 n 分钟之前。</span><br><span class="line"></span><br><span class="line">-mtime n</span><br><span class="line">        对文件数据的最近一次修改是在 n*24 小时之前。</span><br></pre></td></tr></table></figure>
<h3 id="示例-4"><a href="#示例-4" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── hello</span><br><span class="line">│   └── world</span><br><span class="line">│       └── HelloWorld</span><br><span class="line">│           └── HelloWorld.c</span><br><span class="line">├── ht.c</span><br><span class="line">└── 文件管理</span><br><span class="line">    ├── HelloWorld2.c</span><br><span class="line">    ├── HelloWorld.c</span><br><span class="line">    └── 备份</span><br><span class="line">        ├── p1.c</span><br><span class="line">        └── p2.c</span><br><span class="line"></span><br><span class="line">5 directories, 6 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# ls -l</span><br><span class="line">总用量 12</span><br><span class="line">drwxr-xr-x. 3 root root 4096 6月   7 16:17 hello</span><br><span class="line">-rw-r--r--. 1 root root   34 6月   3 17:33 ht.c</span><br><span class="line">drwxr-xr-x. 3 root root 4096 6月   2 17:28 文件管理</span><br><span class="line">[root@localhost 文件管理和目录管理]# ls -l 文件管理/*</span><br><span class="line">-rw-r--r--. 1 root root   66 6月   2 17:17 文件管理/HelloWorld2.c</span><br><span class="line">-rw-r--r--. 1 root root   66 6月   2 17:17 文件管理/HelloWorld.c</span><br><span class="line"></span><br><span class="line">文件管理/备份:</span><br><span class="line">总用量 8</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:00 p1.c</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:16 p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# ls -l hello/world/*</span><br><span class="line">总用量 0</span><br><span class="line">-rw-r--r--. 1 root root 0 6月   7 16:49 HelloWorld.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# date</span><br><span class="line">2021年 06月 07日 星期一 23:46:44 CST</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>
<p>查找6月3日(4天之前)的文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find -mtime 4</span><br><span class="line">./ht.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# ls -l</span><br><span class="line">总用量 12</span><br><span class="line">drwxr-xr-x. 3 root root 4096 6月   7 16:17 hello</span><br><span class="line">-rw-r--r--. 1 root root   34 6月   3 17:33 ht.c</span><br><span class="line">drwxr-xr-x. 3 root root 4096 6月   2 17:28 文件管理</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>
<p>查找6月2日（5天之前）的文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find -mtime 5</span><br><span class="line">./文件管理</span><br><span class="line">./文件管理/HelloWorld2.c</span><br><span class="line">./文件管理/HelloWorld.c</span><br><span class="line">./文件管理/备份</span><br><span class="line">./文件管理/备份/p1.c</span><br><span class="line">./文件管理/备份/p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h2 id="newer-file"><a href="#newer-file" class="headerlink" title="-newer file"></a>-newer file</h2><p>文件最近修改时间比file的还晚的文件。<br>当前文件目录下和子目录下的文件的最后修改时间：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# ls -l *</span><br><span class="line">-rw-r--r--. 1 root root    0 6月   7 16:49 HelloWorld.c</span><br><span class="line">-rw-r--r--. 1 root root   34 6月   3 17:33 ht.c</span><br><span class="line"></span><br><span class="line">文件管理:</span><br><span class="line">总用量 16</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:17 HelloWorld2.c</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:17 HelloWorld.c</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:00 p1.c</span><br><span class="line">-rw-r--r--. 1 root root 66 6月   2 17:16 p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>
<p>查找比p2.c修改时间晚的文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# find -newer 文件管理/p2.c </span><br><span class="line">.</span><br><span class="line">./HelloWorld.c</span><br><span class="line">./ht.c</span><br><span class="line">./文件管理</span><br><span class="line">./文件管理/HelloWorld2.c</span><br><span class="line">./文件管理/HelloWorld.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>

<h2 id="其它条件选项"><a href="#其它条件选项" class="headerlink" title="其它条件选项"></a>其它条件选项</h2><p>（文件属性字段可用来对遍历到的目标进行筛选，查阅find手册）</p>
<ul>
<li>指定i节点号<code>-inum</code></li>
<li>可指定文件主<code>-user</code>，<code>-nouser</code></li>
<li>可指定用户组<code>-group</code>，<code>-nogroup</code></li>
<li>指定link数<code>-links</code></li>
<li>指定路径深度<code>-depth</code></li>
<li>指定文件的访问权限<code>-perm</code></li>
</ul>
<h2 id="复合条件"><a href="#复合条件" class="headerlink" title="复合条件"></a>复合条件</h2><p>可以用<code>()</code> <code>–o</code> <code>!</code>等表示多条件的“与”，“或”，“非”</p>
<h1 id="find关于动作的选项"><a href="#find关于动作的选项" class="headerlink" title="find关于动作的选项"></a>find关于动作的选项</h1><h2 id="print"><a href="#print" class="headerlink" title="-print"></a>-print</h2><p>打印查找的文件的路径名</p>
<h2 id="exec"><a href="#exec" class="headerlink" title="-exec"></a>-exec</h2><ul>
<li>对查找到的目标执行某一命令</li>
<li>在<code>-exec</code>及随后的分号之间的内容作为一条命令<br>在这命令的命令参数中，<code>&#123;&#125;</code>代表遍历到的目标文件的路径名</li>
</ul>
<h2 id="ok"><a href="#ok" class="headerlink" title="-ok"></a>-ok</h2><ul>
<li>与<code>-exec</code>类似，只是对查找到符合条件的目标执行一个命令前需要经过操作员确认。</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/8cd20aa2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/8cd20aa2/" class="post-title-link" itemprop="url">Linux 目录管理</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-03 17:41:46" itemprop="dateCreated datePublished" datetime="2021-06-03T17:41:46+08:00">2021-06-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%92%8C%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">文件管理和目录管理</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/8cd20aa2/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/8cd20aa2/" data-xid="/blog/8cd20aa2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>4.8k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>4 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="路径名"><a href="#路径名" class="headerlink" title="路径名"></a>路径名</h1><h2 id="文件-与"><a href="#文件-与" class="headerlink" title="文件.与.."></a>文件.与..</h2><p>在目录表中确实有<code>.</code>和<code>..</code>这两个文件，这两个目录项由系统创建和删除。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# ls -a</span><br><span class="line">.  ..  ht.c  文件管理和目录管理2</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>

<h2 id="主目录-Home-Directory"><a href="#主目录-Home-Directory" class="headerlink" title="主目录(Home Directory)"></a>主目录(Home Directory)</h2><ul>
<li>每个用户都有自己独立的主目录</li>
<li>用env命令查环境变量HOME的值</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# env|grep &#x27;HOME&#x27;</span><br><span class="line">JRE_HOME=/opt/java/jdk1.8.0_281/jre</span><br><span class="line">JAVA_HOME=/opt/java/jdk1.8.0_281</span><br><span class="line">HOME=/root</span><br><span class="line">CLASSPATH=.:JAVA_HOME/lib:JRE_HOME/lib:</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h2 id="绝对路径名与相对路径名"><a href="#绝对路径名与相对路径名" class="headerlink" title="绝对路径名与相对路径名"></a>绝对路径名与相对路径名</h2><p>linux的路径分量分隔符用斜线&#x2F;，而不是反斜线<br>以斜线开头的是绝对路径，例如</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/home/stud/liu</span><br></pre></td></tr></table></figure>
<p>没有斜线开头的则是从当前目录开始的相对路径：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test/case1/conf</span><br></pre></td></tr></table></figure>


<h2 id="当前工作目录"><a href="#当前工作目录" class="headerlink" title="当前工作目录"></a>当前工作目录</h2><p>当前工作目录是<strong>进程属性</strong>的一部分，每进程一个。</p>
<h1 id="打印-x2F-改变当前目录"><a href="#打印-x2F-改变当前目录" class="headerlink" title="打印&#x2F;改变当前目录"></a>打印&#x2F;改变当前目录</h1><h2 id="pwd命令：打印当前工作目录"><a href="#pwd命令：打印当前工作目录" class="headerlink" title="pwd命令：打印当前工作目录"></a>pwd命令：打印当前工作目录</h2><p>print working directory</p>
<h2 id="cd命令：改变当前工作目录"><a href="#cd命令：改变当前工作目录" class="headerlink" title="cd命令：改变当前工作目录"></a>cd命令：改变当前工作目录</h2><p>(Change Directory)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/include</span><br></pre></td></tr></table></figure>
<p>斜线前必须有空格：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ..</span><br></pre></td></tr></table></figure>
<p>cd命令无实参，直接输入cd回车:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd</span><br></pre></td></tr></table></figure>
<ul>
<li>在Windows中，打印当前工作目录</li>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">G:\Desktop\test\CMD&gt;cd</span><br><span class="line">G:\Desktop\test\CMD</span><br><span class="line">G:\Desktop\test\CMD&gt;</span><br></pre></td></tr></table></figure></li>
<li>在UNIX中，回到用户的主目录(Home Directory)</li>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# cd</span><br><span class="line">[root@localhost ~]# </span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p><strong>cd是shell的一个内部命令</strong></p>
<h1 id="创建-x2F-删除目录"><a href="#创建-x2F-删除目录" class="headerlink" title="创建&#x2F;删除目录"></a>创建&#x2F;删除目录</h1><h2 id="创建目录mkdir"><a href="#创建目录mkdir" class="headerlink" title="创建目录mkdir"></a>创建目录mkdir</h2><p>例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir sun/work.d</span><br></pre></td></tr></table></figure>
<p>mkdir除创建目录外，系统自动建立文件.与..</p>
<h3 id="选项-p"><a href="#选项-p" class="headerlink" title="选项-p"></a>选项-p</h3><p>自动创建路径中不存在的目录。<br>例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir database/2019/09/04/log</span><br></pre></td></tr></table></figure>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── ht.c</span><br><span class="line">└── 文件管理</span><br><span class="line">    ├── HelloWorld2.c</span><br><span class="line">    ├── HelloWorld.c</span><br><span class="line">    └── 备份</span><br><span class="line">        ├── p1.c</span><br><span class="line">        └── p2.c</span><br><span class="line"></span><br><span class="line">2 directories, 5 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# mkdir hello/world/HelloWorld</span><br><span class="line">mkdir: 无法创建目录&quot;hello/world/HelloWorld&quot;: 没有那个文件或目录</span><br><span class="line">[root@localhost 文件管理和目录管理]# mkdir -p hello/world/HelloWorld</span><br><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── hello</span><br><span class="line">│   └── world</span><br><span class="line">│       └── HelloWorld</span><br><span class="line">├── ht.c</span><br><span class="line">└── 文件管理</span><br><span class="line">    ├── HelloWorld2.c</span><br><span class="line">    ├── HelloWorld.c</span><br><span class="line">    └── 备份</span><br><span class="line">        ├── p1.c</span><br><span class="line">        └── p2.c</span><br><span class="line"></span><br><span class="line">5 directories, 5 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h2 id="删除目录rmdir"><a href="#删除目录rmdir" class="headerlink" title="删除目录rmdir"></a>删除目录rmdir</h2><p>例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rmdir sun/work.d</span><br></pre></td></tr></table></figure>
<p>要求被删除的目录除.与..外无其它文件或目录<br>其他命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -r sun/work.d</span><br></pre></td></tr></table></figure>
<h1 id="cp-复制目录"><a href="#cp-复制目录" class="headerlink" title="cp: 复制目录"></a>cp: 复制目录</h1><h2 id="cp命令选项–r，递归地复制一个目录"><a href="#cp命令选项–r，递归地复制一个目录" class="headerlink" title="cp命令选项–r，递归地复制一个目录"></a>cp命令选项–r，递归地复制一个目录</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r dir1 dir2</span><br></pre></td></tr></table></figure>
<p>根据dir2是否存在，执行结果有差异：</p>
<ul>
<li>若dir2不存在，则新建子目录dir2，把dir1下内容拷入dir2下</li>
<li>若dir2已存在，则dir2下新建子目录dir1，把dir1下内容拷入dir2&#x2F;dir1下</li>
</ul>
<h3 id="cp-r目标目录不存在的情况"><a href="#cp-r目标目录不存在的情况" class="headerlink" title="cp -r目标目录不存在的情况"></a>cp -r目标目录不存在的情况</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── ht.c</span><br><span class="line">└── 文件管理</span><br><span class="line">    ├── HelloWorld2.c</span><br><span class="line">    ├── HelloWorld.c</span><br><span class="line">    └── 备份</span><br><span class="line">        ├── p1.c</span><br><span class="line">        └── p2.c</span><br><span class="line"></span><br><span class="line">2 directories, 5 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# cp -r 文件管理/ 文件管理2</span><br><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── ht.c</span><br><span class="line">├── 文件管理</span><br><span class="line">│   ├── HelloWorld2.c</span><br><span class="line">│   ├── HelloWorld.c</span><br><span class="line">│   └── 备份</span><br><span class="line">│       ├── p1.c</span><br><span class="line">│       └── p2.c</span><br><span class="line">└── 文件管理2</span><br><span class="line">    ├── HelloWorld2.c</span><br><span class="line">    ├── HelloWorld.c</span><br><span class="line">    └── 备份</span><br><span class="line">        ├── p1.c</span><br><span class="line">        └── p2.c</span><br><span class="line"></span><br><span class="line">4 directories, 9 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h3 id="cp-r目标目录已存在的情况"><a href="#cp-r目标目录已存在的情况" class="headerlink" title="cp -r目标目录已存在的情况"></a>cp -r目标目录已存在的情况</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# rm -rf 文件管理2/</span><br><span class="line">[root@localhost 文件管理和目录管理]# mkdir 文件管理3</span><br><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── ht.c</span><br><span class="line">├── 文件管理</span><br><span class="line">│   ├── HelloWorld2.c</span><br><span class="line">│   ├── HelloWorld.c</span><br><span class="line">│   └── 备份</span><br><span class="line">│       ├── p1.c</span><br><span class="line">│       └── p2.c</span><br><span class="line">└── 文件管理3</span><br><span class="line"></span><br><span class="line">3 directories, 5 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# cp -r 文件管理/ 文件管理3</span><br><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── ht.c</span><br><span class="line">├── 文件管理</span><br><span class="line">│   ├── HelloWorld2.c</span><br><span class="line">│   ├── HelloWorld.c</span><br><span class="line">│   └── 备份</span><br><span class="line">│       ├── p1.c</span><br><span class="line">│       └── p2.c</span><br><span class="line">└── 文件管理3</span><br><span class="line">    └── 文件管理</span><br><span class="line">        ├── HelloWorld2.c</span><br><span class="line">        ├── HelloWorld.c</span><br><span class="line">        └── 备份</span><br><span class="line">            ├── p1.c</span><br><span class="line">            └── p2.c</span><br><span class="line"></span><br><span class="line">5 directories, 9 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h2 id="cp-–v：冗长-verbose-方式"><a href="#cp-–v：冗长-verbose-方式" class="headerlink" title="cp –v：冗长(verbose)方式"></a>cp –v：冗长(verbose)方式</h2><p>复制目录时实时列出正在复制的文件的名字</p>
<h2 id="cp-u-增量拷贝"><a href="#cp-u-增量拷贝" class="headerlink" title="cp -u: 增量拷贝"></a>cp -u: 增量拷贝</h2><p>选项–u，增量拷贝(update)，便于备份目录</p>
<ul>
<li>根据文件的时戳，不拷贝相同的或者过时的版本的文件，以提高速度</li>
<li>dir1和dir2不慎颠倒位置，不会出现灾难性后果</li>
<li>Windows中类似功能的命令<code>XCOPY</code>，选项<code>/D</code>可以用来实现增量拷贝(Date)</li>
</ul>
<h3 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h3><p>当前目录结构</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── ht.c</span><br><span class="line">├── 文件管理</span><br><span class="line">│   ├── HelloWorld2.c</span><br><span class="line">│   ├── HelloWorld.c</span><br><span class="line">│   └── 备份</span><br><span class="line">│       ├── p1.c</span><br><span class="line">│       └── p2.c</span><br><span class="line">└── 文件管理3</span><br><span class="line">    └── 文件管理</span><br><span class="line">        ├── HelloWorld2.c</span><br><span class="line">        ├── HelloWorld.c</span><br><span class="line">        └── 备份</span><br><span class="line">            ├── p1.c</span><br><span class="line">            └── p2.c</span><br><span class="line"></span><br><span class="line">5 directories, 9 files</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>
<p>删除子目录文件管理3上的部分目录：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# rm -rf 文件管理3/文件管理/备份/</span><br><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── ht.c</span><br><span class="line">├── 文件管理</span><br><span class="line">│   ├── HelloWorld2.c</span><br><span class="line">│   ├── HelloWorld.c</span><br><span class="line">│   └── 备份</span><br><span class="line">│       ├── p1.c</span><br><span class="line">│       └── p2.c</span><br><span class="line">└── 文件管理3</span><br><span class="line">    └── 文件管理</span><br><span class="line">        ├── HelloWorld2.c</span><br><span class="line">        └── HelloWorld.c</span><br><span class="line"></span><br><span class="line">4 directories, 7 files</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>
<p>递归增量复制：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# cp -r -u 文件管理/ 文件管理3</span><br><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── ht.c</span><br><span class="line">├── 文件管理</span><br><span class="line">│   ├── HelloWorld2.c</span><br><span class="line">│   ├── HelloWorld.c</span><br><span class="line">│   └── 备份</span><br><span class="line">│       ├── p1.c</span><br><span class="line">│       └── p2.c</span><br><span class="line">└── 文件管理3</span><br><span class="line">    └── 文件管理</span><br><span class="line">        ├── HelloWorld2.c</span><br><span class="line">        ├── HelloWorld.c</span><br><span class="line">        └── 备份</span><br><span class="line">            ├── p1.c</span><br><span class="line">            └── p2.c</span><br><span class="line"></span><br><span class="line">5 directories, 9 files</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>
<p>需要注意的是-u只会比较一级子目录下的不同，不会递归子目录树上的不同，如果没有搭配-r参数一起使用的话，可能会达不到效果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── ht.c</span><br><span class="line">├── 文件管理</span><br><span class="line">│   ├── HelloWorld2.c</span><br><span class="line">│   ├── HelloWorld.c</span><br><span class="line">│   └── 备份</span><br><span class="line">│       ├── p1.c</span><br><span class="line">│       └── p2.c</span><br><span class="line">└── 文件管理3</span><br><span class="line">    └── 文件管理</span><br><span class="line">        ├── HelloWorld2.c</span><br><span class="line">        ├── HelloWorld.c</span><br><span class="line">        └── 备份</span><br><span class="line">            ├── p1.c</span><br><span class="line">            └── p2.c</span><br><span class="line"></span><br><span class="line">5 directories, 9 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# rm -rf 文件管理3/文件管理/备份/</span><br><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── ht.c</span><br><span class="line">├── 文件管理</span><br><span class="line">│   ├── HelloWorld2.c</span><br><span class="line">│   ├── HelloWorld.c</span><br><span class="line">│   └── 备份</span><br><span class="line">│       ├── p1.c</span><br><span class="line">│       └── p2.c</span><br><span class="line">└── 文件管理3</span><br><span class="line">    └── 文件管理</span><br><span class="line">        ├── HelloWorld2.c</span><br><span class="line">        └── HelloWorld.c</span><br><span class="line"></span><br><span class="line">4 directories, 7 files</span><br><span class="line">[root@localhost 文件管理和目录管理]# cp -u 文件管理/ 文件管理3</span><br><span class="line">cp: 略过目录&quot;文件管理/&quot;</span><br><span class="line">[root@localhost 文件管理和目录管理]# tree -N</span><br><span class="line">.</span><br><span class="line">├── ht.c</span><br><span class="line">├── 文件管理</span><br><span class="line">│   ├── HelloWorld2.c</span><br><span class="line">│   ├── HelloWorld.c</span><br><span class="line">│   └── 备份</span><br><span class="line">│       ├── p1.c</span><br><span class="line">│       └── p2.c</span><br><span class="line">└── 文件管理3</span><br><span class="line">    └── 文件管理</span><br><span class="line">        ├── HelloWorld2.c</span><br><span class="line">        └── HelloWorld.c</span><br><span class="line"></span><br><span class="line">4 directories, 7 files</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>

<h2 id="复制目录示例"><a href="#复制目录示例" class="headerlink" title="复制目录示例"></a>复制目录示例</h2><p>将目录work.d复制为bak.d<br>若bak.d不存在，执行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r work.d bak.d</span><br></pre></td></tr></table></figure>
<p>若bak.d已存在，执行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r work.d/* bak.d</span><br></pre></td></tr></table></figure>
<h3 id="增量拷贝"><a href="#增量拷贝" class="headerlink" title="增量拷贝"></a>增量拷贝</h3><p>将work.d中的内容增量拷贝到备份目录bak.d中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -ruv work.d/* bak.d</span><br></pre></td></tr></table></figure>
<h1 id="命令touch"><a href="#命令touch" class="headerlink" title="命令touch"></a>命令touch</h1><p>将文件的最后一次修改时间设置为当前时间，但不修改文件内容。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch *.[ch]</span><br></pre></td></tr></table></figure>
<h1 id="rsync-数据备份工具（增量拷贝工具）"><a href="#rsync-数据备份工具（增量拷贝工具）" class="headerlink" title="rsync:数据备份工具（增量拷贝工具）"></a>rsync:数据备份工具（增量拷贝工具）</h1><h2 id="rsync功能"><a href="#rsync功能" class="headerlink" title="rsync功能"></a>rsync功能</h2><p>远程同步<code>remote sync</code>，可以镜像整个目录树</p>
<ul>
<li>问题<ul>
<li>网络中两个主机A和B，都有同一个二进制的大型数据文件big.dat，文件在A上做了改变成为了新版本的big.dat，需要让B也得到新文件</li>
</ul>
</li>
<li>优化的流程，增量文件传输，效率高<ul>
<li>rsync用一精巧的算法，将文件分块，在两主机间传播数据块的hash值，据此推出两版本文件之间区别，使得网络只传输文件的增、删、改部分</li>
</ul>
</li>
<li>Windows下的也有类似工具</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/a192b88d/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/a192b88d/" class="post-title-link" itemprop="url">Linux tree命令中文乱码问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-02 17:46:51" itemprop="dateCreated datePublished" datetime="2021-06-02T17:46:51+08:00">2021-06-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/Debug/" itemprop="url" rel="index"><span itemprop="name">Debug</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/a192b88d/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/a192b88d/" data-xid="/blog/a192b88d/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>819</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="tree命令中文乱码问题"><a href="#tree命令中文乱码问题" class="headerlink" title="tree命令中文乱码问题"></a>tree命令中文乱码问题</h1><p>tree打印目录树时，遇到中文的目录或文件名时，打印的是<code>\数字</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# tree 文件管理和目录管理/</span><br><span class="line">\346\226\207\344\273\266\347\256\241\347\220\206\345\222\214\347\233\256\345\275\225\347\256\241\347\220\206/</span><br><span class="line">└── \346\226\207\344\273\266\347\256\241\347\220\206\345\222\214\347\233\256\345\275\225\347\256\241\347\220\2062</span><br><span class="line">    ├── HelloWorld2.c</span><br><span class="line">    ├── HelloWorld.c</span><br><span class="line">    └── \345\244\207\344\273\275</span><br><span class="line">        ├── p1.c</span><br><span class="line">        └── p2.c</span><br><span class="line"></span><br><span class="line">2 directories, 4 files</span><br><span class="line">[root@localhost Linux_Test]#</span><br></pre></td></tr></table></figure>
<h1 id="解决方案：tree-N"><a href="#解决方案：tree-N" class="headerlink" title="解决方案：tree -N"></a>解决方案：tree -N</h1><p>man tree查看相关选项，可以看到使用-N选项可以<strong>按原样打印不可打印的字符，而不是转义的八进制数。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">FILE OPTIONS</span><br><span class="line">......</span><br><span class="line">       -N     Print non-printable characters as is instead of as escaped octal numbers.</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<p>打印效果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# tree -N 文件管理和目录管理/</span><br><span class="line">文件管理和目录管理/</span><br><span class="line">└── 文件管理和目录管理2</span><br><span class="line">    ├── HelloWorld2.c</span><br><span class="line">    ├── HelloWorld.c</span><br><span class="line">    └── 备份</span><br><span class="line">        ├── p1.c</span><br><span class="line">        └── p2.c</span><br><span class="line"></span><br><span class="line">2 directories, 4 files</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/52a4cedcfea0">https://www.jianshu.com/p/52a4cedcfea0</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/b066b617/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/b066b617/" class="post-title-link" itemprop="url">Linux vim取消搜索高亮</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-02 16:29:47" itemprop="dateCreated datePublished" datetime="2021-06-02T16:29:47+08:00">2021-06-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/vi%E7%BC%96%E8%BE%91%E5%99%A8%E5%8F%8A%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/" itemprop="url" rel="index"><span itemprop="name">vi编辑器及乱码问题</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/b066b617/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/b066b617/" data-xid="/blog/b066b617/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>225</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <!-- Blog/Programmin/Linux/General/VIEditorAndGarbledIssues/CancelSearchHighlight -->
<h1 id="问题：vim搜索的关键字不会自动取消高亮显示"><a href="#问题：vim搜索的关键字不会自动取消高亮显示" class="headerlink" title="问题：vim搜索的关键字不会自动取消高亮显示"></a>问题：vim搜索的关键字不会自动取消高亮显示</h1><p>在vim中使用正则表达式搜索时，匹配的关键字会高亮显示。但当我们不需要搜索时，这些匹配的关键字还是高亮。退出文件后再次用vim打开该文件，还是会高亮显示。</p>
<h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><p>在末行模式下输入：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:noh</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:nohlsearch</span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lanlan2017/images/master/Blog/Programmin/Linux/General/VIEditorAndGarbledIssues/CancelSearchHighlight/1.png" alt="图片"></p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/d0a287a26866">https://www.jianshu.com/p/d0a287a26866</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/k7arm/article/details/77370181">https://blog.csdn.net/k7arm/article/details/77370181</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/d794a6a2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/d794a6a2/" class="post-title-link" itemprop="url">Linux 文件的复制与删除</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-02 16:15:15" itemprop="dateCreated datePublished" datetime="2021-06-02T16:15:15+08:00">2021-06-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%92%8C%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">文件管理和目录管理</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/d794a6a2/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/d794a6a2/" data-xid="/blog/d794a6a2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>7k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>6 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="cp-拷贝文件"><a href="#cp-拷贝文件" class="headerlink" title="cp: 拷贝文件"></a>cp: 拷贝文件</h1><h2 id="格式1：cp-file1-file2"><a href="#格式1：cp-file1-file2" class="headerlink" title="格式1：cp file1 file2"></a>格式1：cp file1 file2</h2><p>第一种格式中：</p>
<ul>
<li>file2不存在，则创建file2；</li>
<li>file2存在且是文件，则覆盖file2；</li>
<li>file2存在且是目录，则按格式二处理</li>
</ul>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><h4 id="file2不存在"><a href="#file2不存在" class="headerlink" title="file2不存在"></a>file2不存在</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# ls</span><br><span class="line">p1.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# cat p1.c </span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">void main()&#123;</span><br><span class="line">    printf(&quot;%s\n&quot;,&quot;HelloWolrd!&quot;);</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost 文件管理和目录管理]# cp p1.c p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# ls</span><br><span class="line">p1.c  p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# cat p2.c </span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">void main()&#123;</span><br><span class="line">    printf(&quot;%s\n&quot;,&quot;HelloWolrd!&quot;);</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>
<h4 id="file2存在"><a href="#file2存在" class="headerlink" title="file2存在"></a>file2存在</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# ls</span><br><span class="line">p1.c  p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# echo line 1 in p2.c &gt;p2.c </span><br><span class="line">[root@localhost 文件管理和目录管理]# cat p2.c </span><br><span class="line">line 1 in p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# cat p1.c </span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">void main()&#123;</span><br><span class="line">    printf(&quot;%s\n&quot;,&quot;HelloWolrd!&quot;);</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost 文件管理和目录管理]# cp p1.c p2.c </span><br><span class="line">cp：是否覆盖&quot;p2.c&quot;？ y</span><br><span class="line">[root@localhost 文件管理和目录管理]# cat p2.c </span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">void main()&#123;</span><br><span class="line">    printf(&quot;%s\n&quot;,&quot;HelloWolrd!&quot;);</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>

<h2 id="格式2：cp-file1-file2-…-filen-dir"><a href="#格式2：cp-file1-file2-…-filen-dir" class="headerlink" title="格式2：cp file1 file2 … filen dir"></a>格式2：cp file1 file2 … filen dir</h2><p>其中file1，…，filen为文件名，dir为已有目录名</p>
<p>第二种格式中：dir必须已经存在并且是一个目录</p>
<h3 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">cp a.c a.bak</span><br><span class="line">cp a.c b.c backup.d</span><br><span class="line"></span><br><span class="line">[root@localhost 文件管理和目录管理]# ls</span><br><span class="line">p1.c  p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# cp p*.c backup.d</span><br><span class="line">cp: 目标&quot;backup.d&quot; 不是目录</span><br><span class="line">[root@localhost 文件管理和目录管理]# mkdir backup.d</span><br><span class="line">[root@localhost 文件管理和目录管理]# cp p*.c backup.d</span><br><span class="line">[root@localhost 文件管理和目录管理]# ls *</span><br><span class="line">p1.c  p2.c</span><br><span class="line"></span><br><span class="line">backup.d:</span><br><span class="line">p1.c  p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>


<h2 id="带文件通配符星号-的情况"><a href="#带文件通配符星号-的情况" class="headerlink" title="带文件通配符星号*的情况"></a>带文件通配符星号*的情况</h2><p>例:<br>cp *.c backup.d</p>
<ul>
<li>与Windows命令COPY *.C BAK.D执行结果相同，过程不同</li>
<li>UNIX中实际执行cp a1.c a2.c b1.c b2.c backup.d</li>
</ul>
<h3 id="从备份目录拷贝回当前目录"><a href="#从备份目录拷贝回当前目录" class="headerlink" title="从备份目录拷贝回当前目录"></a>从备份目录拷贝回当前目录</h3><h4 id="当前目录和备份目录结构"><a href="#当前目录和备份目录结构" class="headerlink" title="当前目录和备份目录结构"></a>当前目录和备份目录结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# ls *</span><br><span class="line">p1.c  p2.c</span><br><span class="line"></span><br><span class="line">backup.d:</span><br><span class="line">p1.c  p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>
<h4 id="备份目录下的文件的内容"><a href="#备份目录下的文件的内容" class="headerlink" title="备份目录下的文件的内容"></a>备份目录下的文件的内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# cat backup.d/p1.c</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">void main()&#123;</span><br><span class="line">    printf(&quot;%s\n&quot;,&quot;HelloWolrd!&quot;);</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost 文件管理和目录管理]# cat backup.d/p2.c</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">void main()&#123;</span><br><span class="line">    printf(&quot;%s\n&quot;,&quot;HelloWolrd!&quot;);</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>
<h4 id="当前目录下的文件内容"><a href="#当前目录下的文件内容" class="headerlink" title="当前目录下的文件内容"></a>当前目录下的文件内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# cat p1.c </span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">void main()&#123;</span><br><span class="line">    printf(&quot;%s\n&quot;,&quot;HelloWolrd!&quot;);</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost 文件管理和目录管理]# cat p2.c </span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">void main()&#123;</span><br><span class="line">    printf(&quot;%s\n&quot;,&quot;HelloWolrd!&quot;);</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h4 id="修改当前目录下的p2-c文件的内容"><a href="#修改当前目录下的p2-c文件的内容" class="headerlink" title="修改当前目录下的p2.c文件的内容"></a>修改当前目录下的p2.c文件的内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# echo this is line 1 in p2.c &gt;p2.c </span><br><span class="line">[root@localhost 文件管理和目录管理]# cat p2.c</span><br><span class="line">this is line 1 in p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h4 id="使用备份目录下的文件覆盖当前目录下的同名文件"><a href="#使用备份目录下的文件覆盖当前目录下的同名文件" class="headerlink" title="使用备份目录下的文件覆盖当前目录下的同名文件"></a>使用备份目录下的文件覆盖当前目录下的同名文件</h4><h5 id="错误做法"><a href="#错误做法" class="headerlink" title="错误做法"></a>错误做法</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp backup.d/p*.c</span><br></pre></td></tr></table></figure>
<p>使用通配符*的时候需要注意，命令执行的是经过shell替换之后的命令，也就是实际执行的是</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp backup.d/p1.c backup.d/p2.c</span><br></pre></td></tr></table></figure>
<p>结果：backup.d目录下文件p1.c将覆盖掉p2.c<br>运行过程：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# ls *</span><br><span class="line">p1.c  p2.c</span><br><span class="line"></span><br><span class="line">backup.d:</span><br><span class="line">p1.c  p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# cat p2.c </span><br><span class="line">this is line 1 in p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# cat backup.d/p2.c </span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">void main()&#123;</span><br><span class="line">    printf(&quot;%s\n&quot;,&quot;HelloWolrd!&quot;);</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost 文件管理和目录管理]# cp backup.d/p*.c </span><br><span class="line">cp：是否覆盖&quot;backup.d/p2.c&quot;？ n</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>
<h5 id="正确做法"><a href="#正确做法" class="headerlink" title="正确做法"></a>正确做法</h5><p>将这两个文件拷贝回当前目录下的正确用法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp backup.d/p*.c  .</span><br></pre></td></tr></table></figure>
<p>运行过程：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# ls *</span><br><span class="line">p1.c  p2.c</span><br><span class="line"></span><br><span class="line">backup.d:</span><br><span class="line">p1.c  p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# cat p2.c </span><br><span class="line">this is line 1 in p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# cat backup.d/p2.c </span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">void main()&#123;</span><br><span class="line">	printf(&quot;%s\n&quot;,&quot;HelloWolrd!&quot;);</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost 文件管理和目录管理]# cp backup.d/p*.c .</span><br><span class="line">cp：是否覆盖&quot;./p1.c&quot;？ y</span><br><span class="line">cp：是否覆盖&quot;./p2.c&quot;？ y</span><br><span class="line">[root@localhost 文件管理和目录管理]# cat p2.c </span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">void main()&#123;</span><br><span class="line">	printf(&quot;%s\n&quot;,&quot;HelloWolrd!&quot;);</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>

<h1 id="mv-移动文件"><a href="#mv-移动文件" class="headerlink" title="mv: 移动文件"></a>mv: 移动文件</h1><h2 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mv file1 file2</span><br><span class="line">mv file1 file2 ... filen dir</span><br><span class="line">mv dir1 dir2</span><br></pre></td></tr></table></figure>
<h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><h3 id="重命名文件或目录"><a href="#重命名文件或目录" class="headerlink" title="重命名文件或目录"></a>重命名文件或目录</h3><p>使用mv命令可以将文件和目录改名</p>
<h4 id="重命名文件"><a href="#重命名文件" class="headerlink" title="重命名文件"></a>重命名文件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# ls *</span><br><span class="line">p1.c  p2.c</span><br><span class="line"></span><br><span class="line">backup.d:</span><br><span class="line">p1.c  p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# mv p1.c HelloWorld.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# ls *</span><br><span class="line">HelloWorld.c  p2.c</span><br><span class="line"></span><br><span class="line">backup.d:</span><br><span class="line">p1.c  p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]#</span><br></pre></td></tr></table></figure>
<h4 id="重命名目录"><a href="#重命名目录" class="headerlink" title="重命名目录"></a>重命名目录</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# ls *</span><br><span class="line">HelloWorld.c  p2.c</span><br><span class="line"></span><br><span class="line">backup.d:</span><br><span class="line">p1.c  p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# mv backup.d/ 备份</span><br><span class="line">[root@localhost 文件管理和目录管理]# ls *</span><br><span class="line">HelloWorld.c  p2.c</span><br><span class="line"></span><br><span class="line">备份:</span><br><span class="line">p1.c  p2.c</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<h3 id="将一个目录下的文件和子目录移动到另一个目录下"><a href="#将一个目录下的文件和子目录移动到另一个目录下" class="headerlink" title="将一个目录下的文件和子目录移动到另一个目录下"></a>将一个目录下的文件和子目录移动到另一个目录下</h3><h4 id="一个目录的结构"><a href="#一个目录的结构" class="headerlink" title="一个目录的结构"></a>一个目录的结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# ls</span><br><span class="line">a.txt  b.txt  cat  cmp  c.txt  date  d.txt  less  ls  more  ps  sed  sort  tr  uniq  vi  wc  文件管理和目录管理  文件名和文件通配符  正则表达式</span><br><span class="line">[root@localhost Linux_Test]# ls 文件管理和目录管理/*</span><br><span class="line">文件管理和目录管理/HelloWorld2.c  文件管理和目录管理/HelloWorld.c</span><br><span class="line"></span><br><span class="line">文件管理和目录管理/备份:</span><br><span class="line">p1.c  p2.c</span><br><span class="line">[root@localhost Linux_Test]#</span><br></pre></td></tr></table></figure>
<h4 id="创建一个新目录"><a href="#创建一个新目录" class="headerlink" title="创建一个新目录"></a>创建一个新目录</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# mkdir 文件管理和目录管理2</span><br><span class="line">[root@localhost Linux_Test]# ls</span><br><span class="line">a.txt  cat  c.txt  d.txt  ls    ps   sort  uniq  wc                  文件管理和目录管理2  正则表达式</span><br><span class="line">b.txt  cmp  date   less   more  sed  tr    vi    文件管理和目录管理  文件名和文件通配符</span><br><span class="line">[root@localhost Linux_Test]#</span><br></pre></td></tr></table></figure>
<h4 id="移动一个目录下的所有文件以及子目录-到-另一个目录"><a href="#移动一个目录下的所有文件以及子目录-到-另一个目录" class="headerlink" title="移动一个目录下的所有文件以及子目录 到 另一个目录"></a>移动一个目录下的所有文件以及子目录 到 另一个目录</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# mv 文件管理和目录管理/* 文件管理和目录管理2</span><br><span class="line">[root@localhost Linux_Test]# ls 文件管理和目录管理/</span><br><span class="line">[root@localhost Linux_Test]# ls 文件管理和目录管理2/*</span><br><span class="line">文件管理和目录管理2/HelloWorld2.c  文件管理和目录管理2/HelloWorld.c</span><br><span class="line"></span><br><span class="line">文件管理和目录管理2/备份:</span><br><span class="line">p1.c  p2.c</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>
<h3 id="移动一个目录到另一个目录之中"><a href="#移动一个目录到另一个目录之中" class="headerlink" title="移动一个目录到另一个目录之中"></a>移动一个目录到另一个目录之中</h3><p>当前目录结构</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# ls</span><br><span class="line">a.txt  cat  c.txt  d.txt  ls    ps   sort  uniq  wc                  文件管理和目录管理2  正则表达式</span><br><span class="line">b.txt  cmp  date   less   more  sed  tr    vi    文件管理和目录管理  文件名和文件通配符</span><br><span class="line">[root@localhost Linux_Test]# tree -N 文件管理和目录管理</span><br><span class="line">文件管理和目录管理</span><br><span class="line"></span><br><span class="line">0 directories, 0 files</span><br><span class="line">[root@localhost Linux_Test]# tree -N 文件管理和目录管理2/</span><br><span class="line">文件管理和目录管理2/</span><br><span class="line">├── HelloWorld2.c</span><br><span class="line">├── HelloWorld.c</span><br><span class="line">└── 备份</span><br><span class="line">    ├── p1.c</span><br><span class="line">    └── p2.c</span><br><span class="line"></span><br><span class="line">1 directory, 4 files</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>
<h4 id="移动一个目录到另一个目录之中-1"><a href="#移动一个目录到另一个目录之中-1" class="headerlink" title="移动一个目录到另一个目录之中"></a>移动一个目录到另一个目录之中</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# mv 文件管理和目录管理2/ 文件管理和目录管理/</span><br><span class="line">[root@localhost Linux_Test]# ls</span><br><span class="line">a.txt  b.txt  cat  cmp  c.txt  date  d.txt  less  ls  more  ps  sed  sort  tr  uniq  vi  wc  文件管理和目录管理  文件名和文件通配符  正则表达式</span><br><span class="line">[root@localhost Linux_Test]# tree -N 文件管理和目录管理/</span><br><span class="line">文件管理和目录管理/</span><br><span class="line">└── 文件管理和目录管理2</span><br><span class="line">    ├── HelloWorld2.c</span><br><span class="line">    ├── HelloWorld.c</span><br><span class="line">    └── 备份</span><br><span class="line">        ├── p1.c</span><br><span class="line">        └── p2.c</span><br><span class="line"></span><br><span class="line">2 directories, 4 files</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>
<p>mv dir1 dir2 两种执行情况（同文件系统，不同文件系统）</p>
<h1 id="rm-删除文件"><a href="#rm-删除文件" class="headerlink" title="rm: 删除文件"></a>rm: 删除文件</h1><h2 id="命令格式"><a href="#命令格式" class="headerlink" title="命令格式"></a>命令格式</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm file1 file2 ... filen</span><br></pre></td></tr></table></figure>
<h2 id="例"><a href="#例" class="headerlink" title="例"></a>例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm core a.out</span><br><span class="line">rm *.o *.tmp</span><br></pre></td></tr></table></figure>
<p>错误写法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm * .bak</span><br></pre></td></tr></table></figure>
<p>会删除当前目录下的所有的文件，最后尝试删除.bak文件，如果有.bak这个文件的话，已经包含在通配符*里面了，也就是被删掉了，此时再想删除.bak，系统会报错，说.bak文件不存在。</p>
<h2 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h2><table>
<thead>
<tr>
<th align="left">选项</th>
<th align="left">功能</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-r</td>
<td align="left">递归地(Recursive)删除实参表中的目录，也就是<strong>删除一整棵目录树</strong>。</td>
</tr>
<tr>
<td align="left">-i</td>
<td align="left">每删除一个文件前需要操作员确认(Inform)</td>
</tr>
<tr>
<td align="left">-f</td>
<td align="left">强迫删除(Force)。只读文件也被删除并且无提示</td>
</tr>
</tbody></table>
<h2 id="其它问题"><a href="#其它问题" class="headerlink" title="其它问题"></a>其它问题</h2><p>在运行的可执行程序文件不能被删除</p>
<h1 id="显式区分命令选项和处理对象"><a href="#显式区分命令选项和处理对象" class="headerlink" title="显式区分命令选项和处理对象"></a>显式区分命令选项和处理对象</h1><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>设当前目录下只有a，b，c三个文件<br>执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -i</span><br></pre></td></tr></table></figure>
<p>只提供选项，未指定任何文件，命令格式错<br>执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls&gt;-i</span><br></pre></td></tr></table></figure>
<p>生成文件-i(符合文件的命名规则)<br>执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -i</span><br></pre></td></tr></table></figure>
<p>不能删除文件-i<br>执行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm *</span><br></pre></td></tr></table></figure>
<p>shell会替换成：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -i a b c</span><br></pre></td></tr></table></figure>
<p>这里的-i会解释成选项，而不是文件，rm会按选项-i的方式处理，而不会删除文件-i。<br>执行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat *</span><br></pre></td></tr></table></figure>
<p>shell会替换成：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat -i a b c</span><br></pre></td></tr></table></figure>
<p>执行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls *</span><br></pre></td></tr></table></figure>
<p>shell会替换成：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -i a b c</span><br></pre></td></tr></table></figure>
<h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>许多Linux命令(如cp，ls，mv，rm，cat，grep，set等)用<code>--</code>显式地标志命令行选项的结束，识别以-开头的处理对象。如:<br>执行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -- -i</span><br></pre></td></tr></table></figure>
<p>即可删除文件-i<br>例如，我们想在文件ht.c中查找<code>-1</code>这个字符串，你可能输入如下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -1 ht.c</span><br></pre></td></tr></table></figure>
<p>这种情况下，grep可能认为-1，是个选项。<br>此时你可以使用<code>--</code>区分选项和参数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# cat ht.c </span><br><span class="line">56</span><br><span class="line">35</span><br><span class="line">-1</span><br><span class="line">-4</span><br><span class="line">-5</span><br><span class="line">8</span><br><span class="line">[root@localhost 文件管理和目录管理]# grep -1 ht.c </span><br><span class="line">^C</span><br><span class="line">[root@localhost 文件管理和目录管理]# grep -- -1 ht.c </span><br><span class="line">-1</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<p><img data-src="https://raw.githubusercontent.com/lanlan2017/images/master/Blog/programming/Linux/general/FileManagementAndDirectoryManagementFile/CopyAndDeletion/1.png" alt="图片"></p>
<p>如果你想在文件中查找<code>--help</code>这个字符串,你输入如下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep --help *.c</span><br></pre></td></tr></table></figure>
<p>grep会吧–help解释为选项。而达不到效果。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# cat ht.c </span><br><span class="line">56</span><br><span class="line">-1</span><br><span class="line">-4</span><br><span class="line">8</span><br><span class="line">--help</span><br><span class="line">--hello</span><br><span class="line">--world</span><br><span class="line">[root@localhost 文件管理和目录管理]# grep --help *.c</span><br><span class="line">用法: grep [选项]... PATTERN [FILE]...</span><br><span class="line">在每个 FILE 或是标准输入中查找 PATTERN。</span><br><span class="line">默认的 PATTERN 是一个基本正则表达式(缩写为 BRE)。</span><br><span class="line">......</span><br><span class="line">如果有任意行被匹配，那退出状态为 0，否则为 1；</span><br><span class="line">如果有错误产生，且未指定 -q 参数，那退出状态为 2。</span><br><span class="line"></span><br><span class="line">请将错误报告给: bug-grep@gnu.org</span><br><span class="line">GNU Grep 主页: &lt;http://www.gnu.org/software/grep/&gt;</span><br><span class="line">GNU 软件的通用帮助: &lt;http://www.gnu.org/gethelp/&gt;</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>
<p>此时输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -- --help *.c</span><br></pre></td></tr></table></figure>
<p>可以达到效果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件管理和目录管理]# ls</span><br><span class="line">ht.c  文件管理和目录管理2</span><br><span class="line">[root@localhost 文件管理和目录管理]# cat ht.c </span><br><span class="line">56</span><br><span class="line">-1</span><br><span class="line">-4</span><br><span class="line">8</span><br><span class="line">--help</span><br><span class="line">--hello</span><br><span class="line">--world</span><br><span class="line">[root@localhost 文件管理和目录管理]# grep -- --help *.c</span><br><span class="line">--help</span><br><span class="line">[root@localhost 文件管理和目录管理]# </span><br></pre></td></tr></table></figure>


<!-- Blog/programming/Linux/general/FileManagementAndDirectoryManagementFile/CopyAndDeletion -->

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/4bfefcf7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/4bfefcf7/" class="post-title-link" itemprop="url">Linux 列出文件目录</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-31 19:11:30" itemprop="dateCreated datePublished" datetime="2021-05-31T19:11:30+08:00">2021-05-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%92%8C%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">文件管理和目录管理</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/4bfefcf7/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/4bfefcf7/" data-xid="/blog/4bfefcf7/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ls-文件名列表"><a href="#ls-文件名列表" class="headerlink" title="ls:文件名列表"></a>ls:文件名列表</h1><h2 id="基本功能"><a href="#基本功能" class="headerlink" title="基本功能"></a>基本功能</h2><p>在同一命令行中可以指定0~n个实参</p>
<ul>
<li>不给出实参时，列出当前目录下所有文件和目录</li>
<li>实参为文件时，列出文件项</li>
<li>实参为目录时，列出目录下的所有文件项</li>
</ul>
<h2 id="ls命令有几十个选项"><a href="#ls命令有几十个选项" class="headerlink" title="ls命令有几十个选项"></a>ls命令有几十个选项</h2><ul>
<li>控制列表格式，有选择的为每个项目列出某些属性</li>
</ul>
<h2 id="选项-F-Flag"><a href="#选项-F-Flag" class="headerlink" title="选项-F (Flag)"></a>选项-F (Flag)</h2><ul>
<li>若列出的是目录，就在名字后面缀以斜线<code>/</code></li>
<li>若列出的是可执行文件，就在名字后面缀以星号<code>*</code></li>
<li>若列出的是符号连接文件，就在名字后面缀以符号<code>@</code></li>
<li>若列出的是普通文件，则名字面后无任何标记</li>
</ul>
<p>现在的终端可以根据颜色还区分文件与目录，在一些很简单的没有颜色的嵌入式终端中<code>ls -F</code>比较有用。</p>
<h2 id="ls选项-l-长格式列表"><a href="#ls选项-l-长格式列表" class="headerlink" title="ls选项-l: 长格式列表"></a>ls选项-l: 长格式列表</h2><p>例：ls -l arg<br>-rwxr-x–x l liang stud 519 Jul 5 15:02  arg</p>
<h3 id="第1列：文件属性"><a href="#第1列：文件属性" class="headerlink" title="第1列：文件属性"></a>第1列：文件属性</h3><h4 id="第1字符为文件类型"><a href="#第1字符为文件类型" class="headerlink" title="第1字符为文件类型"></a>第1字符为文件类型</h4><table>
<thead>
<tr>
<th align="left">第1个字符</th>
<th align="left">文件类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>-</code></td>
<td align="left">普通文件</td>
</tr>
<tr>
<td align="left"><code>b</code></td>
<td align="left">块设备文件(Block)</td>
</tr>
<tr>
<td align="left"><code>d</code></td>
<td align="left">目录文件(Dir)</td>
</tr>
<tr>
<td align="left"><code>c</code></td>
<td align="left">字符设备文件(Char)</td>
</tr>
<tr>
<td align="left"><code>l</code></td>
<td align="left">符号连接文件(Link)</td>
</tr>
<tr>
<td align="left"><code>p</code></td>
<td align="left">命名管道文件(Pipe)</td>
</tr>
</tbody></table>
<h3 id="文件的访问权限"><a href="#文件的访问权限" class="headerlink" title="文件的访问权限"></a>文件的访问权限</h3><p>(r读权限，w写权限，x可执行权限)</p>
<table>
<thead>
<tr>
<th align="left">ls -l第1列</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">2-4字符:</td>
<td align="left"><strong>文件所有者</strong>对文件的访问权限</td>
</tr>
<tr>
<td align="left">5-7字符:</td>
<td align="left"><strong>同组用户</strong>对文件的访问权限</td>
</tr>
<tr>
<td align="left">8-10字符:</td>
<td align="left"><strong>其它用户</strong>对文件的访问权限</td>
</tr>
</tbody></table>
<h3 id="第2列：文件link数"><a href="#第2列：文件link数" class="headerlink" title="第2列：文件link数"></a>第2列：文件link数</h3><p>涉及到此文件的目录项数</p>
<h3 id="第3列，第4列："><a href="#第3列，第4列：" class="headerlink" title="第3列，第4列："></a>第3列，第4列：</h3><p>文件主的名字和组名</p>
<h3 id="第5列"><a href="#第5列" class="headerlink" title="第5列"></a>第5列</h3><table>
<thead>
<tr>
<th align="left">类型</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">普通磁盘文件：</td>
<td align="left">列出文件大小(字节数)</td>
</tr>
<tr>
<td align="left">目录：</td>
<td align="left">列出目录表大小，不是目录下文件长度和</td>
</tr>
<tr>
<td align="left">符号连接文件：</td>
<td align="left">列出符号连接文件自身的长度</td>
</tr>
<tr>
<td align="left">字符设备和块设备文件：</td>
<td align="left">列出主设备号和次设备号</td>
</tr>
<tr>
<td align="left">管道文件：</td>
<td align="left">列出管道内的数据长度</td>
</tr>
</tbody></table>
<h3 id="第6列："><a href="#第6列：" class="headerlink" title="第6列："></a>第6列：</h3><p>文件最后一次被修改的日期和时间</p>
<h3 id="第7列：文件名"><a href="#第7列：文件名" class="headerlink" title="第7列：文件名"></a>第7列：文件名</h3><p>对于符号连接文件，附带列出符号连接文件的内容</p>
<h2 id="选项-h"><a href="#选项-h" class="headerlink" title="选项-h"></a>选项-h</h2><p>（human-readable），许多其他命令中也有类似选项<br>以便于人阅读的方式打印数值 (例如：1K 234M 2G)</p>
<h2 id="选项-d"><a href="#选项-d" class="headerlink" title="选项-d"></a>选项-d</h2><p>(directory)当ls的参数是目录时，不象默认的情况那样列出目录下的文件，而是<strong>列出目录自身的信息</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# ls -d</span><br><span class="line">.</span><br><span class="line">[root@localhost Linux_Test]# ls -ld</span><br><span class="line">drwxr-xr-x. 18 root root 4096 5月  31 21:06 .</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>

<h3 id="ls与ls-的区别"><a href="#ls与ls-的区别" class="headerlink" title="ls与ls *的区别"></a>ls与ls *的区别</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost vi]# ls</span><br><span class="line">encode  helloworld.c  helloworld.out  out.txt  test.txt</span><br><span class="line">[root@localhost vi]# ls *</span><br><span class="line">helloworld.c  helloworld.out  out.txt  test.txt</span><br><span class="line"></span><br><span class="line">encode:</span><br><span class="line">helloworld.c  mini.txt</span><br><span class="line">[root@localhost vi]# </span><br></pre></td></tr></table></figure>

<h3 id="ls-l-x2F-etc与ls-ld-x2F-etc的区别"><a href="#ls-l-x2F-etc与ls-ld-x2F-etc的区别" class="headerlink" title="ls -l &#x2F;etc与ls -ld &#x2F;etc的区别"></a>ls -l &#x2F;etc与ls -ld &#x2F;etc的区别</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost vi]# ls -l /etc</span><br><span class="line">总用量 1332</span><br><span class="line">-rw-r--r--.  1 root root     12 11月 17 2020 adjtime</span><br><span class="line">-rw-r--r--.  1 root root   1529 4月   1 2020 aliases</span><br><span class="line">drwxr-xr-x.  2 root root   4096 4月  20 17:53 alternatives</span><br><span class="line">......</span><br><span class="line">drwxr-xr-x.  6 root root   4096 3月  16 03:03 yum</span><br><span class="line">-rw-r--r--.  1 root root    970 10月  2 2020 yum.conf</span><br><span class="line">drwxr-xr-x.  2 root root   4096 4月  23 15:07 yum.repos.d</span><br><span class="line">[root@localhost vi]# ls -ld /etc</span><br><span class="line">drwxr-xr-x. 73 root root 4096 5月  31 21:04 /etc</span><br><span class="line">[root@localhost vi]# </span><br></pre></td></tr></table></figure>
<h2 id="选项-a"><a href="#选项-a" class="headerlink" title="选项-a"></a>选项-a</h2><p>(all)<br>列出文件名首字符为圆点的文件(默认情况下这些文件不列出，经常会用来保存用户的偏好设置信息或保存某些软件的状态信息)。</p>
<h2 id="选项-A"><a href="#选项-A" class="headerlink" title="选项-A"></a>选项-A</h2><p>(功能与-a相同，除了不列出. 和..)<br>例如：</p>
<p>ls<br>ls -a<br>ls –ad</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost vi]# ls </span><br><span class="line">encode  helloworld.c  helloworld.out  out.txt  test.txt</span><br><span class="line">[root@localhost vi]# ls -a</span><br><span class="line">.  ..  encode  helloworld.c  .helloworld.c.swp  helloworld.out  out.txt  test.txt</span><br><span class="line">[root@localhost vi]# ls -A</span><br><span class="line">encode  helloworld.c  .helloworld.c.swp  helloworld.out  out.txt  test.txt</span><br><span class="line">[root@localhost vi]# </span><br></pre></td></tr></table></figure>
<h2 id="选项-s"><a href="#选项-s" class="headerlink" title="选项-s"></a>选项-s</h2><p>(size)列出文件占用的磁盘空间</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost vi]# ls -s</span><br><span class="line">总用量 32</span><br><span class="line"> 4 encode   4 helloworld.c  16 helloworld.out   4 out.txt   4 test.txt</span><br><span class="line">[root@localhost vi]# ls -sh</span><br><span class="line">总用量 32K</span><br><span class="line">4.0K encode  4.0K helloworld.c   16K helloworld.out  4.0K out.txt  4.0K test.txt</span><br><span class="line">[root@localhost vi]#</span><br></pre></td></tr></table></figure>
<h2 id="选项-i"><a href="#选项-i" class="headerlink" title="选项-i"></a>选项-i</h2><p>(i-node)列出文件的i节点号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost vi]# ls -i</span><br><span class="line">532546 encode  524412 helloworld.c  524416 helloworld.out  524430 out.txt  524431 test.txt</span><br><span class="line">[root@localhost vi]# </span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/36f9715c/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/36f9715c/" class="post-title-link" itemprop="url">Linux 文件通配符处理过程</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-31 14:48:40" itemprop="dateCreated datePublished" datetime="2021-05-31T14:48:40+08:00">2021-05-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%96%87%E4%BB%B6%E5%90%8D%E5%92%8C%E6%96%87%E4%BB%B6%E9%80%9A%E9%85%8D%E7%AC%A6/" itemprop="url" rel="index"><span itemprop="name">文件名和文件通配符</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/36f9715c/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/36f9715c/" data-xid="/blog/36f9715c/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="shell与kernel"><a href="#shell与kernel" class="headerlink" title="shell与kernel"></a>shell与kernel</h1><h2 id="shell"><a href="#shell" class="headerlink" title="shell"></a>shell</h2><ul>
<li>shell是一个用户态进程，如&#x2F;bin&#x2F;bash</li>
<li>对用户提供命令行界面</li>
<li>启动其他应用程序（ap）使用操作系统核心提供的功能:包括系统命令和用户编写的程序</li>
</ul>
<h2 id="kernel：操作系统核心"><a href="#kernel：操作系统核心" class="headerlink" title="kernel：操作系统核心"></a>kernel：操作系统核心</h2><ul>
<li>管理系统资源(包括内存，磁盘等)运行在核心态</li>
<li>通过软中断方式对用户态进程提供系统调用接口</li>
</ul>
<h1 id="程序获取命令行参数的方式"><a href="#程序获取命令行参数的方式" class="headerlink" title="程序获取命令行参数的方式"></a>程序获取命令行参数的方式</h1><p>从main函数的两个参数，可获得命令行参数的内容<br>演示程序arg.c</p>
<figure class="highlight c"><figcaption><span>arg.c</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;  </span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; argc; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d:[%s]\n&quot;</span>, i, argv[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编译，链接：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc arg.c -o arg</span><br></pre></td></tr></table></figure>
<p>运行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./arg abc ABCDEF</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件名和文件通配符]# ./arg abc ABCDEF</span><br><span class="line">0:[./arg]</span><br><span class="line">1:[abc]</span><br><span class="line">2:[ABCDEF]</span><br><span class="line">[root@localhost 文件名和文件通配符]# </span><br></pre></td></tr></table></figure>

<h1 id="shell文件名通配符处理"><a href="#shell文件名通配符处理" class="headerlink" title="shell文件名通配符处理"></a>shell文件名通配符处理</h1><h2 id="文件名通配符的处理由shell完成，分以下三步"><a href="#文件名通配符的处理由shell完成，分以下三步" class="headerlink" title="文件名通配符的处理由shell完成，分以下三步"></a>文件名通配符的处理由shell完成，分以下三步</h2><ul>
<li>在shell提示符下，从键盘输入命令，被shell接受</li>
<li>shell对所键入内容作若干加工处理，其中含有对文件通配符的展开工作(文件名生成)，生成结果命令</li>
<li>执行前面生成的结果命令</li>
</ul>
<h1 id="文件名通配符举例（1）"><a href="#文件名通配符举例（1）" class="headerlink" title="文件名通配符举例（1）"></a>文件名通配符举例（1）</h1><p>设当前目录下只有<code>try.c</code>，<code>zap.c</code>，<code>arc.c</code>三文件</p>
<ul>
<li>键入内容<code>cat *.c</code><ul>
<li>实际执行<code>cat arc.c try.c zap.c</code> (按字典序)</li>
<li>对命令<code>cat</code>来说,指定了3个文件</li>
</ul>
</li>
</ul>
<p>设当前目录下有<code>a1.c</code>和<code>a2.c</code></p>
<ul>
<li><code>grep a*.c try.c</code>与<code>grep &#39;a*.c&#39; try.c</code>的区别<ul>
<li>前者实际执行<code>grep a1.c a2.c try.c</code><ul>
<li>在<code>a2.c</code>和<code>try.c</code>中查找正则表达式<code>a1.c</code></li>
</ul>
</li>
<li>后者在<code>try.c</code>文件中查找正则表达式<code>a*.c</code></li>
</ul>
</li>
</ul>
<h1 id="文件名通配符举例-2"><a href="#文件名通配符举例-2" class="headerlink" title="文件名通配符举例(2)"></a>文件名通配符举例(2)</h1><p>键入命令时的简化输入<br>手工键入<code>vi m*e</code><br>实际执行<code>vi makefile</code><br>手工键入<code>cd *sna*</code><br>实际执行<code>cd configure-IBM-sna-network.d</code></p>
<h1 id="验证文件通配符处理方式"><a href="#验证文件通配符处理方式" class="headerlink" title="验证文件通配符处理方式"></a>验证文件通配符处理方式</h1><p>执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./arg *</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./arg  /usr/include/*</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./arg  */*  /usr/*</span><br></pre></td></tr></table></figure>
<h2 id="Linux下的运行结果"><a href="#Linux下的运行结果" class="headerlink" title="Linux下的运行结果"></a>Linux下的运行结果</h2><p><code>./arg *</code>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件名和文件通配符]# ./arg *</span><br><span class="line">0:[./arg]</span><br><span class="line">1:[arg]</span><br><span class="line">2:[arg.c]</span><br><span class="line">[root@localhost 文件名和文件通配符]# </span><br></pre></td></tr></table></figure>
<p><code>./arg  /usr/include/*</code>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件名和文件通配符]# ./arg  /usr/include/*</span><br><span class="line">0:[./arg]</span><br><span class="line">1:[/usr/include/aio.h]</span><br><span class="line">2:[/usr/include/aliases.h]</span><br><span class="line">......</span><br><span class="line">14:[/usr/include/c++]</span><br><span class="line">15:[/usr/include/com_err.h]</span><br><span class="line">16:[/usr/include/complex.h]</span><br><span class="line">17:[/usr/include/cpio.h]</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<p><code>./arg */* /usr/*</code>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost 文件名和文件通配符]# ./arg */* /usr/*</span><br><span class="line">0:[./arg]</span><br><span class="line">1:[*/*]</span><br><span class="line">2:[/usr/bin]</span><br><span class="line">3:[/usr/etc]</span><br><span class="line">4:[/usr/games]</span><br><span class="line">5:[/usr/include]</span><br><span class="line">6:[/usr/lib]</span><br><span class="line">7:[/usr/lib64]</span><br><span class="line">8:[/usr/libexec]</span><br><span class="line">9:[/usr/local]</span><br><span class="line">10:[/usr/sbin]</span><br><span class="line">11:[/usr/share]</span><br><span class="line">12:[/usr/src]</span><br><span class="line">13:[/usr/tmp]</span><br><span class="line">[root@localhost 文件名和文件通配符]# </span><br></pre></td></tr></table></figure>
<h2 id="Windows下运行结果"><a href="#Windows下运行结果" class="headerlink" title="Windows下运行结果"></a>Windows下运行结果</h2><p><code>arg.exe *</code>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">G:\Desktop\test\Linux\Debug&gt;arg.exe *</span><br><span class="line">0:[arg.exe]</span><br><span class="line">1:[*]</span><br><span class="line"></span><br><span class="line">G:\Desktop\test\Linux\Debug&gt;</span><br></pre></td></tr></table></figure>
<p><code>arg.exe /usr/include/*</code>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">G:\Desktop\test\Linux\Debug&gt;arg.exe /usr/include/*</span><br><span class="line">0:[arg.exe]</span><br><span class="line">1:[/usr/include/*]</span><br><span class="line"></span><br><span class="line">G:\Desktop\test\Linux\Debug&gt;</span><br></pre></td></tr></table></figure>
<p><code>arg.exe */* /usr/*</code>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">G:\Desktop\test\Linux\Debug&gt;arg.exe */* /usr/*</span><br><span class="line">0:[arg.exe]</span><br><span class="line">1:[*/*]</span><br><span class="line">2:[/usr/*]</span><br><span class="line"></span><br><span class="line">G:\Desktop\test\Linux\Debug&gt;</span><br></pre></td></tr></table></figure>
<p>执行结果与同样arg.c在Windows下运行的比较</p>
<ul>
<li><strong>UNIX由shell完成对文件通配符的展开</strong></li>
<li>Windows由命令自身来解释文件通配符</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/8261cbc6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/8261cbc6/" class="post-title-link" itemprop="url">Linux 文件通配符规则</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-31 14:35:51" itemprop="dateCreated datePublished" datetime="2021-05-31T14:35:51+08:00">2021-05-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%96%87%E4%BB%B6%E5%90%8D%E5%92%8C%E6%96%87%E4%BB%B6%E9%80%9A%E9%85%8D%E7%AC%A6/" itemprop="url" rel="index"><span itemprop="name">文件名和文件通配符</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/8261cbc6/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/8261cbc6/" data-xid="/blog/8261cbc6/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>475</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="星号"><a href="#星号" class="headerlink" title="星号 *"></a>星号 *</h1><ul>
<li><strong>匹配任意长度的文件名字符串(包括空字符串)</strong></li>
<li>点字符(<code>.</code>)，当它作为文件名或路径名分量的第一个字符时，<strong>必须显式匹配</strong></li>
<li>斜线(<code>/</code>)也<strong>必须显式匹配</strong></li>
<li>例：<code>*file</code>匹配<code>file</code>，<code>makefile</code>，不匹配<code>.profile</code>文件；<code>try*c</code> 匹配<code>try1.c</code>，<code>try.c</code>，<code>try.basic</code>。</li>
</ul>
<h1 id="问号"><a href="#问号" class="headerlink" title="问号 ?"></a>问号 ?</h1><p>匹配任一单字符</p>
<h1 id="方括号"><a href="#方括号" class="headerlink" title="方括号 [ ]"></a>方括号 [ ]</h1><p>匹配括号内任一字符，也可以用减号指定一个范围</p>
<p>例: <code>[A-Z]*</code>，<code>*.[ch]</code>，<code>[Mm]akefile</code></p>
<h1 id="波浪线"><a href="#波浪线" class="headerlink" title="波浪线 ~"></a>波浪线 ~</h1><p>（Bash特有的）<br><code>~</code>      当前用户的主目录(home)<br><code>~kuan</code>  用户kuan的主目录(home)<br><code>~root</code>  用户root的主目录(home)</p>
<h1 id="点文件-与点点文件"><a href="#点文件-与点点文件" class="headerlink" title="点文件.与点点文件.."></a>点文件.与点点文件..</h1><p>当前目录与上级目录<br>把<code>.</code>文件解释为当前目录，不是通配符处理程序完成的，来源于目录的存储结构</p>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ul>
<li>文件名通配符规则与正则表达式的规则不同，应用场合不同</li>
<li>不同种类shell通配符规则会略有些差别</li>
<li>Windows中<code>*.*</code>匹配所有文件，Linux中<code>*.*</code>要求文件名中必须含有圆点否则不匹配，如：<code>*.*</code>与<code>makefile</code>不匹配</li>
<li>可以使用类似<code>*/*.[ch]</code>通配符， <code>*/*/*.conf</code></li>
<li>文件通配符适用所有命令</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/page/15/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/blog/page/17/">17</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/62/">62</a><a class="extend next" rel="next" href="/blog/page/17/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2018 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">蓝蓝</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">1.5m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">22:52</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
<script src="/blog/js/comments.js"></script><script src="/blog/js/utils.js"></script><script src="/blog/js/motion.js"></script><script src="/blog/js/next-boot.js"></script><script src="/blog/js/bookmark.js"></script><script src="/blog/js/pjax.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/blog/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdn.jsdelivr.net/npm/mermaid@8.14.0/dist/mermaid.min.js","integrity":"sha256-7wT34TI0pEBeEFoi4z+vhuSddGh6vUTMWdqJ2SDe2jg="}}</script>
  <script src="/blog/js/third-party/tags/mermaid.js"></script>

  <script src="/blog/js/third-party/fancybox.js"></script>

  <script src="/blog/js/third-party/pace.js"></script>

  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/blog/js/third-party/math/mathjax.js"></script>


  <script src="https://cdn.jsdelivr.net/npm/quicklink@2.2.0/dist/quicklink.umd.js" integrity="sha256-4kQf9z5ntdQrzsBC3YSHnEz02Z9C1UeW/E9OgnvlzSY=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"https://lanlan2017.github.io/blog/page/16/"}</script>
  <script src="/blog/js/third-party/quicklink.js"></script>
<script class="next-config" data-name="waline" type="application/json">{"lang":null,"enable":true,"serverURL":"https://waline-test-lanlan2017.vercel.app","placeholder":"填写邮箱可接收回复通知 填写个人网址可为您引流","avatar":"mm","pageSize":10,"visitor":false,"comment_count":true,"requiredFields":[],"meta":["nick","mail","link"],"libUrl":"https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js","el":"#waline-comments","path":"/blog/page/16/"}</script>
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() => 
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => {
    new Waline(CONFIG.waline);
  });
});
</script>
</body>
</html>
