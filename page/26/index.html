<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.1.0">

<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="_Sly-yzHYmALHXzjFpPWsodMrjBSphw7bfRbMUH80Qc">
  <meta name="msvalidate.01" content="B1CFD346B8DEBBFE0C983C2AF8955531">
  <meta name="baidu-site-verification" content="vkMTwK56xr">

<link rel="stylesheet" href="/blog/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"lanlan2017.github.io","root":"/blog/","images":"/blog/images","scheme":"Gemini","darkmode":true,"version":"8.11.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/blog/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/blog/js/config.js"></script>

    <meta name="description" content="记录一些学习心得">
<meta property="og:type" content="website">
<meta property="og:title" content="蓝蓝站点">
<meta property="og:url" content="https://lanlan2017.github.io/blog/page/26/index.html">
<meta property="og:site_name" content="蓝蓝站点">
<meta property="og:description" content="记录一些学习心得">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="蓝蓝">
<meta property="article:tag" content="Java 数据库">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://lanlan2017.github.io/blog/page/26/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/26/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>蓝蓝站点</title>
  

  <script src="/blog/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?dadeb188eb14ccde0b25a19230c429b5"></script>



<link rel="dns-prefetch" href="https://waline-test-lanlan2017.vercel.app">
  <noscript>
    <link rel="stylesheet" href="/blog/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">蓝蓝站点</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-dir"><a href="/blog/dir/" rel="section"><i class="fa fa-sitemap fa-fw"></i>目录</a></li><li class="menu-item menu-item-categories"><a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-tags"><a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="蓝蓝"
      src="/blog/images/avatar.gif">
  <p class="site-author-name" itemprop="name">蓝蓝</p>
  <div class="site-description" itemprop="description">记录一些学习心得</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/blog/archives/">
          <span class="site-state-item-count">698</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/blog/categories/">
        <span class="site-state-item-count">223</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://lanlan2017.github.io/todo/" title="todo → https:&#x2F;&#x2F;lanlan2017.github.io&#x2F;todo&#x2F;"><i class="fa fa-check-square fa-fw"></i>todo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://lanlan2017.github.io/links/" title="links → https:&#x2F;&#x2F;lanlan2017.github.io&#x2F;links&#x2F;"><i class="fa fa-link fa-fw"></i>links</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/561eb334/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/561eb334/" class="post-title-link" itemprop="url">基本正则表达式BRE和扩展正则表达式ERE</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-08 17:51:37" itemprop="dateCreated datePublished" datetime="2021-05-08T17:51:37+08:00">2021-05-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">正则表达式</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/561eb334/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/561eb334/" data-xid="/blog/561eb334/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>701</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="基本正则表达式-BRE元字符表"><a href="#基本正则表达式-BRE元字符表" class="headerlink" title="基本正则表达式 BRE元字符表"></a>基本正则表达式 BRE元字符表</h1><table>
<thead>
<tr>
<th align="left">元字符</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>*</code></td>
<td align="left">将<code>*</code>前面的正则表达式匹配的结果重复任意次(含0次)。</td>
</tr>
<tr>
<td align="left"><code>\+</code></td>
<td align="left">与星号(<code>*</code>)相同，只是至少重复1次，GNU的扩展功能。</td>
</tr>
<tr>
<td align="left"><code>\?</code></td>
<td align="left">与星号(<code>*</code>)相同，只是最多重复1次，GNU的扩展功能。</td>
</tr>
<tr>
<td align="left"><code>\&#123;i\&#125;</code></td>
<td align="left">与星号(<code>*</code>)相同，只是重复指定的i次。</td>
</tr>
<tr>
<td align="left"><code>\&#123;i,j\&#125;</code></td>
<td align="left">与星号(<code>*</code>)相同，只是重复i至j次。</td>
</tr>
<tr>
<td align="left"><code>\&#123;i, \&#125;</code></td>
<td align="left">与星号(<code>*</code>)相同，只是至少重复i次。</td>
</tr>
<tr>
<td align="left"><code>\(regexp\)</code></td>
<td align="left">将regexp看作一个整体，用于后向引用，与<code>\digit</code>配合使用。</td>
</tr>
<tr>
<td align="left"><code>.</code></td>
<td align="left">匹配任意单个字符。</td>
</tr>
<tr>
<td align="left"><code>^</code></td>
<td align="left">匹配模版空间开始处的NULL字符串。</td>
</tr>
<tr>
<td align="left"><code>$</code></td>
<td align="left">匹配的是模版空间结束处的NULL字符串。</td>
</tr>
<tr>
<td align="left"><code>[list]</code></td>
<td align="left">匹配方括号中的字符列表中的任意一个。</td>
</tr>
<tr>
<td align="left"><code>[^list]</code></td>
<td align="left">否定匹配方括号中的字符列表中的任意一个。</td>
</tr>
<tr>
<td align="left"><code>regexp1&amp;#124;regexp2</code></td>
<td align="left">用在相邻的正则表达式之间，表示匹配这些正则表达式中任一个都可以。匹配是从左向右开始的，一旦匹配成功就停止匹配。</td>
</tr>
<tr>
<td align="left"><code>regexp1&#124;regexp2</code></td>
<td align="left">匹配regexp1和regexp2的连接结果。</td>
</tr>
<tr>
<td align="left"><code>\digit</code></td>
<td align="left">匹配正则表达式前半部分定义的后向引用的第digit个子表达式。digit为1至9的数字, 1为从左开始。</td>
</tr>
<tr>
<td align="left"><code>\n</code></td>
<td align="left">匹配换行符。</td>
</tr>
<tr>
<td align="left"><code>\meta</code></td>
<td align="left">将元字符meta转换成普通字符，以便匹配该字符本身，有<code>$</code>、 <code>*</code>、 <code>.</code>、 <code>[</code>、 <code>\</code> 和 <code>^</code>。</td>
</tr>
</tbody></table>
<h1 id="扩展正则表达式"><a href="#扩展正则表达式" class="headerlink" title="扩展正则表达式"></a>扩展正则表达式</h1><p>扩展正则表达式除了以下元字符与基本正则表达式不同外，其余相似。</p>
<p>BRE与ERE元字符对应表</p>
<table>
<thead>
<tr>
<th align="left">基本正则表达式</th>
<th align="left">扩展正则表达式</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>\?</code></td>
<td align="left"><code>?</code></td>
</tr>
<tr>
<td align="left"><code>\+</code></td>
<td align="left"><code>+</code></td>
</tr>
<tr>
<td align="left"><code>&amp;#124;</code></td>
<td align="left"><code>&#124;</code></td>
</tr>
<tr>
<td align="left"><code>\&#123; \&#125;</code></td>
<td align="left"><code>&#123; &#125;</code></td>
</tr>
<tr>
<td align="left"><code>\( \)</code></td>
<td align="left"><code>( )</code></td>
</tr>
</tbody></table>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/95f62934/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/95f62934/" class="post-title-link" itemprop="url">Linux sed命令高级用法精讲</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-07 18:35:04" itemprop="dateCreated datePublished" datetime="2021-05-07T18:35:04+08:00">2021-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">正则表达式</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/95f62934/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/95f62934/" data-xid="/blog/95f62934/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="sed-多行命令"><a href="#sed-多行命令" class="headerlink" title="sed 多行命令"></a>sed 多行命令</h1><p>在学习 sed 命令的基础功能时，你可能注意到了一个局限，即所有的 sed 命令都只是针对单行数据执行操作，在 sed 命令读取缓冲区中的文本数据时，它会基于换行符的位置，将数据分成行，sed 会根据定义好的脚本命令一次处理一行数据。</p>
<p>但是，有时我们需要对跨多行的数据执行特定操作。比如说，在文本中查找一串字符串”<a target="_blank" rel="noopener" href="http://c.biancheng.net&quot;,它很有可能出现在两行中,每行各包含其中一部分.这时,如果用普通的/">http://c.biancheng.net&quot;，它很有可能出现在两行中，每行各包含其中一部分。这时，如果用普通的</a> sed 编辑器命令来处理文本，就不可能发现这种被分开的情况。</p>
<p>幸运的是，sed 命令的设计人员已经考虑到了这种情况，并设计了对应的解决方案。sed 包含了三个可用来处理多行文本的特殊命令，分别是：</p>
<ul>
<li>Next 命令（N）：将数据流中的下一行加进来创建一个多行组来处理。</li>
<li>Delete（D）：删除多行组中的一行。</li>
<li>Print（P）：打印多行组中的一行。</li>
</ul>
<h1 id="sed多行操作命令N"><a href="#sed多行操作命令N" class="headerlink" title="sed多行操作命令N"></a>sed多行操作命令N</h1><p>N 命令会将下一行文本内容添加到缓冲区已有数据之后（之间用换行符分隔），从而使前后两个文本行同时位于缓冲区中，sed 命令会将这两行数据当成一行来处理。</p>
<h2 id="两行变一行"><a href="#两行变一行" class="headerlink" title="两行变一行"></a>两行变一行</h2><p>下面这个例子演示的 N 命令的功能：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">hello</span><br><span class="line">world</span><br><span class="line">[root@localhost sed]# sed &quot;/hello/&#123;N;s/\n/ /&#125;&quot; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">hello world</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<p>在这个例子中，sed 命令查找含有单词 hello 的那行文本。找到该行后，它会用 N 命令将下一行合并到那行，然后用替换命令 s 将换行符替换成空格。结果是，文本文件中的两行在 sed 的输出中成了一行。</p>
<h3 id="示例2"><a href="#示例2" class="headerlink" title="示例2"></a>示例2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost exam]# cat result1.txt </span><br><span class="line">1单选(3分)</span><br><span class="line">下列哪个不是单字符正则表达式？</span><br><span class="line">A.</span><br><span class="line">. </span><br><span class="line">B.</span><br><span class="line"> [i-k] </span><br><span class="line">C.</span><br><span class="line">@</span><br><span class="line">D.</span><br><span class="line">$</span><br><span class="line">正确答案：D你错选为C</span><br><span class="line">[root@localhost exam]# sed -r &#x27;N;s/([A-Z]\.)\n(.+)/\1 \2/g&#x27; result1.txt </span><br><span class="line">1单选(3分)</span><br><span class="line">下列哪个不是单字符正则表达式？</span><br><span class="line">A. . </span><br><span class="line">B.  [i-k] </span><br><span class="line">C. @</span><br><span class="line">D. $</span><br><span class="line">正确答案：D你错选为C</span><br><span class="line">[root@localhost exam]# </span><br></pre></td></tr></table></figure>
<h2 id="sed多行删除命令D"><a href="#sed多行删除命令D" class="headerlink" title="sed多行删除命令D"></a>sed多行删除命令D</h2><p>sed 不仅提供了单行删除命令（d），也提供了多行删除命令 D，其作用是只删除缓冲区中的第一行，也就是说，D 命令将缓冲区中第一个换行符（包括换行符）之前的内容删除掉。</p>
<h2 id="多行打印命令P"><a href="#多行打印命令P" class="headerlink" title="多行打印命令P"></a>多行打印命令P</h2><p>同 d 和 D 之间的区别一样，P（大写）命令和单行打印命令 p（小写）不同，对于具有多行数据的缓冲区来说，它只会打印缓冲区中的第一行，也就是首个换行符之前的所有内容。</p>
<p>未完待续</p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a target="_blank" rel="noopener" href="http://c.biancheng.net/view/4056.html">http://c.biancheng.net/view/4056.html</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/905dd514/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/905dd514/" class="post-title-link" itemprop="url">收音机说明书</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-04 21:58:34" itemprop="dateCreated datePublished" datetime="2021-05-04T21:58:34+08:00">2021-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 15:13:22" itemprop="dateModified" datetime="2022-04-04T15:13:22+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E5%85%B6%E4%BB%96/" itemprop="url" rel="index"><span itemprop="name">其他</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E5%85%B6%E4%BB%96/%E8%AF%B4%E6%98%8E%E4%B9%A6/" itemprop="url" rel="index"><span itemprop="name">说明书</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/905dd514/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/905dd514/" data-xid="/blog/905dd514/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>6</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="收音机说明书"><a href="#收音机说明书" class="headerlink" title="收音机说明书"></a>收音机说明书</h1><!-- ![说明书](https://raw.githubusercontent.com/lanlan2017/images/master/Blog/Other/ProductManual/radio/1.jpg) -->
<p><img data-src="https://raw.githubusercontent.com/lanlan2017/images/master/Blog/Other/ProductManual/radio/1.jpg" alt="说明书"></p>
<!-- ![这里有一张图片](https://gitee.com/XiaoLan223/images/blob/master/Blog/Other/ProductManual/radio/1.jpg) -->


<!-- ![](https://raw.githubusercontent.com/lanlan2017/images/master/Blog/Programming/Linux/General/VIEditorAndGarbledProblem/1.png) -->


<!-- ![这里有一张图片](https://raw.githubusercontent.com/lanlan2017/images/3a6b6244b90244da22123165c5f1d7f2a2e63774/Blog/Other/ProductManual/radio/1.jpg) -->

<!-- ![](https://raw.githubusercontent.com/lanlan2017/images/master/Blog/Other/ProductManual/radio/1.jpg) -->

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/21ec0bd3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/21ec0bd3/" class="post-title-link" itemprop="url">Linux复杂筛选及加工命令awk</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-03 15:40:15" itemprop="dateCreated datePublished" datetime="2021-05-03T15:40:15+08:00">2021-05-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">正则表达式</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/21ec0bd3/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/21ec0bd3/" data-xid="/blog/21ec0bd3/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>4.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>4 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Linux复杂筛选及加工命令awk"><a href="#Linux复杂筛选及加工命令awk" class="headerlink" title="Linux复杂筛选及加工命令awk"></a>Linux复杂筛选及加工命令awk</h1><h2 id="awk：逐行扫描进行文本处理的一门语言"><a href="#awk：逐行扫描进行文本处理的一门语言" class="headerlink" title="awk：逐行扫描进行文本处理的一门语言"></a>awk：逐行扫描进行文本处理的一门语言</h2><p>a.w.k分别为该程序的三位设计者姓氏的第一个字母</p>
<h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><p>awk ‘程序’ 文件名列表<br>awk -f 程序文件名 文件名列表</p>
<h2 id="awk程序"><a href="#awk程序" class="headerlink" title="awk程序"></a>awk程序</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">条件&#123;动作&#125;</span><br></pre></td></tr></table></figure>
<p>awk自动对每行文本执行条件判断，满足条件则执行动作 （内置循环）<br>允许多段程序：多段程序间用空格或分号隔开。</p>
<h2 id="处理方式"><a href="#处理方式" class="headerlink" title="处理方式"></a>处理方式</h2><ul>
<li>输入文件的每行作为一个“记录”，awk内置变量NR就是行号</li>
<li>每行用空格分隔开的部分，叫做记录的“域”<ul>
<li>内置变量$1是第1域内容，依次，$2是第2域内容，……</li>
<li>特别的，$0指的是整个这一行的内容</li>
</ul>
</li>
<li>awk的处理为：符合条件的行，执行相应的动作</li>
</ul>
<h2 id="awk描述条件的方法"><a href="#awk描述条件的方法" class="headerlink" title="awk描述条件的方法"></a>awk描述条件的方法</h2><h3 id="关系运算-与C语言类似的"><a href="#关系运算-与C语言类似的" class="headerlink" title="关系运算 与C语言类似的"></a>关系运算 与C语言类似的</h3><table>
<thead>
<tr>
<th align="left">awk关系运算符</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&lt;</td>
<td align="left">小于</td>
</tr>
<tr>
<td align="left">&lt;&#x3D;</td>
<td align="left">小于或等于</td>
</tr>
<tr>
<td align="left">&#x3D;&#x3D;</td>
<td align="left">等于</td>
</tr>
<tr>
<td align="left">!&#x3D;</td>
<td align="left">不等于</td>
</tr>
<tr>
<td align="left">&gt;</td>
<td align="left">大于</td>
</tr>
<tr>
<td align="left">&gt;&#x3D;</td>
<td align="left">大于或等于</td>
</tr>
</tbody></table>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p>使用与C语言类似的逻辑算符</p>
<table>
<thead>
<tr>
<th align="left">awk逻辑运算符</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&amp;#124;&amp;#124;</td>
<td align="left">条件或</td>
</tr>
<tr>
<td align="left"><code>&amp;&amp;</code></td>
<td align="left">条件与</td>
</tr>
<tr>
<td align="left"><code>!</code></td>
<td align="left">条件非</td>
</tr>
</tbody></table>
<h3 id="正则表达式的模式匹配-x2F-regexpr-x2F"><a href="#正则表达式的模式匹配-x2F-regexpr-x2F" class="headerlink" title="正则表达式的模式匹配 &#x2F;regexpr&#x2F;"></a>正则表达式的模式匹配 &#x2F;regexpr&#x2F;</h3><p>包含该模式的行，执行动作</p>
<h3 id="特殊的条件"><a href="#特殊的条件" class="headerlink" title="特殊的条件"></a>特殊的条件</h3><ul>
<li>不指定任何条件：对所有文本行执行动作</li>
<li>BEGIN：开始处理所有文本行之前执行动作</li>
<li>END：处理完所有文本行之后执行动作</li>
</ul>
<h2 id="awk描述动作的方法"><a href="#awk描述动作的方法" class="headerlink" title="awk描述动作的方法"></a>awk描述动作的方法</h2><p>描述“动作”时，简单的用法有：</p>
<ul>
<li>自定义变量</li>
<li>加减乘除等算术逻辑运算</li>
<li>正则表达式匹配运算符（用作条件判断） ~    !~<ul>
<li>例如： $2 ~  “[1-9][0-9]*”</li>
</ul>
</li>
<li>流程控制（与C语言类似）<ul>
<li>条件判断 if</li>
<li>循环控制 for</li>
</ul>
</li>
<li>print 变量1， 变量2，……</li>
<li>printf(”格式串”，变量1，变量2，……)</li>
</ul>
<h1 id="awk示例"><a href="#awk示例" class="headerlink" title="awk示例"></a>awk示例</h1><h2 id="只显示命令输出的某些列"><a href="#只显示命令输出的某些列" class="headerlink" title="只显示命令输出的某些列"></a>只显示命令输出的某些列</h2><h3 id="只显示ls-l命令的某些列"><a href="#只显示ls-l命令的某些列" class="headerlink" title="只显示ls -l命令的某些列"></a>只显示ls -l命令的某些列</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# ls -l</span><br><span class="line">总用量 48</span><br><span class="line">-rw-r--r--. 1 root root    0 5月   3 15:27 a.txt</span><br><span class="line">-rw-r--r--. 1 root root    0 5月   3 15:27 b.txt</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:16 cat</span><br><span class="line">-rw-r--r--. 1 root root    0 5月   3 15:27 c.txt</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:18 date</span><br><span class="line">-rw-r--r--. 1 root root    0 5月   3 15:27 d.txt</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:16 less</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:14 ls</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:15 more</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:18 ps</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:15 sort</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:14 tr</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 18:47 uniq</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:17 vi</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:17 wc</span><br><span class="line">drwxr-xr-x. 4 root root 4096 5月   3 14:36 正则表达式</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>
<p>只打印第1列和第9列（最后一列）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# ls -l| awk &#x27;&#123; printf(&quot;%s %s\n&quot;,$1,$9); &#125;&#x27;</span><br><span class="line">总用量 </span><br><span class="line">-rw-r--r--. a.txt</span><br><span class="line">-rw-r--r--. b.txt</span><br><span class="line">drwxr-xr-x. cat</span><br><span class="line">-rw-r--r--. c.txt</span><br><span class="line">drwxr-xr-x. date</span><br><span class="line">-rw-r--r--. d.txt</span><br><span class="line">drwxr-xr-x. less</span><br><span class="line">drwxr-xr-x. ls</span><br><span class="line">drwxr-xr-x. more</span><br><span class="line">drwxr-xr-x. ps</span><br><span class="line">drwxr-xr-x. sort</span><br><span class="line">drwxr-xr-x. tr</span><br><span class="line">drwxr-xr-x. uniq</span><br><span class="line">drwxr-xr-x. vi</span><br><span class="line">drwxr-xr-x. wc</span><br><span class="line">drwxr-xr-x. 正则表达式</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>
<h3 id="只显示date命令的某些列"><a href="#只显示date命令的某些列" class="headerlink" title="只显示date命令的某些列"></a>只显示date命令的某些列</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost C_Test]# date</span><br><span class="line">2021年 05月 03日 星期一 16:30:54 CST</span><br><span class="line">[root@localhost C_Test]# date|awk &#x27;&#123;printf(&quot;%s %s %s\n&quot;,$1,$2,$3);&#125;&#x27;</span><br><span class="line">2021年 05月 03日</span><br><span class="line">[root@localhost C_Test]# date|awk &#x27;&#123;printf(&quot;%s\n&quot;,$4);&#125;&#x27;</span><br><span class="line">星期一</span><br><span class="line">[root@localhost C_Test]# date|awk &#x27;&#123;printf(&quot;%s\n&quot;,$5);&#125;&#x27;</span><br><span class="line">16:31:16</span><br><span class="line">[root@localhost C_Test]# </span><br></pre></td></tr></table></figure>
<p>上面这些功能也可以使用print实现：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost C_Test]# date</span><br><span class="line">2021年 05月 03日 星期一 16:41:03 CST</span><br><span class="line">[root@localhost C_Test]# date|awk &#x27;&#123;print $1 $2 $3&#125;&#x27;</span><br><span class="line">2021年05月03日</span><br><span class="line">[root@localhost C_Test]# date|awk &#x27;&#123;print $4&#125;&#x27;</span><br><span class="line">星期一</span><br><span class="line">[root@localhost C_Test]# date|awk &#x27;&#123;print $5&#125;&#x27;</span><br><span class="line">16:41:17</span><br><span class="line">[root@localhost C_Test]#</span><br></pre></td></tr></table></figure>
<h2 id="显示文件时显示自定义行号"><a href="#显示文件时显示自定义行号" class="headerlink" title="显示文件时显示自定义行号"></a>显示文件时显示自定义行号</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost C_Test]# cat helloworld.c</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    printf(&quot;%s\n&quot;,&quot;HelloWorld!&quot;);</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost C_Test]# cat helloworld.c|awk &#x27;&#123;printf(&quot;%d: %s\n&quot;,NR,$0);&#125;&#x27;</span><br><span class="line">1: #include &lt;stdio.h&gt;</span><br><span class="line">2: </span><br><span class="line">3: int main()</span><br><span class="line">4: &#123;</span><br><span class="line">5:     printf(&quot;%s\n&quot;,&quot;HelloWorld!&quot;);</span><br><span class="line">6: &#125;</span><br><span class="line">[root@localhost C_Test]# cat -n helloworld.c</span><br><span class="line">     1    #include &lt;stdio.h&gt;</span><br><span class="line">     2    </span><br><span class="line">     3    int main()</span><br><span class="line">     4    &#123;</span><br><span class="line">     5        printf(&quot;%s\n&quot;,&quot;HelloWorld!&quot;);</span><br><span class="line">     6    &#125;</span><br><span class="line">[root@localhost C_Test]# </span><br></pre></td></tr></table></figure>
<h2 id="只显示文件大小大于等于16KB的文件"><a href="#只显示文件大小大于等于16KB的文件" class="headerlink" title="只显示文件大小大于等于16KB的文件"></a>只显示文件大小大于等于16KB的文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost C_Test]# ls -sh</span><br><span class="line">总用量 120K</span><br><span class="line"> 16K a.out       4.0K file1.txt  4.0K file3.txt  4.0K forkTest.c  4.0K helloworld.c    4.0K redCharacter.c    4.0K strerror.c        16K terminalColor.out</span><br><span class="line">4.0K command.sh  4.0K file2.txt  4.0K file4.txt   16K forkTest.o   16K helloworld.out   16K redCharacter.out  4.0K terminalColor.c</span><br><span class="line">[root@localhost C_Test]# ls -s</span><br><span class="line">总用量 120</span><br><span class="line">16 a.out        4 file1.txt   4 file3.txt   4 forkTest.c   4 helloworld.c     4 redCharacter.c     4 strerror.c       16 terminalColor.out</span><br><span class="line"> 4 command.sh   4 file2.txt   4 file4.txt  16 forkTest.o  16 helloworld.out  16 redCharacter.out   4 terminalColor.c</span><br><span class="line">[root@localhost C_Test]# ls -s|awk &#x27;$1&gt;=16&#123;printf(&quot;%s\n&quot;,$0);&#125;&#x27;</span><br><span class="line">总用量 120</span><br><span class="line">16 a.out</span><br><span class="line">16 forkTest.o</span><br><span class="line">16 helloworld.out</span><br><span class="line">16 redCharacter.out</span><br><span class="line">16 terminalColor.out</span><br><span class="line">[root@localhost C_Test]#</span><br></pre></td></tr></table></figure>
<h2 id="列出当前目录下的所有-c文件"><a href="#列出当前目录下的所有-c文件" class="headerlink" title="列出当前目录下的所有.c文件"></a>列出当前目录下的所有.c文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost C_Test]# ls</span><br><span class="line">a.out       file1.txt  file3.txt  forkTest.c  helloworld.c    redCharacter.c    strerror.c       terminalColor.out</span><br><span class="line">command.sh  file2.txt  file4.txt  forkTest.o  helloworld.out  redCharacter.out  terminalColor.c</span><br><span class="line">[root@localhost C_Test]# ls|awk &#x27;/.+\.c/&#x27;</span><br><span class="line">forkTest.c</span><br><span class="line">helloworld.c</span><br><span class="line">redCharacter.c</span><br><span class="line">strerror.c</span><br><span class="line">terminalColor.c</span><br><span class="line">[root@localhost C_Test]# ls -l |awk &#x27;/.+\.c/&#x27;</span><br><span class="line">-rw-r--r--. 1 root root   152 4月  11 17:26 forkTest.c</span><br><span class="line">-rw-r--r--. 1 root root    66 5月   3 16:22 helloworld.c</span><br><span class="line">-rw-r--r--. 1 root root   785 4月   3 22:34 redCharacter.c</span><br><span class="line">-rw-r--r--. 1 root root   496 3月  24 17:53 strerror.c</span><br><span class="line">-rw-r--r--. 1 root root  1623 4月   3 22:48 terminalColor.c</span><br><span class="line">[root@localhost C_Test]# </span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/ce005e75/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/ce005e75/" class="post-title-link" itemprop="url">Linux流编辑命令sed</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-03 15:32:51" itemprop="dateCreated datePublished" datetime="2021-05-03T15:32:51+08:00">2021-05-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">正则表达式</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/ce005e75/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/ce005e75/" data-xid="/blog/ce005e75/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>35k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>32 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="流编辑sed和正则表达式替换"><a href="#流编辑sed和正则表达式替换" class="headerlink" title="流编辑sed和正则表达式替换"></a>流编辑sed和正则表达式替换</h1><p>sed 会根据脚本命令来处理文本文件中的数据，这些命令要么从命令行中输入，要么存储在一个文本文件中，此命令执行数据的顺序如下：</p>
<ul>
<li>每次仅读取一行内容；</li>
<li>根据提供的规则命令匹配并修改数据。注意，sed 默认不会直接修改源文件数据，而是会将数据复制到缓冲区中，修改也仅限于缓冲区中的数据；</li>
<li>将执行结果输出。</li>
</ul>
<p>当一行数据匹配完成后，它会继续读取下一行数据，并重复这个过程，直到将文件中所有数据处理完毕。</p>
<p>sed全名叫stream editor，流编辑器，用程序的方式来编辑文本，相当的hacker啊。sed基本上就是玩正则模式匹配，所以，玩sed的人，正则表达式一般都比较强。</p>
<p>sed 默认读取整个文件并对其中的每一行进行修改。说白了就是一行一行的操作。</p>
<p>sed 是一种在线编辑器，它一次处理一行内容。处理时，把当前处理的行存储在临时缓冲区中，称为“模式空间”（pattern space），接着用sed命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。文件内容并没有 改变，除非你使用重定向存储输出。Sed主要用来自动编辑一个或多个文件；简化对文件的反复操作；编写转换程序等。</p>
<h1 id="sed命令常用选项及含义"><a href="#sed命令常用选项及含义" class="headerlink" title="sed命令常用选项及含义"></a>sed命令常用选项及含义</h1><table>
<thead>
<tr>
<th align="left">选项</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-e 脚本命令</td>
<td align="left">该选项会将其后跟的脚本命令添加到已有的命令中。</td>
</tr>
<tr>
<td align="left">-f 脚本命令文件</td>
<td align="left">，该选项会将其后文件中的脚本命令添加到已有的命令中。</td>
</tr>
<tr>
<td align="left">-n</td>
<td align="left">使用安静silent模式。在一般sed的用法中，所有来自stdin的内容一般都会被列出到屏幕上。但如果加上-n参数后，则只有经过sed特殊处理的那一行(或者动作)才会被列出来</td>
</tr>
<tr>
<td align="left">-i</td>
<td align="left">直接修改读取的文件内容，而不是由屏幕输出</td>
</tr>
<tr>
<td align="left">-r</td>
<td align="left">让sed命令支持扩展的正则表达式(默认是基础正则表达式)</td>
</tr>
</tbody></table>
<h2 id="sed命令常见用法"><a href="#sed命令常见用法" class="headerlink" title="sed命令常见用法"></a>sed命令常见用法</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;命令&#x27; 文件名列表</span><br><span class="line">sed –e &#x27;命令1&#x27; –e &#x27;命令2&#x27; –e &#x27;命令3&#x27; 文件名列表</span><br><span class="line">sed -f 命令文件 文件名列表</span><br></pre></td></tr></table></figure>
<p>成功使用 sed 命令的关键在于掌握各式各样的脚本命令及格式，它能帮你定制编辑文件的规则。</p>
<h2 id="sed-i：直接修改文件内容"><a href="#sed-i：直接修改文件内容" class="headerlink" title="sed -i：直接修改文件内容"></a>sed -i：直接修改文件内容</h2><p>sed 的<code>-i</code>选项可以直接修改文件内容，这功能非常有帮助！举例来说，如果你有一个 100 万行的文件，你要在第 100 行加某些文字，此时使用 vim 可能会疯掉！因为文件太大了！那怎办？就利用 sed 啊！透过 sed 直接修改&#x2F;取代的功能，你甚至不需要使用 vim 去修订！</p>
<h3 id="删除空行"><a href="#删除空行" class="headerlink" title="删除空行"></a>删除空行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]# sed &#x27;/^$/d&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]#</span><br></pre></td></tr></table></figure>
<h3 id="删除空行并且替换原文件"><a href="#删除空行并且替换原文件" class="headerlink" title="删除空行并且替换原文件"></a>删除空行并且替换原文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]# sed -i &#x27;/^$/d&#x27; sed_append.txt </span><br><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]#</span><br></pre></td></tr></table></figure>
<p>删除＃号开头的行到最后一行之间的所有行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]# sed &#x27;/^#/,$d&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed -i &#x27;/^#/,$d&#x27; sed_append.txt </span><br><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h1 id="sed脚本命令"><a href="#sed脚本命令" class="headerlink" title="sed脚本命令"></a>sed脚本命令</h1><h2 id="sed脚本命令s：替换行中的部分内容"><a href="#sed脚本命令s：替换行中的部分内容" class="headerlink" title="sed脚本命令s：替换行中的部分内容"></a>sed脚本命令s：替换行中的部分内容</h2><p>此命令的基本格式为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[address]s/pattern/replacement/flags</span><br></pre></td></tr></table></figure>
<p>其中，<br>address表示指定要操作的具体行，<br>pattern 指的是需要替换的内容，<br>replacement 指的是要替换的新内容。</p>
<p>此命令中常用的 flags 标记如下表所示</p>
<h3 id="sed的s命令的flags标记及功能"><a href="#sed的s命令的flags标记及功能" class="headerlink" title="sed的s命令的flags标记及功能"></a>sed的s命令的flags标记及功能</h3><table>
<thead>
<tr>
<th align="left">flags标记</th>
<th align="left">功能</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>n</code></td>
<td align="left">1~512 之间的数字，表示指定要替换的字符串出现第几次时才进行替换，例如，一行中有 3 个 A，但用户只想替换第二个 A，这是就用到这个标记；</td>
</tr>
<tr>
<td align="left"><code>g</code></td>
<td align="left">对数据中所有匹配到的内容进行替换，如果没有 g，则只会在第一次匹配成功时做替换操作。例如，一行数据中有 3 个 A，则只会替换第一个 A；</td>
</tr>
<tr>
<td align="left"><code>p</code></td>
<td align="left">会打印与替换命令中指定的模式匹配的行。此标记通常与 -n 选项一起使用。</td>
</tr>
<tr>
<td align="left"><code>w file</code></td>
<td align="left">将缓冲区中的内容写到指定的 file 文件中；</td>
</tr>
<tr>
<td align="left"><code>&amp;</code></td>
<td align="left">用正则表达式匹配的内容进行替换；</td>
</tr>
<tr>
<td align="left"><code>\n</code></td>
<td align="left">匹配第 n 个子串，该子串之前在 pattern 中用 () 指定。</td>
</tr>
<tr>
<td align="left"><code>\</code></td>
<td align="left">转义（转义替换部分包含：&amp;、\ 等）。</td>
</tr>
</tbody></table>
<h3 id="在行首添加内容"><a href="#在行首添加内容" class="headerlink" title="在行首添加内容"></a>在行首添加内容</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]# sed &#x27;s/^/#/g&#x27; sed_append.txt </span><br><span class="line">#this is line a</span><br><span class="line">#this is line b</span><br><span class="line">#this is line c</span><br><span class="line">#this is line d</span><br><span class="line">## helloworld_1</span><br><span class="line">## helloworld_2</span><br><span class="line">## helloworld_3</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="在行尾添加内容"><a href="#在行尾添加内容" class="headerlink" title="在行尾添加内容"></a>在行尾添加内容</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]# sed &#x27;s/$/。/g&#x27; sed_append.txt </span><br><span class="line">this is line a。</span><br><span class="line">this is line b。</span><br><span class="line">this is line c。</span><br><span class="line">this is line d。</span><br><span class="line"># helloworld_1。</span><br><span class="line"># helloworld_2。</span><br><span class="line"># helloworld_3。</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>


<h3 id="替换所有行中第n次模式匹配的地方：sed-‘s-x2F-pattern-x2F-replacement-x2F-n’"><a href="#替换所有行中第n次模式匹配的地方：sed-‘s-x2F-pattern-x2F-replacement-x2F-n’" class="headerlink" title="替换所有行中第n次模式匹配的地方：sed ‘s&#x2F;pattern&#x2F;replacement&#x2F;n’"></a>替换所有行中第n次模式匹配的地方：sed ‘s&#x2F;pattern&#x2F;replacement&#x2F;n’</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;s/pattern/replacement/n&#x27;</span><br></pre></td></tr></table></figure>
<p>例如,将所有行中出现的第二个制表符<code>\t</code>替换为减号<code>-</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">	public static void main(String[] args)&#123;</span><br><span class="line">		System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">		System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">		System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">		for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">			System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;s/\t/----/2&#x27; SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">	public static void main(String[] args)&#123;</span><br><span class="line">	----System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">	----System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">	----System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">	----for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">	----	System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">	----&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<p>将所有行中出现的第3个sed字符串替换为全大写的SED字符串：</p>
<pre>
[root@localhost sed]&#35; cat SedTest.java 
public class SedTest{
    public static void main(String[] args){
        System.out.println("HelloWorld!");
        System.out.println("sed命令示例");
        System.out.println("sed替换示例");
        for(int i=0;i&lt;5;i++){
            System.out.println("sed_sed_sed_sed"+i);
        }
    }
}
[root@localhost sed]&#35; sed 's/sed/SED/3' SedTest.java 
public class SedTest{
    public static void main(String[] args){
        System.out.println("HelloWorld!");
        System.out.println("sed命令示例");
        System.out.println("sed替换示例");
        for(int i=0;i&lt;5;i++){
            System.out.println("sed_sed_<mark>SED</mark>_sed"+i);
        }
    }
}
[root@localhost sed]&#35; 
</pre>

<h3 id="替换某行中全部模式匹配的地方：sed-‘行号s-x2F-pattern-x2F-replacement-x2F-g’"><a href="#替换某行中全部模式匹配的地方：sed-‘行号s-x2F-pattern-x2F-replacement-x2F-g’" class="headerlink" title="替换某行中全部模式匹配的地方：sed ‘行号s&#x2F;pattern&#x2F;replacement&#x2F;g’"></a>替换某行中全部模式匹配的地方：sed ‘行号s&#x2F;pattern&#x2F;replacement&#x2F;g’</h3><p>把第3行中的所有<code>\t</code>全部替换为4个减号：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n SedTest.java </span><br><span class="line">     1    public class SedTest&#123;</span><br><span class="line">     2        public static void main(String[] args)&#123;</span><br><span class="line">     3            System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">     4            System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">     5            System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">     6            for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">     7                System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">     8            &#125;</span><br><span class="line">     9        &#125;</span><br><span class="line">    10    &#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;3s/\t/----/g&#x27; SedTest.java|cat -n</span><br><span class="line">     1    public class SedTest&#123;</span><br><span class="line">     2        public static void main(String[] args)&#123;</span><br><span class="line">     3    --------System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">     4            System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">     5            System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">     6            for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">     7                System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">     8            &#125;</span><br><span class="line">     9        &#125;</span><br><span class="line">    10    &#125;</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="替换第N行到第M行中第x次模式匹配的地方：sed-‘N-Ms-x2F-pattern-x2F-replacement-x2F-x’"><a href="#替换第N行到第M行中第x次模式匹配的地方：sed-‘N-Ms-x2F-pattern-x2F-replacement-x2F-x’" class="headerlink" title="替换第N行到第M行中第x次模式匹配的地方：sed ‘N,Ms&#x2F;pattern&#x2F;replacement&#x2F;x’"></a>替换第N行到第M行中第x次模式匹配的地方：sed ‘N,Ms&#x2F;pattern&#x2F;replacement&#x2F;x’</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;N,Ms/pattern/replacement/x&#x27;</span><br></pre></td></tr></table></figure>
<p>这里的行号范围包括N,但不包括M,也就是替换[N,M)区间内的行数。</p>
<h4 id="第2到第3行之间的第2个制表符替换成四个减号"><a href="#第2到第3行之间的第2个制表符替换成四个减号" class="headerlink" title="第2到第3行之间的第2个制表符替换成四个减号"></a>第2到第3行之间的第2个制表符替换成四个减号</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# sed &#x27;2,3s/\t/----/2&#x27; SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">    ----System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]#</span><br></pre></td></tr></table></figure>
<h4 id="第2到第4行之间的第2个制表符替换成四个减号"><a href="#第2到第4行之间的第2个制表符替换成四个减号" class="headerlink" title="第2到第4行之间的第2个制表符替换成四个减号"></a>第2到第4行之间的第2个制表符替换成四个减号</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# sed &#x27;2,4s/\t/----/2&#x27; SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">    ----System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">    ----System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]#</span><br></pre></td></tr></table></figure>
<h3 id="替换行中所有模式匹配的地方：sed-‘s-x2F-pattern-x2F-replacement-x2F-g’"><a href="#替换行中所有模式匹配的地方：sed-‘s-x2F-pattern-x2F-replacement-x2F-g’" class="headerlink" title="替换行中所有模式匹配的地方：sed ‘s&#x2F;pattern&#x2F;replacement&#x2F;g’"></a>替换行中所有模式匹配的地方：sed ‘s&#x2F;pattern&#x2F;replacement&#x2F;g’</h3><h4 id="将所有行中的所有制表符全部替换为四个减号"><a href="#将所有行中的所有制表符全部替换为四个减号" class="headerlink" title="将所有行中的所有制表符全部替换为四个减号"></a>将所有行中的所有制表符全部替换为四个减号</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;s/\t/----/g&#x27; SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">----public static void main(String[] args)&#123;</span><br><span class="line">--------System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">--------System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">--------System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">--------for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">------------System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">--------&#125;</span><br><span class="line">----&#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h4 id="将所有的全小写的sed字符全部替换为全大写的SED字符串"><a href="#将所有的全小写的sed字符全部替换为全大写的SED字符串" class="headerlink" title="将所有的全小写的sed字符全部替换为全大写的SED字符串"></a>将所有的全小写的sed字符全部替换为全大写的SED字符串</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;s/sed/SED/g&#x27; SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;SED命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;SED替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;SED_SED_SED_SED&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h4 id="将包括第1行到不包括第3行之间的制表符改成4个减号"><a href="#将包括第1行到不包括第3行之间的制表符改成4个减号" class="headerlink" title="将包括第1行到不包括第3行之间的制表符改成4个减号"></a>将包括第1行到不包括第3行之间的制表符改成4个减号</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;1,3s/\t/----/g&#x27; SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">----public static void main(String[] args)&#123;</span><br><span class="line">--------System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="将缓冲区中的内容输出到文件中：sed-‘s-x2F-pattern-x2F-replacement-x2F-flag-w-file’："><a href="#将缓冲区中的内容输出到文件中：sed-‘s-x2F-pattern-x2F-replacement-x2F-flag-w-file’：" class="headerlink" title="将缓冲区中的内容输出到文件中：sed ‘s&#x2F;pattern&#x2F;replacement&#x2F;flag w file’："></a>将缓冲区中的内容输出到文件中：sed ‘s&#x2F;pattern&#x2F;replacement&#x2F;flag w file’：</h3><p>经过替换的行会保存在缓冲区中，没经过替换的行则不会放入缓冲区中。如果想把这些经过替换之后的行输出到文件中，可以在s脚本的后面追加flags标记<code>w 文件名</code>。</p>
<p>例如，将[2,4)区间范围的行的所有\t替换成四个减号，并且输出缓冲区的内容到文件中：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;2,4s/\t/----/g w out.txt&#x27; SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">----public static void main(String[] args)&#123;</span><br><span class="line">--------System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">--------System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# ls</span><br><span class="line">out.txt  SedTest.java</span><br><span class="line">[root@localhost sed]# cat out.txt </span><br><span class="line">----public static void main(String[] args)&#123;</span><br><span class="line">--------System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">--------System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h2 id="sed脚本命令d：删除某行"><a href="#sed脚本命令d：删除某行" class="headerlink" title="sed脚本命令d：删除某行"></a>sed脚本命令d：删除某行</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;[address]d&#x27;</span><br></pre></td></tr></table></figure>
<p>如果需要删除文本中的特定行，可以用 d 脚本命令，它会删除指定行中的所有内容。但使用该命令时要特别小心，如果你忘记指定具体行的话，文件中的所有内容都会被删除，举个例子：</p>
<h3 id="sed删除所有的行"><a href="#sed删除所有的行" class="headerlink" title="sed删除所有的行"></a>sed删除所有的行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;d&#x27; SedTest.java &gt; sed_d_out.txt</span><br><span class="line">[root@localhost sed]# cat sed_d_out.txt </span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="sed删除指定行"><a href="#sed删除指定行" class="headerlink" title="sed删除指定行"></a>sed删除指定行</h3><h4 id="只删除某行"><a href="#只删除某行" class="headerlink" title="只删除某行"></a>只删除某行</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;行号d&#x27;</span><br></pre></td></tr></table></figure>
<p>例如，只删除第2行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n SedTest.java </span><br><span class="line">     1    public class SedTest&#123;</span><br><span class="line">     2        public static void main(String[] args)&#123;</span><br><span class="line">     3            System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">     4            System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">     5            System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">     6            for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">     7                System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">     8            &#125;</span><br><span class="line">     9        &#125;</span><br><span class="line">    10    &#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;2d&#x27; SedTest.java</span><br><span class="line">public class SedTest&#123;</span><br><span class="line">        System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h4 id="删除第N行到第M行"><a href="#删除第N行到第M行" class="headerlink" title="删除第N行到第M行"></a>删除第N行到第M行</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;[N,M]d&#x27;</span><br></pre></td></tr></table></figure>
<p>与替换不同的时，删除使用的是全闭区间。<br>命令<code>sed &#39;1,2d&#39; SedTest.java</code>表示删除区间<code>[1,2]</code>的所有行,也就是删除第1行，并且删除第2行。<br>而命令<code>sed &#39;1,2s/\t/----/g&#39; SetTest.java</code>,表示把区间<code>[1,2)</code>之间的所有行中的\t全部替换成四个减号，也就是只替换第1行，不替换第2行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n SedTest.java </span><br><span class="line">     1	public class SedTest&#123;</span><br><span class="line">     2		public static void main(String[] args)&#123;</span><br><span class="line">     3			System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">     4			System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">     5			System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">     6			for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">     7				System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">     8			&#125;</span><br><span class="line">     9		&#125;</span><br><span class="line">    10	&#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;1,2d&#x27; SedTest.java</span><br><span class="line">		System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">		System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">		System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">		for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">			System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;1,2s/\t/----/g&#x27; SedTest.java</span><br><span class="line">public class SedTest&#123;</span><br><span class="line">----public static void main(String[] args)&#123;</span><br><span class="line">		System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">		System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">		System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">		for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">			System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="删除空行-1"><a href="#删除空行-1" class="headerlink" title="删除空行"></a>删除空行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;/^$/d&#x27; a.txt       #删除所有空行</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;/^$/d&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<p>删除<code>#</code>开头的行，到最后一行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]# sed &#x27;/^#/,$d&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>

<h2 id="sed脚本命令a：在指定行后追加新行"><a href="#sed脚本命令a：在指定行后追加新行" class="headerlink" title="sed脚本命令a：在指定行后追加新行"></a>sed脚本命令a：在指定行后追加新行</h2><p>在第N行之后附加新的内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;行号a 附加的内容&#x27;</span><br></pre></td></tr></table></figure>
<h3 id="在某行之后追加一行"><a href="#在某行之后追加一行" class="headerlink" title="在某行之后追加一行"></a>在某行之后追加一行</h3><p>例如，在第2行只有追加一行字符串<code>this is the newly inserted line</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n sed_append.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2a this is the newly inserted line&#x27; sed_append.txt |cat -n</span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is the newly inserted line</span><br><span class="line">     4    this is line c</span><br><span class="line">     5    this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="在某行之后追加多行"><a href="#在某行之后追加多行" class="headerlink" title="在某行之后追加多行"></a>在某行之后追加多行</h3><h4 id="使用折行符号"><a href="#使用折行符号" class="headerlink" title="使用折行符号"></a>使用折行符号</h4><p>使用在<strong>单引号</strong>中使用折行符<code>\</code>可以追加多行到指定行的后面：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n sed_append.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2a this is the newly inserted line 1\</span><br><span class="line">this is the newly inserted line 2&#x27; sed_append.txt |cat -n</span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is the newly inserted line 1</span><br><span class="line">     4    this is the newly inserted line 2</span><br><span class="line">     5    this is line c</span><br><span class="line">     6    this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h4 id="使用换行符-n"><a href="#使用换行符-n" class="headerlink" title="使用换行符\n"></a>使用换行符\n</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n sed_append.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">     5    helloworld1</span><br><span class="line">     6    helloworld2</span><br><span class="line">[root@localhost sed]# sed &#x27;1i this is the newly inserted line 1\nthis is the newly inserted line 2&#x27; sed_append.txt |cat -n</span><br><span class="line">     1    this is the newly inserted line 1</span><br><span class="line">     2    this is the newly inserted line 2</span><br><span class="line">     3    this is line a</span><br><span class="line">     4    this is line b</span><br><span class="line">     5    this is line c</span><br><span class="line">     6    this is line d</span><br><span class="line">     7    helloworld1</span><br><span class="line">     8    helloworld2</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>

<h2 id="sed脚本命令i：在指定行之前插入新行"><a href="#sed脚本命令i：在指定行之前插入新行" class="headerlink" title="sed脚本命令i：在指定行之前插入新行"></a>sed脚本命令i：在指定行之前插入新行</h2><h3 id="在第N行之前插入一行"><a href="#在第N行之前插入一行" class="headerlink" title="在第N行之前插入一行"></a>在第N行之前插入一行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n sed_append.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2i this is the newly inserted line&#x27; sed_append.txt |cat -n</span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is the newly inserted line</span><br><span class="line">     3    this is line b</span><br><span class="line">     4    this is line c</span><br><span class="line">     5    this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="在第N行之前插入多行"><a href="#在第N行之前插入多行" class="headerlink" title="在第N行之前插入多行"></a>在第N行之前插入多行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n sed_append.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2i this is the newly inserted line 1\</span><br><span class="line">this is the newly inserted line 2&#x27; sed_append.txt |cat -n</span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is the newly inserted line 1</span><br><span class="line">     3    this is the newly inserted line 2</span><br><span class="line">     4    this is line b</span><br><span class="line">     5    this is line c</span><br><span class="line">     6    this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>

<h2 id="sed脚本命令c：替换整行"><a href="#sed脚本命令c：替换整行" class="headerlink" title="sed脚本命令c：替换整行"></a>sed脚本命令c：替换整行</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[address]c\用于替换的新文本</span><br></pre></td></tr></table></figure>
<h3 id="替换第2行的内容"><a href="#替换第2行的内容" class="headerlink" title="替换第2行的内容"></a>替换第2行的内容</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n sed_append.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2c this is the line after replacement&#x27; sed_append.txt |cat -n</span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is the line after replacement</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>

<h2 id="sed脚本命令y：字符集映射替换"><a href="#sed脚本命令y：字符集映射替换" class="headerlink" title="sed脚本命令y：字符集映射替换"></a>sed脚本命令y：字符集映射替换</h2><p>y 转换命令是唯一可以处理单个字符的 sed 脚本命令，其基本格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;[address]y/inchars/outchars/&#x27;</span><br></pre></td></tr></table></figure>
<p>转换命令会对 inchars 和 outchars 值进行一对一的映射，即 inchars 中的第一个字符会被转换为 outchars 中的第一个字符，第二个字符会被转换成 outchars 中的第二个字符…这个映射过程会一直持续到处理完指定字符。如果 inchars 和 outchars 的长度不同，则 sed 会产生一条错误消息。</p>
<h3 id="示例1"><a href="#示例1" class="headerlink" title="示例1"></a>示例1</h3><p>例如按如下映射进行替换：</p>
<table>
<thead>
<tr>
<th align="left">匹配字符</th>
<th align="left">替换字符</th>
</tr>
</thead>
<tbody><tr>
<td align="left">a</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">b</td>
<td align="left">2</td>
</tr>
<tr>
<td align="left">c</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">d</td>
<td align="left">4</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;y/abcd/1234/&#x27; sed_append.txt</span><br><span class="line">this is line 1</span><br><span class="line">this is line 2</span><br><span class="line">this is line 3</span><br><span class="line">this is line 4</span><br><span class="line">[root@localhost sed]# sed &#x27;1,2y/abcd/1234/&#x27; sed_append.txt</span><br><span class="line">this is line 1</span><br><span class="line">this is line 2</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<p>可以看到，inchars 模式中指定字符的每个实例都会被替换成 outchars 模式中相同位置的那个字符。</p>
<h3 id="示例2"><a href="#示例2" class="headerlink" title="示例2"></a>示例2</h3><table>
<thead>
<tr>
<th align="left">匹配字符</th>
<th align="left">替换字符</th>
</tr>
</thead>
<tbody><tr>
<td align="left">a</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">b</td>
<td align="left">2</td>
</tr>
<tr>
<td align="left">c</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">d</td>
<td align="left">4</td>
</tr>
<tr>
<td align="left">e</td>
<td align="left">5</td>
</tr>
</tbody></table>
<pre>
[root@localhost sed]&#35; cat sed_append.txt 
this is line a
this is line b
this is line c
this is line d
[root@localhost sed]&#35; sed '1,2y/abcde/12345/' sed_append.txt
this is lin<mark>5</mark> <mark>1</mark>
this is lin<mark>5</mark> <mark>2</mark>
this is line c
this is line d
[root@localhost sed]&#35;
</pre>

<h3 id="大小写转换"><a href="#大小写转换" class="headerlink" title="大小写转换"></a>大小写转换</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;1,2y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/&#x27; sed_append.txt</span><br><span class="line">THIS IS LINE A</span><br><span class="line">THIS IS LINE B</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>

<h2 id="sed脚本命令p：打印某行"><a href="#sed脚本命令p：打印某行" class="headerlink" title="sed脚本命令p：打印某行"></a>sed脚本命令p：打印某行</h2><blockquote>
<p>sed 默认会打印出被处理的输入内容，这些内容跟原始输入内容不一定完全一样，sed 的一些命令可以修改或删除输入内容，再把新的内容打印出来。<br>打印的输出结果并不是只对应匹配特定模式的行。<br>那些没有被处理的行，会原样打印。<br>如果只想打印匹配特定模式的行，要用 -n 选项和 p 命令。</p>
</blockquote>
<p>注意：-n 选项并不表示打印匹配特定模式且被处理的行。<br>例如，使用 -n 选项和 d 命令不会看到任何打印，并不会打印出被删除的行。</p>
<p><code>sed -n</code>∶使用安静(silent)模式。在一般 sed 的用法中，所有来自STDIN的资料一般都会被列出到萤幕上。但<strong>如果加上 -n 参数后，则只有经过sed 特殊处理的那一行(或者动作)才会被列出来</strong>。</p>
<h3 id="sed-‘-address-p’-输出匹配的行"><a href="#sed-‘-address-p’-输出匹配的行" class="headerlink" title="sed ‘[address]p’ 输出匹配的行"></a>sed ‘[address]p’ 输出匹配的行</h3><p>p命令表示搜索符号条件的行，并输出该行的内容。</p>
<pre>
[root@localhost sed]&#35; cat sed_append.txt 
this is line a
this is line b
this is line c
this is line d
&#35; helloworld_1
&#35; helloworld_2
&#35; helloworld_3
[root@localhost sed]&#35; sed '/^&#35;/p' sed_append.txt 
this is line a
this is line b
this is line c
this is line d
&#35; helloworld_1
<mark>&#35; helloworld_1</mark>
&#35; helloworld_2
<mark>&#35; helloworld_2</mark>
&#35; helloworld_3
<mark>&#35; helloworld_3</mark>
[root@localhost sed]&#35;
</pre>

<p>可以看到匹配的行输出了两次，第一次的输出是sed的输出，第2个输出则是脚本命令p的输出。<br>如果想只输出匹配的行，其他的行不输出的话，则可以加上-n参数。：</p>
<pre>
[root@localhost sed]&#35; cat sed_append.txt 
this is line a
this is line b
this is line c
this is line d
&#35; helloworld_1
&#35; helloworld_2
&#35; helloworld_3
[root@localhost sed]&#35; sed -n '/^&#35;/p' sed_append.txt 
&#35; helloworld_1
&#35; helloworld_2
&#35; helloworld_3
[root@localhost sed]&#35; 
</pre>


<p>通常 p 会与参数 sed -n 一起运作。此命令的基本格式为：</p>
<h3 id="sed-n-‘-address-p’"><a href="#sed-n-‘-address-p’" class="headerlink" title="sed -n ‘[address]p’"></a>sed -n ‘[address]p’</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -n &#x27;[address]p&#x27;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sed -n &#x27;1p&#x27; filename           #显示第一行 </span><br><span class="line">sed -n &#x27;$p&#x27; filename           #显示最后一行</span><br><span class="line">sed -n &#x27;1,2p&#x27; filename        #显示第一行到第二行</span><br><span class="line">sed -n &#x27;2,$p&#x27; filename        #显示第二行到最后一行</span><br></pre></td></tr></table></figure>
<p>p 命令常见的用法是打印包含匹配文本模式的行，例如：</p>
<h3 id="打印第一行"><a href="#打印第一行" class="headerlink" title="打印第一行"></a>打印第一行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed -n &#x27;1p&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">[root@localhost sed]#</span><br></pre></td></tr></table></figure>
<h3 id="打印最后一行"><a href="#打印最后一行" class="headerlink" title="打印最后一行"></a>打印最后一行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# sed -n &#x27;$p&#x27; sed_append.txt </span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="打印第1行到第2行"><a href="#打印第1行到第2行" class="headerlink" title="打印第1行到第2行"></a>打印第1行到第2行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# sed -n &#x27;1,2p&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="打印第2行到最后一行"><a href="#打印第2行到最后一行" class="headerlink" title="打印第2行到最后一行"></a>打印第2行到最后一行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# sed -n &#x27;2,$p&#x27; sed_append.txt</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="打印包含指定关键字的行"><a href="#打印包含指定关键字的行" class="headerlink" title="打印包含指定关键字的行"></a>打印包含指定关键字的行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# sed -n &#x27;/helloworld/p&#x27; sed_append.txt</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br></pre></td></tr></table></figure>
<h3 id="打印匹配正则表达式的行"><a href="#打印匹配正则表达式的行" class="headerlink" title="打印匹配正则表达式的行"></a>打印匹配正则表达式的行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# sed -n &#x27;/world[0-9]/p&#x27; sed_append.txt</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>

<h3 id="sed-n选项p命令：只打印包含匹配模式的行"><a href="#sed-n选项p命令：只打印包含匹配模式的行" class="headerlink" title="sed -n选项p命令：只打印包含匹配模式的行"></a>sed -n选项p命令：只打印包含匹配模式的行</h3><p>可以看到，用 -n 选项和 p 命令配合使用，可以只打印匹配的行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed -n &#x27;2p&#x27; sed_append.txt </span><br><span class="line">this is line b</span><br><span class="line">[root@localhost sed]# sed -n &#x27;/b/p&#x27; sed_append.txt </span><br><span class="line">this is line b</span><br><span class="line">[root@localhost sed]# sed -n &#x27;/line/p&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="sed多脚本"><a href="#sed多脚本" class="headerlink" title="sed多脚本"></a>sed多脚本</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">address &#123;</span><br><span class="line">    多个脚本命令</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="sed显示匹配的行，并显示替换后的结果。"><a href="#sed显示匹配的行，并显示替换后的结果。" class="headerlink" title="sed显示匹配的行，并显示替换后的结果。"></a>sed显示匹配的行，并显示替换后的结果。</h4><p>如果需要在修改之前查看行，也可以使用打印命令，比如与替换或修改命令一起使用。可以创建一个脚本在修改行之前显示该行，如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]#  sed -n &#x27;/b/&#123;</span><br><span class="line">&gt; p;</span><br><span class="line">&gt; s/line/row/p</span><br><span class="line">&gt; &#125;&#x27; sed_append.txt</span><br><span class="line">this is line b</span><br><span class="line">this is row b</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<p>sed 命令会查找包含小写字母b的行，然后执行两条命令。<br>首先，脚本用 p 命令来打印出原始行；<br>然后它用s命令替换文本，并用 p 标记打印出替换结果。<br>这样可以输出当前要处理的文本，以及替换之后的文本，以便于对比替换的结果是否达到要求</p>
<h4 id="多个脚本命令写在一行"><a href="#多个脚本命令写在一行" class="headerlink" title="多个脚本命令写在一行"></a>多个脚本命令写在一行</h4><p>可以吧多个命令写在一行之中，命令之间用英文的分号<code>;</code>分隔开即可：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;[address]&#123;命令1;命令2;...命令n&#125;&#x27;</span><br></pre></td></tr></table></figure>

<pre>
[root@localhost sed]&#35; cat sed_append.txt 
this is line a
this is line b
this is line c
this is line d
&#35; helloworld_1
&#35; helloworld_2
&#35; helloworld_3
[root@localhost sed]&#35; sed -n '/^&#35;/,${p;s/helloworld/HELLOWORLD/pg}' sed_append.txt 
&#35; helloworld_1
&#35; HELLOWORLD_1
&#35; helloworld_2
&#35; HELLOWORLD_2
&#35; helloworld_3
&#35; HELLOWORLD_3
[root@localhost sed]&#35; 
</pre>

<h3 id="正则表达式词首词尾"><a href="#正则表达式词首词尾" class="headerlink" title="正则表达式词首词尾"></a>正则表达式词首词尾</h3><p><code>\&lt;</code>表示词首。 如：<code>\&lt;abc</code>表示以abc为首的詞。<br><code>\&gt;</code>表示词尾。 如：<code>abc\&gt;</code>表示以abc結尾的詞。</p>
<h3 id="打印有hello为词首的单词的行"><a href="#打印有hello为词首的单词的行" class="headerlink" title="打印有hello为词首的单词的行"></a>打印有hello为词首的单词的行</h3><pre>
[root@localhost sed]&#35; cat sed_append.txt 
this is line a
this is line b
this is line c
this is line d
&#35; helloworld_1
&#35; helloworld_2
&#35; helloworld_3
[root@localhost sed]&#35; sed -n '/\&lt;hello/p' sed_append.txt 
&#35; helloworld_1
&#35; helloworld_2
&#35; helloworld_3
[root@localhost sed]&#35; 
</pre>

<h3 id="打印有line为词尾的单词的行"><a href="#打印有line为词尾的单词的行" class="headerlink" title="打印有line为词尾的单词的行"></a>打印有line为词尾的单词的行</h3><pre>
[root@localhost sed]&#35; cat sed_append.txt 
this is line a
this is line b
this is line c
this is line d
&&#35;35; helloworld_1
&&#35;35; helloworld_2
&&#35;35; helloworld_3
[root@localhost sed]&#35; sed -n '/line\&gt;/p' sed_append.txt 
this is line a
this is line b
this is line c
this is line d
[root@localhost sed]&#35; 
</pre>

<h2 id="sed脚本命令w-file：输出模式空间中的内容到文件"><a href="#sed脚本命令w-file：输出模式空间中的内容到文件" class="headerlink" title="sed脚本命令w file：输出模式空间中的内容到文件"></a>sed脚本命令w file：输出模式空间中的内容到文件</h2><p>w命令用来将文本中指定行的内容写入文件中，此命令的基本格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;[address]w filename&#x27;</span><br></pre></td></tr></table></figure>
<p>这里的 filename 表示文件名，可以使用相对路径或绝对路径，但不管是哪种，运行 sed 命令的用户都必须有文件的写权限。<br>下面的例子是将数据流中的前两行打印到一个文本文件中：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;1,2 w sed_w_out.txt&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# cat sed_w_out.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h2 id="sed脚本命令r：插入独立文件的内容到当前数据流的指定位置"><a href="#sed脚本命令r：插入独立文件的内容到当前数据流的指定位置" class="headerlink" title="sed脚本命令r：插入独立文件的内容到当前数据流的指定位置"></a>sed脚本命令r：插入独立文件的内容到当前数据流的指定位置</h2><p>r 命令用于将一个独立文件的数据插入到当前数据流的指定位置，该命令的基本格式为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &quot;[address]r filename&quot;</span><br></pre></td></tr></table></figure>
<p>sed命令会将filename文件中的内容插入到address指定的行的后面。</p>
<h3 id="在文件的某行后插入另一个文件的内容"><a href="#在文件的某行后插入另一个文件的内容" class="headerlink" title="在文件的某行后插入另一个文件的内容"></a>在文件的某行后插入另一个文件的内容</h3><p>例如，将sed_2.txt文件中的内容，插入到sed_append.txt文件中的第二行后面：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# cat sed_2.txt </span><br><span class="line">HelloWorld</span><br><span class="line">[root@localhost sed]# sed &quot;2r sed_2.txt&quot; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">HelloWorld</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="在文件的末尾插入另一个文件的内容"><a href="#在文件的末尾插入另一个文件的内容" class="headerlink" title="在文件的末尾插入另一个文件的内容"></a>在文件的末尾插入另一个文件的内容</h3><p>如果你想将指定文件中的数据插入到数据流的末尾，可以使用地址符<code>$</code>，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# cat sed_2.txt </span><br><span class="line">HelloWorld</span><br><span class="line">[root@localhost sed]# sed &#x27;$r sed_2.txt&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">HelloWorld</span><br></pre></td></tr></table></figure>
<p>需要注意的是，命令如果使用的是双引号的话，则需要使用转义符，也就是双引号中的美元符号，要写成<code>&quot;\$&quot;</code>，而使用单引号就不需要使用转义符，只需要写成<code>&#39;$&#39;</code>即可</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# sed &quot;$r sed_2.txt&quot; sed_append.txt </span><br><span class="line">sed：-e 表达式 #1，字符 10：未终止的“s”命令</span><br><span class="line">[root@localhost sed]# sed &quot;\$r sed_2.txt&quot; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">HelloWorld</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h2 id="sed脚本命令q：匹配第一次后就退出sed程序"><a href="#sed脚本命令q：匹配第一次后就退出sed程序" class="headerlink" title="sed脚本命令q：匹配第一次后就退出sed程序"></a>sed脚本命令q：匹配第一次后就退出sed程序</h2><p>q命令的作用是使sed命令在第一次匹配任务结束后，退出 sed 程序，不再进行对后续数据的处理。</p>
<h3 id="sed匹配后退出"><a href="#sed匹配后退出" class="headerlink" title="sed匹配后退出"></a>sed匹配后退出</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2q&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">[root@localhost sed]#</span><br></pre></td></tr></table></figure>
<p>可以看到，sed 命令在打印输出第 2 行之后，就停止了，是 q 命令造成的，再比如：</p>
<h3 id="sed查找替换第一次模式匹配后退出"><a href="#sed查找替换第一次模式匹配后退出" class="headerlink" title="sed查找替换第一次模式匹配后退出"></a>sed查找替换第一次模式匹配后退出</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]#  sed &#x27;/b/&#123; s/b/B/;q; &#125;&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line B</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<p>sed在当前行中查找到小写的字母b后，将小写的字母b替换成大写的字母B,然后退出sed不再处理后续的行。</p>
<h1 id="sed脚本命令的寻址方式"><a href="#sed脚本命令的寻址方式" class="headerlink" title="sed脚本命令的寻址方式"></a>sed脚本命令的寻址方式</h1><p>前面在介绍各个脚本命令时，我们一直忽略了对 address 部分的介绍。对各个脚本命令来说，address 用来表明该脚本命令作用到文本中的具体行。</p>
<p>默认情况下，sed 命令会作用于文本数据的所有行。如果只想将命令作用于特定行或某些行，则必须写明 address 部分，表示的方法有以下 2 种：</p>
<ul>
<li>以数字形式指定行区间；</li>
<li>用文本模式指定具体行区间。</li>
</ul>
<p>以上两种形式都可以使用如下这 2 种格式，分别是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[address]脚本命令</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">address &#123;</span><br><span class="line">    脚本命令1</span><br><span class="line">    脚本命令2</span><br><span class="line">    ......</span><br><span class="line">    脚本命令n</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="以数字形式指定行区间"><a href="#以数字形式指定行区间" class="headerlink" title="以数字形式指定行区间"></a>以数字形式指定行区间</h2><p>当使用数字方式的行寻址时，可以用行在文本流中的行位置来引用。sed 会将文本流中的第一行编号为 1，然后继续按顺序为接下来的行分配行号。</p>
<p>在脚本命令中，</p>
<ul>
<li>指定的地址可以是单个行号，</li>
<li>也可以用<strong>起始行号+逗号+结束行号</strong>来指定指定的一定区间范围内的行（<code>起始行号,结尾行号</code>）。</li>
</ul>
<h3 id="使用数字指定行号"><a href="#使用数字指定行号" class="headerlink" title="使用数字指定行号"></a>使用数字指定行号</h3><p>这里举一个 sed 命令作用到指定行号的例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2s/s/_/g&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">thi_ i_ line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]#</span><br></pre></td></tr></table></figure>
<p>可以看到，sed 只修改地址指定的第二行的文本。下面的例子中使用了行地址区间：</p>
<h3 id="使用区间指定行地址"><a href="#使用区间指定行地址" class="headerlink" title="使用区间指定行地址"></a>使用区间指定行地址</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2,3s/s/_/g&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">thi_ i_ line b</span><br><span class="line">thi_ i_ line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h4 id="特殊的行结束符"><a href="#特殊的行结束符" class="headerlink" title="特殊的行结束符$"></a>特殊的行结束符$</h4><p>在此基础上，如果想将命令作用到文本中从某行开始的所有行，可以用特殊地址——美元符（<code>$</code>）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2,$s/s/_/g&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">thi_ i_ line b</span><br><span class="line">thi_ i_ line c</span><br><span class="line">thi_ i_ line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h2 id="用文本模式指定行区间"><a href="#用文本模式指定行区间" class="headerlink" title="用文本模式指定行区间"></a>用文本模式指定行区间</h2><p>sed 允许指定文本模式来过滤出命令要作用的行，格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/pattern/command</span><br></pre></td></tr></table></figure>
<p>注意，必须用正斜线将要指定的pattern封起来，sed会将该命令作用到包含指定文本模式的行上。</p>
<h3 id="固定文本模式：字符串形式的文本模式"><a href="#固定文本模式：字符串形式的文本模式" class="headerlink" title="固定文本模式：字符串形式的文本模式"></a>固定文本模式：字符串形式的文本模式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# cat sed_append.txt |grep &#x27;helloworld&#x27;</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# sed &#x27;/helloworld/s/helloworld/HELLOWORLD/g&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">HELLOWORLD1</span><br><span class="line">HELLOWORLD2</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<p>虽然使用固定文本模式（字符串）能帮你过滤出特定的值，但其作用难免有限，因此，sed 允许在文本模式使用正则表达式指明作用的具体行。<br>正则表达式允许创建高级文本模式匹配表达式来匹配各种数据。这些表达式结合了一系列通配符、特殊字符以及固定文本字符来生成能够匹配几乎任何形式文本的简练模式。</p>
<h3 id="高级文本模式：使用正则表达式的文本模式"><a href="#高级文本模式：使用正则表达式的文本模式" class="headerlink" title="高级文本模式：使用正则表达式的文本模式"></a>高级文本模式：使用正则表达式的文本模式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# sed &#x27;/world[0-9]/s/world/WORLD/g&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">helloWORLD1</span><br><span class="line">helloWORLD2</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h1 id="sed命令帮助文档"><a href="#sed命令帮助文档" class="headerlink" title="sed命令帮助文档"></a>sed命令帮助文档</h1><h2 id="sed-–help"><a href="#sed-–help" class="headerlink" title="sed –help"></a>sed –help</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed --help</span><br><span class="line">用法: sed [选项]... &#123;脚本(如果没有其他脚本)&#125; [输入文件]...</span><br><span class="line"></span><br><span class="line">  -n, --quiet, --silent</span><br><span class="line">                 取消自动打印模式空间</span><br><span class="line">  -e 脚本, --expression=脚本</span><br><span class="line">                 添加“脚本”到程序的运行列表</span><br><span class="line">  -f 脚本文件, --file=脚本文件</span><br><span class="line">                 添加“脚本文件”到程序的运行列表</span><br><span class="line">  --follow-symlinks</span><br><span class="line">                 直接修改文件时跟随软链接</span><br><span class="line">  -i[SUFFIX], --in-place[=SUFFIX]</span><br><span class="line">                 edit files in place (makes backup if SUFFIX supplied)</span><br><span class="line">  -c, --copy</span><br><span class="line">                 use copy instead of rename when shuffling files in -i mode</span><br><span class="line">  -b, --binary</span><br><span class="line">                 does nothing; for compatibility with WIN32/CYGWIN/MSDOS/EMX (</span><br><span class="line">                 open files in binary mode (CR+LFs are not treated specially))</span><br><span class="line">  -l N, --line-length=N</span><br><span class="line">                 指定“l”命令的换行期望长度</span><br><span class="line">  --posix</span><br><span class="line">                 关闭所有 GNU 扩展</span><br><span class="line">  -r, --regexp-extended</span><br><span class="line">                 在脚本中使用扩展正则表达式</span><br><span class="line">  -s, --separate</span><br><span class="line">                 将输入文件视为各个独立的文件而不是一个长的连续输入</span><br><span class="line">  -u, --unbuffered</span><br><span class="line">                 从输入文件读取最少的数据，更频繁的刷新输出</span><br><span class="line">  -z, --null-data</span><br><span class="line">                 separate lines by NUL characters</span><br><span class="line">  --help</span><br><span class="line">                 display this help and exit</span><br><span class="line">  --version</span><br><span class="line">                 output version information and exit</span><br><span class="line"></span><br><span class="line">如果没有 -e, --expression, -f 或 --file 选项，那么第一个非选项参数被视为</span><br><span class="line">sed脚本。其他非选项参数被视为输入文件，如果没有输入文件，那么程序将从标准</span><br><span class="line">输入读取数据。</span><br><span class="line">GNU sed home page: &lt;http://www.gnu.org/software/sed/&gt;.</span><br><span class="line">General help using GNU software: &lt;http://www.gnu.org/gethelp/&gt;.</span><br><span class="line">E-mail bug reports to: &lt;bug-sed@gnu.org&gt;.</span><br><span class="line">Be sure to include the word ``sed&#x27;&#x27; somewhere in the ``Subject:&#x27;&#x27; field.</span><br><span class="line">[root@localhost ~]# </span><br></pre></td></tr></table></figure>
<h2 id="man-sed"><a href="#man-sed" class="headerlink" title="man sed"></a>man sed</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br></pre></td><td class="code"><pre><span class="line">SED(1)                                                          User Commands                                                          SED(1)</span><br><span class="line"></span><br><span class="line">NAME</span><br><span class="line">       sed - stream editor for filtering and transforming text</span><br><span class="line"></span><br><span class="line">SYNOPSIS</span><br><span class="line">       sed [OPTION]... &#123;script-only-if-no-other-script&#125; [input-file]...</span><br><span class="line"></span><br><span class="line">DESCRIPTION</span><br><span class="line">       Sed  is  a  stream  editor.   A stream editor is used to perform basic text transformations on an input stream (a file or input from a</span><br><span class="line">       pipeline).  While in some ways similar to an editor which permits scripted edits (such as ed), sed works by making only one pass  over</span><br><span class="line">       the  input(s),  and  is  consequently more efficient.  But it is sed&#x27;s ability to filter text in a pipeline which particularly distin‐</span><br><span class="line">       guishes it from other types of editors.</span><br><span class="line"></span><br><span class="line">       -n, --quiet, --silent</span><br><span class="line"></span><br><span class="line">              suppress automatic printing of pattern space</span><br><span class="line"></span><br><span class="line">       -e script, --expression=script</span><br><span class="line"></span><br><span class="line">              add the script to the commands to be executed</span><br><span class="line"></span><br><span class="line">       -f script-file, --file=script-file</span><br><span class="line"></span><br><span class="line">              add the contents of script-file to the commands to be executed</span><br><span class="line"></span><br><span class="line">       --follow-symlinks</span><br><span class="line"></span><br><span class="line">              follow symlinks when processing in place</span><br><span class="line"></span><br><span class="line">       -i[SUFFIX], --in-place[=SUFFIX]</span><br><span class="line"></span><br><span class="line">              edit files in place (makes backup if SUFFIX supplied)</span><br><span class="line"></span><br><span class="line">       -c, --copy</span><br><span class="line"></span><br><span class="line">              use copy instead of rename when shuffling files in -i mode</span><br><span class="line"></span><br><span class="line">       -b, --binary</span><br><span class="line"></span><br><span class="line">              does nothing; for compatibility with WIN32/CYGWIN/MSDOS/EMX ( open files in binary mode (CR+LFs are not treated specially))</span><br><span class="line"></span><br><span class="line">       -l N, --line-length=N</span><br><span class="line"></span><br><span class="line">              specify the desired line-wrap length for the `l&#x27; command</span><br><span class="line"></span><br><span class="line">       --posix</span><br><span class="line"></span><br><span class="line">              disable all GNU extensions.</span><br><span class="line"></span><br><span class="line">       -r, --regexp-extended</span><br><span class="line"></span><br><span class="line">              use extended regular expressions in the script.</span><br><span class="line"></span><br><span class="line">       -s, --separate</span><br><span class="line"></span><br><span class="line">              consider files as separate rather than as a single continuous long stream.</span><br><span class="line"></span><br><span class="line">       -u, --unbuffered</span><br><span class="line"></span><br><span class="line">              load minimal amounts of data from the input files and flush the output buffers more often</span><br><span class="line"></span><br><span class="line">       -z, --null-data</span><br><span class="line"></span><br><span class="line">              separate lines by NUL characters</span><br><span class="line"></span><br><span class="line">       --help</span><br><span class="line"></span><br><span class="line">              display this help and exit</span><br><span class="line"></span><br><span class="line">       --version</span><br><span class="line"></span><br><span class="line">              output version information and exit</span><br><span class="line"></span><br><span class="line">       If no -e, --expression, -f, or --file option is given, then the first non-option argument is taken as the  sed  script  to  interpret.</span><br><span class="line">       All remaining arguments are names of input files; if no input files are specified, then the standard input is read.</span><br><span class="line"></span><br><span class="line">       GNU  sed  home  page: &lt;http://www.gnu.org/software/sed/&gt;.  General help using GNU software: &lt;http://www.gnu.org/gethelp/&gt;.  E-mail bug</span><br><span class="line">       reports to: &lt;bug-sed@gnu.org&gt;.  Be sure to include the word ``sed&#x27;&#x27; somewhere in the ``Subject:&#x27;&#x27; field.</span><br><span class="line"></span><br><span class="line">COMMAND SYNOPSIS</span><br><span class="line">       This is just a brief synopsis of sed commands to serve as a reminder to those who already know sed; other documentation (such  as  the</span><br><span class="line">       texinfo document) must be consulted for fuller descriptions.</span><br><span class="line"></span><br><span class="line">   Zero-address ``commands&#x27;&#x27;</span><br><span class="line">       : label</span><br><span class="line">              Label for b and t commands.</span><br><span class="line"></span><br><span class="line">       #comment</span><br><span class="line">              The comment extends until the next newline (or the end of a -e script fragment).</span><br><span class="line"></span><br><span class="line">       &#125;      The closing bracket of a &#123; &#125; block.</span><br><span class="line"></span><br><span class="line">   Zero- or One- address commands</span><br><span class="line">       =      Print the current line number.</span><br><span class="line"></span><br><span class="line">       a \</span><br><span class="line"></span><br><span class="line">       text   Append text, which has each embedded newline preceded by a backslash.</span><br><span class="line"></span><br><span class="line">       i \</span><br><span class="line"></span><br><span class="line">       text   Insert text, which has each embedded newline preceded by a backslash.</span><br><span class="line"></span><br><span class="line">       q [exit-code]</span><br><span class="line">              Immediately  quit  the sed script without processing any more input, except that if auto-print is not disabled the current pat‐</span><br><span class="line">              tern space will be printed.  The exit code argument is a GNU extension.</span><br><span class="line"></span><br><span class="line">       Q [exit-code]</span><br><span class="line">              Immediately quit the sed script without processing any more input.  This is a GNU extension.</span><br><span class="line"></span><br><span class="line">       r filename</span><br><span class="line">              Append text read from filename.</span><br><span class="line"></span><br><span class="line">       R filename</span><br><span class="line">              Append a line read from filename.  Each invocation of the command reads a line from the file.  This is a GNU extension.</span><br><span class="line"></span><br><span class="line">   Commands which accept address ranges</span><br><span class="line">       &#123;      Begin a block of commands (end with a &#125;).</span><br><span class="line"></span><br><span class="line">       b label</span><br><span class="line">              Branch to label; if label is omitted, branch to end of script.</span><br><span class="line"></span><br><span class="line">       c \</span><br><span class="line"></span><br><span class="line">       text   Replace the selected lines with text, which has each embedded newline preceded by a backslash.</span><br><span class="line"></span><br><span class="line">       d      Delete pattern space.  Start next cycle.</span><br><span class="line"></span><br><span class="line">       D      If pattern space contains no newline, start a normal new cycle as if the d command was issued.  Otherwise, delete text  in  the</span><br><span class="line">              pattern space up to the first newline, and restart cycle with the resultant pattern space, without reading a new line of input.</span><br><span class="line"></span><br><span class="line">       h H    Copy/append pattern space to hold space.</span><br><span class="line"></span><br><span class="line">       g G    Copy/append hold space to pattern space.</span><br><span class="line"></span><br><span class="line">       l      List out the current line in a ``visually unambiguous&#x27;&#x27; form.</span><br><span class="line"></span><br><span class="line">       l width</span><br><span class="line">              List out the current line in a ``visually unambiguous&#x27;&#x27; form, breaking it at width characters.  This is a GNU extension.</span><br><span class="line"></span><br><span class="line">       n N    Read/append the next line of input into the pattern space.</span><br><span class="line"></span><br><span class="line">       p      Print the current pattern space.</span><br><span class="line"></span><br><span class="line">       P      Print up to the first embedded newline of the current pattern space.</span><br><span class="line"></span><br><span class="line">       s/regexp/replacement/</span><br><span class="line">              Attempt to match regexp against the pattern space.  If successful, replace that portion matched with replacement.  The replace‐</span><br><span class="line">              ment may contain the special character &amp; to refer to that portion of the pattern space which matched, and the  special  escapes</span><br><span class="line">              \1 through \9 to refer to the corresponding matching sub-expressions in the regexp.</span><br><span class="line"></span><br><span class="line">       t label</span><br><span class="line">              If  a s/// has done a successful substitution since the last input line was read and since the last t or T command, then branch</span><br><span class="line">              to label; if label is omitted, branch to end of script.</span><br><span class="line"></span><br><span class="line">       T label</span><br><span class="line">              If no s/// has done a successful substitution since the last input line was read and since the last t or T command, then branch</span><br><span class="line">              to label; if label is omitted, branch to end of script.  This is a GNU extension.</span><br><span class="line"></span><br><span class="line">       w filename</span><br><span class="line">              Write the current pattern space to filename.</span><br><span class="line"></span><br><span class="line">       W filename</span><br><span class="line">              Write the first line of the current pattern space to filename.  This is a GNU extension.</span><br><span class="line"></span><br><span class="line">       x      Exchange the contents of the hold and pattern spaces.</span><br><span class="line"></span><br><span class="line">       y/source/dest/</span><br><span class="line">              Transliterate the characters in the pattern space which appear in source to the corresponding character in dest.</span><br><span class="line"></span><br><span class="line">Addresses</span><br><span class="line">       Sed  commands  can  be  given  with no addresses, in which case the command will be executed for all input lines; with one address, in</span><br><span class="line">       which case the command will only be executed for input lines which match that address; or with two addresses, in which case  the  com‐</span><br><span class="line">       mand  will  be executed for all input lines which match the inclusive range of lines starting from the first address and continuing to</span><br><span class="line">       the second address.  Three things to note about address ranges: the syntax is addr1,addr2 (i.e., the  addresses  are  separated  by  a</span><br><span class="line">       comma); the line which addr1 matched will always be accepted, even if addr2 selects an earlier line; and if addr2 is a regexp, it will</span><br><span class="line">       not be tested against the line that addr1 matched.</span><br><span class="line"></span><br><span class="line">       After the address (or address-range), and before the command, a !  may be inserted, which specifies that the  command  shall  only  be</span><br><span class="line">       executed if the address (or address-range) does not match.</span><br><span class="line"></span><br><span class="line">       The following address types are supported:</span><br><span class="line"></span><br><span class="line">       number Match only the specified line number (which increments cumulatively across files, unless the -s option is specified on the com‐</span><br><span class="line">              mand line).</span><br><span class="line"></span><br><span class="line">       first~step</span><br><span class="line">              Match every step&#x27;th line starting with line first.  For example, ``sed -n 1~2p&#x27;&#x27; will print all the odd-numbered lines  in  the</span><br><span class="line">              input  stream, and the address 2~5 will match every fifth line, starting with the second.  first can be zero; in this case, sed</span><br><span class="line">              operates as if it were equal to step.  (This is an extension.)</span><br><span class="line"></span><br><span class="line">       $      Match the last line.</span><br><span class="line"></span><br><span class="line">       /regexp/</span><br><span class="line">              Match lines matching the regular expression regexp.</span><br><span class="line"></span><br><span class="line">       \cregexpc</span><br><span class="line">              Match lines matching the regular expression regexp.  The c may be any character.</span><br><span class="line"></span><br><span class="line">       GNU sed also supports some special 2-address forms:</span><br><span class="line"></span><br><span class="line">       0,addr2</span><br><span class="line">              Start out in &quot;matched first address&quot; state, until addr2 is found.  This is similar to 1,addr2, except that if addr2 matches the</span><br><span class="line">              very first line of input the 0,addr2 form will be at the end of its range, whereas the 1,addr2 form will still be at the begin‐</span><br><span class="line">              ning of its range.  This works only when addr2 is a regular expression.</span><br><span class="line"></span><br><span class="line">       addr1,+N</span><br><span class="line">              Will match addr1 and the N lines following addr1.</span><br><span class="line"></span><br><span class="line">       addr1,~N</span><br><span class="line">              Will match addr1 and the lines following addr1 until the next line whose input line number is a multiple of N.</span><br><span class="line"></span><br><span class="line">REGULAR EXPRESSIONS</span><br><span class="line">       POSIX.2 BREs should be supported, but they aren&#x27;t completely because of performance problems.  The \n sequence in a regular expression</span><br><span class="line">       matches the newline character, and similarly for \a, \t, and other sequences.</span><br><span class="line"></span><br><span class="line">BUGS</span><br><span class="line">       E-mail bug reports to bug-sed@gnu.org.  Also, please include the output of ``sed --version&#x27;&#x27; in the body of your report if at all pos‐</span><br><span class="line">       sible.</span><br><span class="line"></span><br><span class="line">AUTHOR</span><br><span class="line">       Written by Jay Fenlason, Tom Lord, Ken Pizzini, and Paolo Bonzini.  GNU sed home  page:  &lt;http://www.gnu.org/software/sed/&gt;.   General</span><br><span class="line">       help  using  GNU  software:  &lt;http://www.gnu.org/gethelp/&gt;.   E-mail  bug  reports to: &lt;bug-sed@gnu.org&gt;.  Be sure to include the word</span><br><span class="line">       ``sed&#x27;&#x27; somewhere in the ``Subject:&#x27;&#x27; field.</span><br><span class="line"></span><br><span class="line">COPYRIGHT</span><br><span class="line">       Copyright © 2012 Free Software Foundation, Inc.  License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;.</span><br><span class="line">       This is free software: you are free to change and redistribute it.  There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line"></span><br><span class="line">SEE ALSO</span><br><span class="line">       awk(1), ed(1), grep(1), tr(1), perlre(1), sed.info, any of various books on sed, the sed FAQ (http://sed.sf.net/grabbag/tutorials/sed‐</span><br><span class="line">       faq.txt), http://sed.sf.net/grabbag/.</span><br><span class="line"></span><br><span class="line">       The full documentation for sed is maintained as a Texinfo manual.  If the info and sed programs are properly installed at your site,</span><br><span class="line">       the command</span><br><span class="line"></span><br><span class="line">              info sed</span><br><span class="line"></span><br><span class="line">       should give you access to the complete manual.</span><br><span class="line"></span><br><span class="line">sed 4.2.2                                                       September 2020                                                         SED(1)</span><br><span class="line"> Manual page sed(1) line 210/246 (END) (press h for help or q to quit)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a target="_blank" rel="noopener" href="http://c.biancheng.net/view/4028.html">http://c.biancheng.net/view/4028.html</a><br><a target="_blank" rel="noopener" href="http://c.biancheng.net/view/4056.html">http://c.biancheng.net/view/4056.html</a><br><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-comm-sed.html">https://www.runoob.com/linux/linux-comm-sed.html</a><br><a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/320516">https://developer.aliyun.com/article/320516</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/dong008259/archive/2011/12/07/2279897.html">https://www.cnblogs.com/dong008259/archive/2011/12/07/2279897.html</a><br><a target="_blank" rel="noopener" href="https://coolshell.cn/articles/9104.html">https://coolshell.cn/articles/9104.html</a><br><a target="_blank" rel="noopener" href="https://qianngchn.github.io/wiki/4.html">https://qianngchn.github.io/wiki/4.html</a></p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000022722531">https://segmentfault.com/a/1190000022722531</a><br><a target="_blank" rel="noopener" href="https://www.linuxcool.com/sed">https://www.linuxcool.com/sed</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/ggjucheng/archive/2013/01/13/2856901.html">https://www.cnblogs.com/ggjucheng/archive/2013/01/13/2856901.html</a><br><a target="_blank" rel="noopener" href="https://learnku.com/server/wikis/36595">https://learnku.com/server/wikis/36595</a><br><a target="_blank" rel="noopener" href="http://linux.51yip.com/search/sed">http://linux.51yip.com/search/sed</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/130797132">https://zhuanlan.zhihu.com/p/130797132</a></p>
<h2 id="手册"><a href="#手册" class="headerlink" title="手册"></a>手册</h2><p><a target="_blank" rel="noopener" href="http://www.gnu.org/software/sed/manual/sed.html">http://www.gnu.org/software/sed/manual/sed.html</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/719da334/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/719da334/" class="post-title-link" itemprop="url">Linux 行筛选grep命令</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-02 21:35:42" itemprop="dateCreated datePublished" datetime="2021-05-02T21:35:42+08:00">2021-05-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">正则表达式</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/719da334/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/719da334/" data-xid="/blog/719da334/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>22k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>20 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="grep-x2F-egrep-x2F-fgrep-在文件中查找字符串（筛选）"><a href="#grep-x2F-egrep-x2F-fgrep-在文件中查找字符串（筛选）" class="headerlink" title="grep&#x2F;egrep&#x2F;fgrep:在文件中查找字符串（筛选）"></a>grep&#x2F;egrep&#x2F;fgrep:在文件中查找字符串（筛选）</h1><h2 id="grep在文件中查找字符串"><a href="#grep在文件中查找字符串" class="headerlink" title="grep在文件中查找字符串"></a>grep在文件中查找字符串</h2><p>grep（Global regular expression print）</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p>grep 模式 文件名列表</p>
<h2 id="egrep-使用扩展正则表达式ERE描述模式"><a href="#egrep-使用扩展正则表达式ERE描述模式" class="headerlink" title="egrep 使用扩展正则表达式ERE描述模式"></a>egrep 使用扩展正则表达式ERE描述模式</h2><p>在指定模式方面比grep更灵活</p>
<h2 id="fgrep-快速搜索指定字符串"><a href="#fgrep-快速搜索指定字符串" class="headerlink" title="fgrep 快速搜索指定字符串"></a>fgrep 快速搜索指定字符串</h2><p>按字符串搜索而不是按模式搜索。</p>
<h2 id="grep选项"><a href="#grep选项" class="headerlink" title="grep选项"></a>grep选项</h2><p>-F, –fixed-strings      Fixed strings (instead of regular expressions)<br>-G, –basic-regexp       Basic regular expression (BRE)<br>-E, –extended-regexp    Extended regular expression (ERE)<br>-P, –perl-regexp        Perl-compatible regular expression (PCRE)</p>
<p>-n     显示时每行前面显示行号<br>-v     显示所有不包含模式的行<br>-i     字母比较时忽略字母的大小写</p>
<p>例：grep -n main *.c<br>查找含有正则表达式main的行，并打印行号<br>当文件数超过一个时，除了输出行号，还输出文件名</p>
<p>例：grep -v ‘[Dd]isable’ dev.stat&gt;dev.active<br>取消文件中所有含有指定模式的行，生成新文件。</p>
<p>例：grep -i richard telnos<br>在文件中检索字符串richard，不顾字母的大小写</p>
<h1 id="帮助文档"><a href="#帮助文档" class="headerlink" title="帮助文档"></a>帮助文档</h1><h2 id="PCRE语法"><a href="#PCRE语法" class="headerlink" title="PCRE语法"></a>PCRE语法</h2><p>查PCRE语法：man pcresyntax</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br></pre></td><td class="code"><pre><span class="line">PCRESYNTAX(3)                                                        Library Functions Manual                                                       PCRESYNTAX(3)</span><br><span class="line"></span><br><span class="line">NAME</span><br><span class="line">       PCRE - Perl-compatible regular expressions</span><br><span class="line"></span><br><span class="line">PCRE REGULAR EXPRESSION SYNTAX SUMMARY</span><br><span class="line"></span><br><span class="line">       The full syntax and semantics of the regular expressions that are supported by PCRE are described in the pcrepattern documentation. This document contains</span><br><span class="line">       a quick-reference summary of the syntax.</span><br><span class="line"></span><br><span class="line">QUOTING</span><br><span class="line"></span><br><span class="line">         \x         where x is non-alphanumeric is a literal x</span><br><span class="line">         \Q...\E    treat enclosed characters as literal</span><br><span class="line"></span><br><span class="line">CHARACTERS</span><br><span class="line"></span><br><span class="line">         \a         alarm, that is, the BEL character (hex 07)</span><br><span class="line">         \cx        &quot;control-x&quot;, where x is any ASCII character</span><br><span class="line">         \e         escape (hex 1B)</span><br><span class="line">         \f         form feed (hex 0C)</span><br><span class="line">         \n         newline (hex 0A)</span><br><span class="line">         \r         carriage return (hex 0D)</span><br><span class="line">         \t         tab (hex 09)</span><br><span class="line">         \ddd       character with octal code ddd, or backreference</span><br><span class="line">         \xhh       character with hex code hh</span><br><span class="line">         \x&#123;hhh..&#125;  character with hex code hhh..</span><br><span class="line"></span><br><span class="line">CHARACTER TYPES</span><br><span class="line"></span><br><span class="line">         .          any character except newline;</span><br><span class="line">                      in dotall mode, any character whatsoever</span><br><span class="line">         \C         one data unit, even in UTF mode (best avoided)</span><br><span class="line">         \d         a decimal digit</span><br><span class="line">         \D         a character that is not a decimal digit</span><br><span class="line">         \h         a horizontal white space character</span><br><span class="line">         \H         a character that is not a horizontal white space character</span><br><span class="line">         \N         a character that is not a newline</span><br><span class="line">         \p&#123;xx&#125;     a character with the xx property</span><br><span class="line">         \P&#123;xx&#125;     a character without the xx property</span><br><span class="line">         \R         a newline sequence</span><br><span class="line">         \s         a white space character</span><br><span class="line">         \S         a character that is not a white space character</span><br><span class="line">         \v         a vertical white space character</span><br><span class="line">         \V         a character that is not a vertical white space character</span><br><span class="line">         \w         a &quot;word&quot; character</span><br><span class="line">         \W         a &quot;non-word&quot; character</span><br><span class="line">         \X         a Unicode extended grapheme cluster</span><br><span class="line"></span><br><span class="line">       In PCRE, by default, \d, \D, \s, \S, \w, and \W recognize only ASCII characters, even in a UTF mode. However, this can be changed by setting the  PCRE_UCP</span><br><span class="line">       option.</span><br><span class="line"></span><br><span class="line">GENERAL CATEGORY PROPERTIES FOR \p and \P</span><br><span class="line"></span><br><span class="line">         C          Other</span><br><span class="line">         Cc         Control</span><br><span class="line">         Cf         Format</span><br><span class="line">         Cn         Unassigned</span><br><span class="line">         Co         Private use</span><br><span class="line">         Cs         Surrogate</span><br><span class="line"></span><br><span class="line">         L          Letter</span><br><span class="line">         Ll         Lower case letter</span><br><span class="line">         Lm         Modifier letter</span><br><span class="line">         Lo         Other letter</span><br><span class="line">         Lt         Title case letter</span><br><span class="line">         Lu         Upper case letter</span><br><span class="line">         L&amp;         Ll, Lu, or Lt</span><br><span class="line"></span><br><span class="line">         M          Mark</span><br><span class="line">         Mc         Spacing mark</span><br><span class="line">         Me         Enclosing mark</span><br><span class="line">         Mn         Non-spacing mark</span><br><span class="line"></span><br><span class="line">         N          Number</span><br><span class="line">         Nd         Decimal number</span><br><span class="line">         Nl         Letter number</span><br><span class="line">         No         Other number</span><br><span class="line"></span><br><span class="line">         P          Punctuation</span><br><span class="line">         Pc         Connector punctuation</span><br><span class="line">         Pd         Dash punctuation</span><br><span class="line">         Pe         Close punctuation</span><br><span class="line">         Pf         Final punctuation</span><br><span class="line">         Pi         Initial punctuation</span><br><span class="line">         Po         Other punctuation</span><br><span class="line">         Ps         Open punctuation</span><br><span class="line"></span><br><span class="line">         S          Symbol</span><br><span class="line">         Sc         Currency symbol</span><br><span class="line">         Sk         Modifier symbol</span><br><span class="line">         Sm         Mathematical symbol</span><br><span class="line">         So         Other symbol</span><br><span class="line"></span><br><span class="line">         Z          Separator</span><br><span class="line">         Zl         Line separator</span><br><span class="line">         Zp         Paragraph separator</span><br><span class="line">         Zs         Space separator</span><br><span class="line"></span><br><span class="line">PCRE SPECIAL CATEGORY PROPERTIES FOR \p and \P</span><br><span class="line"></span><br><span class="line">         Xan        Alphanumeric: union of properties L and N</span><br><span class="line">         Xps        POSIX space: property Z or tab, NL, VT, FF, CR</span><br><span class="line">         Xsp        Perl space: property Z or tab, NL, FF, CR</span><br><span class="line">         Xwd        Perl word: property Xan or underscore</span><br><span class="line"></span><br><span class="line">SCRIPT NAMES FOR \p AND \P</span><br><span class="line"></span><br><span class="line">       Arabic,  Armenian, Avestan, Balinese, Bamum, Batak, Bengali, Bopomofo, Brahmi, Braille, Buginese, Buhid, Canadian_Aboriginal, Carian, Chakma, Cham, Chero‐</span><br><span class="line">       kee, Common, Coptic, Cuneiform, Cypriot, Cyrillic, Deseret, Devanagari, Egyptian_Hieroglyphs, Ethiopic, Georgian,  Glagolitic,  Gothic,  Greek,  Gujarati,</span><br><span class="line">       Gurmukhi,  Han,  Hangul, Hanunoo, Hebrew, Hiragana, Imperial_Aramaic, Inherited, Inscriptional_Pahlavi, Inscriptional_Parthian, Javanese, Kaithi, Kannada,</span><br><span class="line">       Katakana, Kayah_Li, Kharoshthi, Khmer, Lao, Latin, Lepcha, Limbu, Linear_B, Lisu, Lycian,  Lydian,  Malayalam,  Mandaic,  Meetei_Mayek,  Meroitic_Cursive,</span><br><span class="line">       Meroitic_Hieroglyphs, Miao, Mongolian, Myanmar, New_Tai_Lue, Nko, Ogham, Old_Italic, Old_Persian, Old_South_Arabian, Old_Turkic, Ol_Chiki, Oriya, Osmanya,</span><br><span class="line">       Phags_Pa, Phoenician, Rejang, Runic, Samaritan, Saurashtra, Sharada, Shavian, Sinhala, Sora_Sompeng, Sundanese, Syloti_Nagri, Syriac,  Tagalog,  Tagbanwa,</span><br><span class="line">       Tai_Le, Tai_Tham, Tai_Viet, Takri, Tamil, Telugu, Thaana, Thai, Tibetan, Tifinagh, Ugaritic, Vai, Yi.</span><br><span class="line"></span><br><span class="line">CHARACTER CLASSES</span><br><span class="line"></span><br><span class="line">         [...]       positive character class</span><br><span class="line">         [^...]      negative character class</span><br><span class="line">         [x-y]       range (can be used for hex characters)</span><br><span class="line">         [[:xxx:]]   positive POSIX named set</span><br><span class="line">         [[:^xxx:]]  negative POSIX named set</span><br><span class="line"></span><br><span class="line">         alnum       alphanumeric</span><br><span class="line">         alpha       alphabetic</span><br><span class="line">         ascii       0-127</span><br><span class="line">         blank       space or tab</span><br><span class="line">         cntrl       control character</span><br><span class="line">         digit       decimal digit</span><br><span class="line">         graph       printing, excluding space</span><br><span class="line">         lower       lower case letter</span><br><span class="line">         print       printing, including space</span><br><span class="line">         punct       printing, excluding alphanumeric</span><br><span class="line">         space       white space</span><br><span class="line">         upper       upper case letter</span><br><span class="line">         word        same as \w</span><br><span class="line">         xdigit      hexadecimal digit</span><br><span class="line"></span><br><span class="line">       In  PCRE,  POSIX  character  set names recognize only ASCII characters by default, but some of them use Unicode properties if PCRE_UCP is set. You can use</span><br><span class="line">       \Q...\E inside a character class.</span><br><span class="line"></span><br><span class="line">QUANTIFIERS</span><br><span class="line"></span><br><span class="line">         ?           0 or 1, greedy</span><br><span class="line">         ?+          0 or 1, possessive</span><br><span class="line">         ??          0 or 1, lazy</span><br><span class="line">         *           0 or more, greedy</span><br><span class="line">         *+          0 or more, possessive</span><br><span class="line">         *?          0 or more, lazy</span><br><span class="line">         +           1 or more, greedy</span><br><span class="line">         ++          1 or more, possessive</span><br><span class="line">         +?          1 or more, lazy</span><br><span class="line">         &#123;n&#125;         exactly n</span><br><span class="line">         &#123;n,m&#125;       at least n, no more than m, greedy</span><br><span class="line">         &#123;n,m&#125;+      at least n, no more than m, possessive</span><br><span class="line">         &#123;n,m&#125;?      at least n, no more than m, lazy</span><br><span class="line">         &#123;n,&#125;        n or more, greedy</span><br><span class="line">         &#123;n,&#125;+       n or more, possessive</span><br><span class="line">         &#123;n,&#125;?       n or more, lazy</span><br><span class="line"></span><br><span class="line">ANCHORS AND SIMPLE ASSERTIONS</span><br><span class="line"></span><br><span class="line">         \b          word boundary</span><br><span class="line">         \B          not a word boundary</span><br><span class="line">         ^           start of subject</span><br><span class="line">                      also after internal newline in multiline mode</span><br><span class="line">         \A          start of subject</span><br><span class="line">         $           end of subject</span><br><span class="line">                      also before newline at end of subject</span><br><span class="line">                      also before internal newline in multiline mode</span><br><span class="line">         \Z          end of subject</span><br><span class="line">                      also before newline at end of subject</span><br><span class="line">         \z          end of subject</span><br><span class="line">         \G          first matching position in subject</span><br><span class="line"></span><br><span class="line">MATCH POINT RESET</span><br><span class="line"></span><br><span class="line">         \K          reset start of match</span><br><span class="line"></span><br><span class="line">ALTERNATION</span><br><span class="line"></span><br><span class="line">         expr|expr|expr...</span><br><span class="line"></span><br><span class="line">CAPTURING</span><br><span class="line"></span><br><span class="line">         (...)           capturing group</span><br><span class="line">         (?&lt;name&gt;...)    named capturing group (Perl)</span><br><span class="line">         (?&#x27;name&#x27;...)    named capturing group (Perl)</span><br><span class="line">         (?P&lt;name&gt;...)   named capturing group (Python)</span><br><span class="line">         (?:...)         non-capturing group</span><br><span class="line">         (?|...)         non-capturing group; reset group numbers for</span><br><span class="line">                          capturing groups in each alternative</span><br><span class="line"></span><br><span class="line">ATOMIC GROUPS</span><br><span class="line"></span><br><span class="line">         (?&gt;...)         atomic, non-capturing group</span><br><span class="line"></span><br><span class="line">COMMENT</span><br><span class="line"></span><br><span class="line">         (?#....)        comment (not nestable)</span><br><span class="line"></span><br><span class="line">OPTION SETTING</span><br><span class="line"></span><br><span class="line">         (?i)            caseless</span><br><span class="line">         (?J)            allow duplicate names</span><br><span class="line">         (?m)            multiline</span><br><span class="line">         (?s)            single line (dotall)</span><br><span class="line">         (?U)            default ungreedy (lazy)</span><br><span class="line">         (?x)            extended (ignore white space)</span><br><span class="line">         (?-...)         unset option(s)</span><br><span class="line"></span><br><span class="line">       The following are recognized only at the start of a pattern or after one of the newline-setting options with similar syntax:</span><br><span class="line"></span><br><span class="line">         (*NO_START_OPT) no start-match optimization (PCRE_NO_START_OPTIMIZE)</span><br><span class="line">         (*UTF8)         set UTF-8 mode: 8-bit library (PCRE_UTF8)</span><br><span class="line">         (*UTF16)        set UTF-16 mode: 16-bit library (PCRE_UTF16)</span><br><span class="line">         (*UTF32)        set UTF-32 mode: 32-bit library (PCRE_UTF32)</span><br><span class="line">         (*UTF)          set appropriate UTF mode for the library in use</span><br><span class="line">         (*UCP)          set PCRE_UCP (use Unicode properties for \d etc)</span><br><span class="line"></span><br><span class="line">LOOKAHEAD AND LOOKBEHIND ASSERTIONS</span><br><span class="line"></span><br><span class="line">         (?=...)         positive look ahead</span><br><span class="line">         (?!...)         negative look ahead</span><br><span class="line">         (?&lt;=...)        positive look behind</span><br><span class="line">         (?&lt;!...)        negative look behind</span><br><span class="line"></span><br><span class="line">       Each top-level branch of a look behind must be of a fixed length.</span><br><span class="line"></span><br><span class="line">BACKREFERENCES</span><br><span class="line"></span><br><span class="line">         \n              reference by number (can be ambiguous)</span><br><span class="line">         \gn             reference by number</span><br><span class="line">         \g&#123;n&#125;           reference by number</span><br><span class="line">         \g&#123;-n&#125;          relative reference by number</span><br><span class="line">         \k&lt;name&gt;        reference by name (Perl)</span><br><span class="line">         \k&#x27;name&#x27;        reference by name (Perl)</span><br><span class="line">         \g&#123;name&#125;        reference by name (Perl)</span><br><span class="line">         \k&#123;name&#125;        reference by name (.NET)</span><br><span class="line">         (?P=name)       reference by name (Python)</span><br><span class="line"></span><br><span class="line">SUBROUTINE REFERENCES (POSSIBLY RECURSIVE)</span><br><span class="line"></span><br><span class="line">         (?R)            recurse whole pattern</span><br><span class="line">         (?n)            call subpattern by absolute number</span><br><span class="line">         (?+n)           call subpattern by relative number</span><br><span class="line">         (?-n)           call subpattern by relative number</span><br><span class="line">         (?&amp;name)        call subpattern by name (Perl)</span><br><span class="line">         (?P&gt;name)       call subpattern by name (Python)</span><br><span class="line">         \g&lt;name&gt;        call subpattern by name (Oniguruma)</span><br><span class="line">         \g&#x27;name&#x27;        call subpattern by name (Oniguruma)</span><br><span class="line">         \g&lt;n&gt;           call subpattern by absolute number (Oniguruma)</span><br><span class="line">         \g&#x27;n&#x27;           call subpattern by absolute number (Oniguruma)</span><br><span class="line">         \g&lt;+n&gt;          call subpattern by relative number (PCRE extension)</span><br><span class="line">         \g&#x27;+n&#x27;          call subpattern by relative number (PCRE extension)</span><br><span class="line">         \g&lt;-n&gt;          call subpattern by relative number (PCRE extension)</span><br><span class="line">         \g&#x27;-n&#x27;          call subpattern by relative number (PCRE extension)</span><br><span class="line"></span><br><span class="line">CONDITIONAL PATTERNS</span><br><span class="line"></span><br><span class="line">         (?(condition)yes-pattern)</span><br><span class="line">         (?(condition)yes-pattern|no-pattern)</span><br><span class="line"></span><br><span class="line">         (?(n)...        absolute reference condition</span><br><span class="line">         (?(+n)...       relative reference condition</span><br><span class="line">         (?(-n)...       relative reference condition</span><br><span class="line">         (?(&lt;name&gt;)...   named reference condition (Perl)</span><br><span class="line">         (?(&#x27;name&#x27;)...   named reference condition (Perl)</span><br><span class="line">         (?(name)...     named reference condition (PCRE)</span><br><span class="line">         (?(R)...        overall recursion condition</span><br><span class="line">         (?(Rn)...       specific group recursion condition</span><br><span class="line">         (?(R&amp;name)...   specific recursion condition</span><br><span class="line">         (?(DEFINE)...   define subpattern for reference</span><br><span class="line">         (?(assert)...   assertion condition</span><br><span class="line"></span><br><span class="line">BACKTRACKING CONTROL</span><br><span class="line"></span><br><span class="line">       The following act immediately they are reached:</span><br><span class="line"></span><br><span class="line">         (*ACCEPT)       force successful match</span><br><span class="line">         (*FAIL)         force backtrack; synonym (*F)</span><br><span class="line">         (*MARK:NAME)    set name to be passed back; synonym (*:NAME)</span><br><span class="line"></span><br><span class="line">       The following act only when a subsequent match failure causes a backtrack to reach them. They all force a match failure, but they differ in  what  happens</span><br><span class="line">       afterwards. Those that advance the start-of-match point do so only if the pattern is not anchored.</span><br><span class="line"></span><br><span class="line">         (*COMMIT)       overall failure, no advance of starting point</span><br><span class="line">         (*PRUNE)        advance to next starting character</span><br><span class="line">         (*PRUNE:NAME)   equivalent to (*MARK:NAME)(*PRUNE)</span><br><span class="line">         (*SKIP)         advance to current matching position</span><br><span class="line">         (*SKIP:NAME)    advance to position corresponding to an earlier</span><br><span class="line">                         (*MARK:NAME); if not found, the (*SKIP) is ignored</span><br><span class="line">         (*THEN)         local failure, backtrack to next alternation</span><br><span class="line">         (*THEN:NAME)    equivalent to (*MARK:NAME)(*THEN)</span><br><span class="line"></span><br><span class="line">NEWLINE CONVENTIONS</span><br><span class="line"></span><br><span class="line">       These are recognized only at the very start of the pattern or after a (*BSR_...), (*UTF8), (*UTF16), (*UTF32) or (*UCP) option.</span><br><span class="line"></span><br><span class="line">         (*CR)           carriage return only</span><br><span class="line">         (*LF)           linefeed only</span><br><span class="line">         (*CRLF)         carriage return followed by linefeed</span><br><span class="line">         (*ANYCRLF)      all three of the above</span><br><span class="line">         (*ANY)          any Unicode newline sequence</span><br><span class="line"></span><br><span class="line">WHAT \R MATCHES</span><br><span class="line"></span><br><span class="line">       These are recognized only at the very start of the pattern or after a (*...) option that sets the newline convention or a UTF or UCP mode.</span><br><span class="line"></span><br><span class="line">         (*BSR_ANYCRLF)  CR, LF, or CRLF</span><br><span class="line">         (*BSR_UNICODE)  any Unicode newline sequence</span><br><span class="line"></span><br><span class="line">CALLOUTS</span><br><span class="line"></span><br><span class="line">         (?C)      callout</span><br><span class="line">         (?Cn)     callout with data n</span><br><span class="line"></span><br><span class="line">SEE ALSO</span><br><span class="line"></span><br><span class="line">       pcrepattern(3), pcreapi(3), pcrecallout(3), pcrematching(3), pcre(3).</span><br><span class="line"></span><br><span class="line">AUTHOR</span><br><span class="line"></span><br><span class="line">       Philip Hazel</span><br><span class="line">       University Computing Service</span><br><span class="line">       Cambridge CB2 3QH, England.</span><br><span class="line"></span><br><span class="line">REVISION</span><br><span class="line"></span><br><span class="line">       Last updated: 11 November 2012</span><br><span class="line">       Copyright (c) 1997-2012 University of Cambridge.</span><br><span class="line"></span><br><span class="line">PCRE 8.32                                                                11 November 2012                                                           PCRESYNTAX(3)</span><br></pre></td></tr></table></figure>

<h2 id="man-grep"><a href="#man-grep" class="headerlink" title="man grep"></a>man grep</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br></pre></td><td class="code"><pre><span class="line">NAME</span><br><span class="line">       grep, egrep, fgrep - 打印匹配给定模式的行</span><br><span class="line"></span><br><span class="line">总览 SYNOPSIS</span><br><span class="line">       grep [options] PATTERN [FILE...]</span><br><span class="line">       grep [options] [-e PATTERN | -f FILE] [FILE...]</span><br><span class="line"></span><br><span class="line">描述 DESCRIPTION</span><br><span class="line">       Grep   搜索以   FILE   命名的文件输入   (或者是标准输入，如果没有指定文件名，或者给出的文件名是   -   的话)，寻找含有与给定的模式  PATTERN  相匹配的内容的行。  </span><br><span class="line">       将把含有匹配内容的行打印出来。</span><br><span class="line"></span><br><span class="line">       另外，也可以使用两个变种程序 egrep 和 fgrep 。 Egrep 与 grep -E 相同。 Fgrep 与 grep -F 相同。</span><br><span class="line"></span><br><span class="line">选项 OPTIONS</span><br><span class="line">       -A NUM, --after-context=NUM</span><br><span class="line">              打印出紧随匹配的行之后的下文 NUM 行。在相邻的匹配组之间将会打印内容是 -- 的一行。</span><br><span class="line"></span><br><span class="line">       -a, --text</span><br><span class="line">              将一个二进制文件视为一个文本文件来处理；它与 --binary-files=text 选项等价。</span><br><span class="line"></span><br><span class="line">       -B NUM, --before-context=NUM</span><br><span class="line">              打印出匹配的行之前的上文 NUM 行。在相邻的匹配组之间将会打印内容是 -- 的一行。</span><br><span class="line"></span><br><span class="line">       -C NUM, --context=NUM</span><br><span class="line">              打印出匹配的行的上下文前后各 NUM 行。在相邻的匹配组之间将会打印内容是 -- 的一行。</span><br><span class="line"></span><br><span class="line">       -b, --byte-offset</span><br><span class="line">              在输出的每行前面同时打印出当前行在输入文件中的字节偏移量。</span><br><span class="line"></span><br><span class="line">       --binary-files=TYPE</span><br><span class="line">              如果一个文件的起始几个字节表明文件包含二进制数据，那么假定文件是        TYPE        类型的。默认情况下，         TYPE         是         binary         ，</span><br><span class="line">              一般会输出一个一行的消息说一个二进制文件匹配，或者如果没有匹配的话就没有消息输出。如果类型   TYPE   是   without-match   ，那么  grep  假定二进制文件不会</span><br><span class="line">              选项等价。如果类型    TYPE    是    text     ，那么     grep     将一个二进制文件视为文本文件来处理；它与     -a     选项等价。     警告：     grep     -</span><br><span class="line">              可能会输出二进制的无用内容。如果输出设备是一个终端，并且终端的驱动将这些输出中的一些当作命令，可能会带来恶劣的副作用。</span><br><span class="line"></span><br><span class="line">       --colour[=WHEN], --color[=WHEN]</span><br><span class="line">              在匹配的行周围以 GREP_COLOR 环境变量中指定的记号来标记。WHEN 可以是 `never&#x27;, `always&#x27;, 或是 `auto&#x27;。</span><br><span class="line"></span><br><span class="line">       -c, --count</span><br><span class="line">              禁止通常的输出；作为替代，为每一个输入文件打印一个匹配的行的总数。如果使用 -v, --invert-match 选项 (参见下面)，将是不匹配的行的总数。</span><br><span class="line"></span><br><span class="line">       -D ACTION, --devices=ACTION</span><br><span class="line">              如果输入文件是一个设备，FIFO  或是套接字  (socket)  ，使用动作 ACTION 来处理它。默认情况下，动作 ACTION 是 read ，意味着设备将视为普通文件那样来读。如果动</span><br><span class="line">              ，将不处理而直接跳过设备。</span><br><span class="line"></span><br><span class="line">       -d ACTION, --directories=ACTION</span><br><span class="line">              如果输入文件是一个目录，使用动作    ACTION    来处理它。默认情况下，动作    ACTION    是    read    ，意味着目录将视为普通文件那样来读。如果动作     ACTI</span><br><span class="line">              ，将不处理而直接跳过目录。如果动作 ACTION 是 recurse ， grep 将递归地读每一目录下的所有文件。这样做和 -r 选项等价。</span><br><span class="line"></span><br><span class="line">       -E, --extended-regexp</span><br><span class="line">              将模式 PATTERN 作为一个扩展的正则表达式来解释 (参见下面)。</span><br><span class="line"></span><br><span class="line">       -e PATTERN, --regexp=PATTERN</span><br><span class="line">              使用模式 PATTERN 作为模式；在保护以 - 为起始的模式时有用。</span><br><span class="line"></span><br><span class="line">       -F, --fixed-strings</span><br><span class="line">              将模式 PATTERN 视为一个固定的字符串的列表，用新行 (newlines) 分隔，只要匹配其中之一即可。</span><br><span class="line"></span><br><span class="line">       -P, --perl-regexp</span><br><span class="line">              将模式 PATTERN 作为一个 Perl 正则表达式来解释。</span><br><span class="line"></span><br><span class="line">       -f FILE, --file=FILE</span><br><span class="line">              从文件 FILE 中获取模式，每行一个。空文件含有0个模式，因此不匹配任何东西。</span><br><span class="line"></span><br><span class="line">       -G, --basic-regexp</span><br><span class="line">              将模式 PATTERN 作为一个基本的正则表达式 (参见下面) 来解释。这是默认值。</span><br><span class="line"></span><br><span class="line">       -H, --with-filename</span><br><span class="line">              为每个匹配打印文件名。</span><br><span class="line"></span><br><span class="line">       -h, --no-filename</span><br><span class="line">              当搜索多个文件时，禁止在输出的前面加上文件名前缀。</span><br><span class="line"></span><br><span class="line">       --help 输出一个简短的帮助信息。</span><br><span class="line"></span><br><span class="line">       -I     处理一个二进制文件，但是认为它不包含匹配的内容。这和 --binary-files=without-match 选项等价。</span><br><span class="line"></span><br><span class="line">       -i, --ignore-case</span><br><span class="line">              忽略模式 PATTERN 和输入文件中的大小写的分别。</span><br><span class="line"></span><br><span class="line">       -L, --files-without-match</span><br><span class="line">              禁止通常的输出；作为替代，打印出每个在通常情况下不会产生输出的输入文件的名字。对每个文件的扫描在遇到第一个匹配的时候就会停止。</span><br><span class="line"></span><br><span class="line">       -l, --files-with-matches</span><br><span class="line">              禁止通常的输出；作为替代，打印出每个在通常情况下会产生输出的输入文件的名字。对每个文件的扫描在遇到第一个匹配的时候就会停止。</span><br><span class="line"></span><br><span class="line">       -m NUM, --max-count=NUM</span><br><span class="line">              在找到            NUM            个匹配的行之后，不再读这个文件。如果输入是来自一个普通文件的标准输入，并且已经输出了            NUM            个匹配的行</span><br><span class="line">              保证标准输入被定位于退出时的最后一次匹配的行之后，不管是否指定了要输出紧随的下文的行。这样可以使一个调用程序恢复搜索。当              grep              在</span><br><span class="line">              个匹配的行之后停止，它会输出任何紧随的下文的行。当使用了  -c 或 --count 选项的时候， grep 不会输出比 NUM 更多的行。当指定了 -v 或 --invert-match 选项的时</span><br><span class="line">              NUM 个不匹配的行之后停止。</span><br><span class="line"></span><br><span class="line">       --mmap 如果可能的话，使用    mmap(2)    系统调用来读取输入，而不是默认的     read(2)     系统调用。在一些情况下，     --mmap     提供较好的性能。但是，如果一个输</span><br><span class="line">              正在操作时大小发生变化，或者如果发生了一个 I/O 错误， --mmap 可能导致不可知的行为 (包括core dumps)。</span><br><span class="line"></span><br><span class="line">       -n, --line-number</span><br><span class="line">              在输出的每行前面加上它所在的文件中它的行号。</span><br><span class="line"></span><br><span class="line">       -o, --only-matching</span><br><span class="line">              只显示匹配的行中与 PATTERN 相匹配的部分。</span><br><span class="line"></span><br><span class="line">       --label=LABEL</span><br><span class="line">              将实际上来自标准输入的输入视为来自输入文件 LABEL 。这对于 zgrep 这样的工具非常有用，例如： gzip -cd foo.gz |grep --label=foo something</span><br><span class="line"></span><br><span class="line">       --line-buffering</span><br><span class="line">              使用行缓冲，it can be a performance penality.</span><br><span class="line"></span><br><span class="line">       -q, --quiet, --silent</span><br><span class="line">              安静。不向标准输出写任何东西。如果找到任何匹配的内容就立即以状态值 0 退出，即使检测到了错误。 参见 -s 或 --no-messages 选项。</span><br><span class="line"></span><br><span class="line">       -R, -r, --recursive</span><br><span class="line">              递归地读每一目录下的所有文件。这样做和 -d recurse 选项等价。</span><br><span class="line"></span><br><span class="line">         --include=PATTERN</span><br><span class="line">              仅仅在搜索匹配 PATTERN 的文件时在目录中递归搜索。</span><br><span class="line"></span><br><span class="line">         --exclude=PATTERN</span><br><span class="line">              在目录中递归搜索，但是跳过匹配 PATTERN 的文件。</span><br><span class="line"></span><br><span class="line">       -s, --no-messages</span><br><span class="line">              禁止输出关于文件不存在或不可读的错误信息。  对于可移植性需要注意：与 GNU grep 不同，传统的 grep 不遵守 POSIX.2 规范，因为传统的 grep 缺少一个 -q 选项，而</span><br><span class="line">              grep 的 -q 选项行为相似。需要可移植到传统 grep 的 shell 脚本应当避免使用 -q 和 -s 选项，而应当将输出重定向到 /dev/null 。</span><br><span class="line"></span><br><span class="line">       -U, --binary</span><br><span class="line">              将文件视为二进制。默认情况下，在     MS-DOS     和     MS-Windows      系统中，      grep      通过从文件中读取头部的      32kB      内容来判断它的文件类</span><br><span class="line">              判断文件是一个文本文件，它将原始文件内容中的         CR         字符去除         (使得含有         ^         和         $         的正则表达式可以正常工作</span><br><span class="line">              将不进行这些工作，而使所有文件保持不变地读取并传递给匹配机制。如果文件是一个以  CR/LF  换行的文本文件，这样作将导致一些正则表达式失败。这个选项在  MS-DOS</span><br><span class="line">              之外的系统中无效。</span><br><span class="line"></span><br><span class="line">       -u, --unix-byte-offsets</span><br><span class="line">              报告  Unix  风格的字节偏移量。这个开关使得  grep  报告字节偏移量时，将文件作为  Unix  风格的文本文件看待，也就是说将  CR  字符去掉。这将产生与在一台  Uni</span><br><span class="line">              完全相同的结果。除非同时使用 -b 选项，否则这个选项无效。这个选项在 MS-DOS 和 MS-Windows 之外的系统中无效。</span><br><span class="line"></span><br><span class="line">       -V, --version</span><br><span class="line">              向标准错误输出打印 grep 的版本号。版本号应当包含在所有的 bug 报告中 (参见下面)。</span><br><span class="line"></span><br><span class="line">       -v, --invert-match</span><br><span class="line">              改变匹配的意义，只选择不匹配的行。</span><br><span class="line"></span><br><span class="line">       -w, --word-regexp</span><br><span class="line">              只选择含有能组成完整的词的匹配的行。判断方法是匹配的子字符串必须是一行的开始，或者是在一个不可能是词的组成的字符之后。与此相似，它必须是一行的结束，或者是</span><br><span class="line">的字符之前。词的组成字符是字母，数字，还有下划线。</span><br><span class="line"></span><br><span class="line">       -x, --line-regexp</span><br><span class="line">              只选择能匹配完整一行的匹配。</span><br><span class="line"></span><br><span class="line">       -y     -i 的同义词，废弃不用。</span><br><span class="line"></span><br><span class="line">       -Z, --null</span><br><span class="line">              输出一个全零字节            (ASCII            码中的            NUL            字符)            而不是一般情况下输出在文件名之后的字符。例如，           </span><br><span class="line">              在每个文件名之后输出一个全零字节而不是普通的新行符。这个选项使得输出清楚明白，即使文件名的表示中包含特殊字符比如新行符。这个选项可以与命令 find -print0, </span><br><span class="line">              和 xargs -0 一起使用，来处理任意的文件名，即使是那些含有新行符的文件名。</span><br><span class="line"></span><br><span class="line">正则表达式 REGULAR EXPRESSIONS</span><br><span class="line">       一个正则表达式是一个描述了一个字符串集合的模式。正则表达式的构造类似于算术表达式，使用各种各样的操作符来将更小的表达式连在一起。</span><br><span class="line"></span><br><span class="line">       Grep       能理解两种不同版本的正则表达式语法：“basic”       和       “extended”。在       GNU grep       中，两种语法可以实现的功能是没有区别的。在其他实现中，</span><br><span class="line">       正则表达式表达能力要弱一点。下面的描述适用于扩展的 (extended) 正则表达式，它与基本正则表达式的区别会在最后做一个总结。</span><br><span class="line"></span><br><span class="line">       基本的构造块是匹配单个字符的正则表达式。大部分字符，包括所有字母和数字，是匹配它们自身的正则表达式。任何具有特殊含义的元字符可以通过前置一个反斜杠来引用。(may b</span><br><span class="line">       ceding it with a backslash.)</span><br><span class="line"></span><br><span class="line">       方括号表达式     (bracket)     是一个字符序列，放在     [     和     ]     当中。它匹配序列中的任何一个字符；如果序列中的第一个字符是脱字符     (caret)    ^    </span><br><span class="line">       序列中的任何一个字符。例如，正则表达式 [0123456789] 匹配任何一个数字。</span><br><span class="line"></span><br><span class="line">       在方括号表达式之中，一个  范围表达式  (range)  由两个字符组成，中间用一个连字符  (hyphen)  分隔。它匹配在这两个字符之间的任何一个字符，使用本地化的序列顺序和字符</span><br><span class="line">       between  the  two  characters,inclusive,  using  the  locale&#x27;s  collating  sequence  and  character  set.)  例如，在默认的  C locale中， [a-d] 与 [abcd] 等价。典</span><br><span class="line">       将字符以字典顺序排序，在这些 locale 中， [a-d] 不与 [abcd] 等价；例如它可能与 [aBbCcDd] 等价。要获得传统的对方括号表达式的解释，可以设定环境变量 LC_ALL 值为 C 来</span><br><span class="line"></span><br><span class="line">       最后，在方括号表达式中有一些预定义的字符类，如下所示。它们的名字是自说明的，它们是   [:alnum:](字母和数字),   [:alpha:](字母),    [:cntrl:](),    [:digit:](数字</span><br><span class="line">       [:lower:](小写字母),  [:print:](可打印字符),  [:punct:](),  [:space:](空格), [:upper:](大写字母), 和 [:xdigit:] 。例如， [[:alnum:]] 意思是 [0-9A-Za-z] ，但是后</span><br><span class="line">       locale C 和ASCII 字符编码，而前一种是与 locale 和字符集无关的。(注意这些字符类名中的方括号也是符号名称的一部分，必须包含在用来为序列定界的方括号之中。)</span><br><span class="line"></span><br><span class="line">       大多数元字符处于序列中时会失去它们的特殊意义。为了包含一个字面意义    (literal)    的    ]     ，需要将它放在序列的最前。与此相似，为了包含一个字面意义     (lit</span><br><span class="line">       ，需要将它放在除了序列最前之外的其他位置。最后，为了包含一个字面意义 (literal) 的 - ，需要将它放在序列最后。</span><br><span class="line"></span><br><span class="line">       句点符 (period) .  匹配任何一个字符。符号 \w 是 [[:alnum:]] 的同义词， \W 是 [^[:alnum]] 的同义词。</span><br><span class="line"></span><br><span class="line">       脱字符  (caret)  ^  和美元标记  (dollar)  $  分别是匹配一行的首部和尾部的空字串的元字符。符号 \&lt; 和 \&gt; 分别是匹配一个词的首部和尾部的空字串的元字符。符号 \b 匹配</span><br><span class="line">       的空字串，符号 \B 匹配 不 处于一个词的边缘的空字串。</span><br><span class="line"></span><br><span class="line">       一个正则表达式后面可以跟随多种重复操作符之一。</span><br><span class="line">       ?      先前的项是可选的，最多匹配一次。</span><br><span class="line">       *      先前的项可以匹配零次或多次。</span><br><span class="line">       +      先前的项可以匹配一次或多次。</span><br><span class="line">       &#123;n&#125;    先前的项将匹配恰好 n 次。</span><br><span class="line">       &#123;n,&#125;   先前的项可以匹配 n 或更多次。</span><br><span class="line">       &#123;n,m&#125;  先前的项将匹配至少 n 词，但是不会超过 m 次。</span><br><span class="line"></span><br><span class="line">       两个正则表达式可以连接到一起；得出的正则表达式可以匹配任何由两个分别匹配连接前的子表达式的子字符串连接而成的字符串。</span><br><span class="line"></span><br><span class="line">       两个正则表达式可以用中缀操作符 | 联合到一起，得出的正则表达式可以匹配任何匹配联合前的任何一个子表达式的字符串。</span><br><span class="line"></span><br><span class="line">       重复操作符的优先级比连接高，接下来又比选择的优先级高。一个完整的子表达式可以用圆括号 (parentheses) 括住来超越这些优先级规则。(to override these precedence rules</span><br><span class="line"></span><br><span class="line">       反向引用 \n 中， n 是一个数字，匹配正则表达式中，以第 n 个圆括号括住的子表达式已匹配的子字符串。</span><br><span class="line"></span><br><span class="line">       在基本正则表达式中，元字符 ?, +, &#123;, |, (, 和 ) 丧失了它们的特殊意义；作为替代，使用加反斜杠的 (backslash) 版本 \?, \+, \&#123;, \|, \(, 和 \) 。</span><br><span class="line"></span><br><span class="line">       传统的 egrep 不支持元字符 &#123; ，并且一些 egrep 的实现通过支持 \&#123; 来代替它，因此可移植的脚本应当避免 在 egrep 中使用 &#123; 模式，应当使用 [&#123;] 来匹配一个字面意义 (liter</span><br><span class="line"></span><br><span class="line">       GNU egrep 通过假设如果 &#123;  处于  an  invalid  interval  specification  的起始，就不是一个特殊字符，来支持传统的用法。例如，shell  命令  egrep  &#x27;&#123;1&#x27;  将会搜索这个</span><br><span class="line">       而不是报告在正则表达式中发生了语法错误。POSIX.2 允许这个行为，将其视为一个扩展，但是可移植的脚本应当避免使用它。</span><br><span class="line"></span><br><span class="line">环境变量 ENVIRONMENT VARIABLES</span><br><span class="line">       Grep 的行为受下列环境变量影响。</span><br><span class="line"></span><br><span class="line">       一个  locale  LC_foo  是通过按下面的顺序，  LC_ALL,  LC_foo, LANG, 检查这三个环境变量的取值而确定的。设置了的第一个变量指定了 locale。例如，如果 LC_ALL 没有设置</span><br><span class="line">       设置为 pt_BR ，那么巴西的葡萄牙语 (Brazilian Portuguese) 将用作  LC_MESSAGES  locale  的值。如果没有设置这其中任何一个环境变量，或者没有安装所设置的  locale  目</span><br><span class="line">       没有将国家和语言支持 (national language support (NLS)) 编译在内，将默认使用 locale C。</span><br><span class="line"></span><br><span class="line">       GREP_OPTIONS</span><br><span class="line">              这个变量指定了将放在所有显式指定的选项之前的默认选项。例如，如果      GREP_OPTIONS      是      &#x27;--binary-files=without-match      --directories=skip&#x27;   </span><br><span class="line">              将像已经在任何显式指定的选项之前指定了  --binary-files=without-match   和   --directories=skip   选项那样来运作。选项以空白   (whitespace)   分隔。一个反</span><br><span class="line">              使得下一个字符转义 (escape)，因此可以用来指定一个含有空白或者反斜杠的选项。</span><br><span class="line"></span><br><span class="line">       GREP_COLOR</span><br><span class="line">              指定用来高亮显示的标记。</span><br><span class="line"></span><br><span class="line">       LC_ALL, LC_COLLATE, LANG</span><br><span class="line">              这些变量指定了 locale LC_COLLATE ，决定了解释类似 [a-z] 的范围表达式时的序列顺序 (collating sequence) 。</span><br><span class="line"></span><br><span class="line">       LC_ALL, LC_CTYPE, LANG</span><br><span class="line">              这些选项指定了 locale LC_CTYPE ，决定了字符的类型，例如，哪些字符是空白 (whitespace) 。</span><br><span class="line"></span><br><span class="line">       LC_ALL, LC_MESSAGES, LANG</span><br><span class="line">              这些选项指定了 locale LC_MESSAGES ，决定了 grep 的消息使用的语言。默认的 locale C 使用美国英语的消息。</span><br><span class="line"></span><br><span class="line">       POSIXLY_CORRECT</span><br><span class="line">              如果设置了的话，          grep          将像          POSIX.2          要求的那样来运作；否则，          grep          将像其他         GNU         程序一样来运作。POSIX.2</span><br><span class="line">              要求文件名之后的选项必须视为文件名；默认情况下，这些选项被交换到操作数列表的前面，被当作选项来处理。同时，     POSIX.2     要求不可识别的选项在诊断消息</span><br><span class="line">中表示为      “ille?</span><br><span class="line">              gal”，但是既然它们没有真正触犯法律，因此默认情况下它们在诊断 (diagnose) 消息中表示为 “invalid”。 POSIXLY_CORRECT 同时禁止了下面描述的 _N_GNU_nonoption_argv_flags_。</span><br><span class="line"></span><br><span class="line">       _N_GNU_nonoption_argv_flags_</span><br><span class="line">              (这里    N    是    grep&#x27;s   数字形式的进程ID。)   如果这个环境变量的值的第   i   个字符是   1   ，那么不将   grep   的第   i   个操作数视为一个选项，即使它看上去像。shell</span><br><span class="line">              可以将这个变量设置在它运行的每个命令的环境中，指定哪个操作数是文件名通配符扩展的结果，因此不应当被视为选项。这个行为只有在使用 GNU C  库时有效，并且只有在  POSIXLY_CORRECT</span><br><span class="line">              没有设置的时候。</span><br><span class="line"></span><br><span class="line">诊断 DIAGNOSTICS</span><br><span class="line">       一般地，如果找到了选择的行，退出时状态值为0，否则为1。但是如果发生错误，退出时状态值是2，除非指定了 -q 或 --quiet 或 --silent 选项，并且找到了选择的行。</span><br><span class="line"></span><br><span class="line">BUGS</span><br><span class="line">       bug 报告的电子邮件地址是 bug-gnu-utils@gnu.org。 一定要在“Subject:”中带有 “grep” 这个词。</span><br><span class="line"></span><br><span class="line">       在 &#123;n,m&#125; 结构中重复次数过多会导致 grep 使用大量内存。另外，一些过分晦涩的正则表达式需要指数级的时间和空间，可能会导致 grep 耗尽所有内存。</span><br><span class="line"></span><br><span class="line">       向后引用 (backreferences) 非常慢，可能需要指数级的时间。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="grep-–help"><a href="#grep-–help" class="headerlink" title="grep –help"></a>grep –help</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# grep --help</span><br><span class="line">用法: grep [选项]... PATTERN [FILE]...</span><br><span class="line">在每个 FILE 或是标准输入中查找 PATTERN。</span><br><span class="line">默认的 PATTERN 是一个基本正则表达式(缩写为 BRE)。</span><br><span class="line">例如: grep -i &#x27;hello world&#x27; menu.h main.c</span><br><span class="line"></span><br><span class="line">正则表达式选择与解释:</span><br><span class="line">  -E, --extended-regexp     PATTERN 是一个可扩展的正则表达式(缩写为 ERE)</span><br><span class="line">  -F, --fixed-strings       PATTERN 是一组由断行符分隔的定长字符串。</span><br><span class="line">  -G, --basic-regexp        PATTERN 是一个基本正则表达式(缩写为 BRE)</span><br><span class="line">  -P, --perl-regexp         PATTERN 是一个 Perl 正则表达式</span><br><span class="line">  -e, --regexp=PATTERN      用 PATTERN 来进行匹配操作</span><br><span class="line">  -f, --file=FILE           从 FILE 中取得 PATTERN</span><br><span class="line">  -i, --ignore-case         忽略大小写</span><br><span class="line">  -w, --word-regexp         强制 PATTERN 仅完全匹配字词</span><br><span class="line">  -x, --line-regexp         强制 PATTERN 仅完全匹配一行</span><br><span class="line">  -z, --null-data           一个 0 字节的数据行，但不是空行</span><br><span class="line"></span><br><span class="line">Miscellaneous:</span><br><span class="line">  -s, --no-messages         suppress error messages</span><br><span class="line">  -v, --invert-match        select non-matching lines</span><br><span class="line">  -V, --version             display version information and exit</span><br><span class="line">      --help                display this help text and exit</span><br><span class="line"></span><br><span class="line">输出控制:</span><br><span class="line">  -m, --max-count=NUM       NUM 次匹配后停止</span><br><span class="line">  -b, --byte-offset         输出的同时打印字节偏移</span><br><span class="line">  -n, --line-number         输出的同时打印行号</span><br><span class="line">      --line-buffered       每行输出清空</span><br><span class="line">  -H, --with-filename       为每一匹配项打印文件名</span><br><span class="line">  -h, --no-filename         输出时不显示文件名前缀</span><br><span class="line">      --label=LABEL         将LABEL 作为标准输入文件名前缀</span><br><span class="line">  -o, --only-matching       show only the part of a line matching PATTERN</span><br><span class="line">  -q, --quiet, --silent     suppress all normal output</span><br><span class="line">      --binary-files=TYPE   assume that binary files are TYPE;</span><br><span class="line">                            TYPE is &#x27;binary&#x27;, &#x27;text&#x27;, or &#x27;without-match&#x27;</span><br><span class="line">  -a, --text                equivalent to --binary-files=text</span><br><span class="line">  -I                        equivalent to --binary-files=without-match</span><br><span class="line">  -d, --directories=ACTION  how to handle directories;</span><br><span class="line">                            ACTION is &#x27;read&#x27;, &#x27;recurse&#x27;, or &#x27;skip&#x27;</span><br><span class="line">  -D, --devices=ACTION      how to handle devices, FIFOs and sockets;</span><br><span class="line">                            ACTION is &#x27;read&#x27; or &#x27;skip&#x27;</span><br><span class="line">  -r, --recursive           like --directories=recurse</span><br><span class="line">  -R, --dereference-recursive</span><br><span class="line">                            likewise, but follow all symlinks</span><br><span class="line">      --include=FILE_PATTERN</span><br><span class="line">                            search only files that match FILE_PATTERN</span><br><span class="line">      --exclude=FILE_PATTERN</span><br><span class="line">                            skip files and directories matching FILE_PATTERN</span><br><span class="line">      --exclude-from=FILE   skip files matching any file pattern from FILE</span><br><span class="line">      --exclude-dir=PATTERN directories that match PATTERN will be skipped.</span><br><span class="line">  -L, --files-without-match print only names of FILEs containing no match</span><br><span class="line">  -l, --files-with-matches  print only names of FILEs containing matches</span><br><span class="line">  -c, --count               print only a count of matching lines per FILE</span><br><span class="line">  -T, --initial-tab         make tabs line up (if needed)</span><br><span class="line">  -Z, --null                print 0 byte after FILE name</span><br><span class="line"></span><br><span class="line">文件控制:</span><br><span class="line">  -B, --before-context=NUM  打印以文本起始的NUM 行</span><br><span class="line">  -A, --after-context=NUM   打印以文本结尾的NUM 行</span><br><span class="line">  -C, --context=NUM         打印输出文本NUM 行</span><br><span class="line">  -NUM                      same as --context=NUM</span><br><span class="line">      --group-separator=SEP use SEP as a group separator</span><br><span class="line">      --no-group-separator  use empty string as a group separator</span><br><span class="line">      --color[=WHEN],</span><br><span class="line">      --colour[=WHEN]       use markers to highlight the matching strings;</span><br><span class="line">                            WHEN is &#x27;always&#x27;, &#x27;never&#x27;, or &#x27;auto&#x27;</span><br><span class="line">  -U, --binary              do not strip CR characters at EOL (MSDOS/Windows)</span><br><span class="line">  -u, --unix-byte-offsets   report offsets as if CRs were not there</span><br><span class="line">                            (MSDOS/Windows)</span><br><span class="line"></span><br><span class="line">‘egrep’即‘grep -E’。‘fgrep’即‘grep -F’。</span><br><span class="line">直接使用‘egrep’或是‘fgrep’均已不可行了。</span><br><span class="line">若FILE 为 -，将读取标准输入。不带FILE，读取当前目录，除非命令行中指定了-r 选项。</span><br><span class="line">如果少于两个FILE 参数，就要默认使用-h 参数。</span><br><span class="line">如果有任意行被匹配，那退出状态为 0，否则为 1；</span><br><span class="line">如果有错误产生，且未指定 -q 参数，那退出状态为 2。</span><br></pre></td></tr></table></figure>
<h1 id="grep命令示例"><a href="#grep命令示例" class="headerlink" title="grep命令示例"></a>grep命令示例</h1><h2 id="显示当前目录下的所有子目录：ls-l-grep-‘-d’"><a href="#显示当前目录下的所有子目录：ls-l-grep-‘-d’" class="headerlink" title="显示当前目录下的所有子目录：ls -l|grep ‘^d’"></a>显示当前目录下的所有子目录：ls -l|grep ‘^d’</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# ls -l</span><br><span class="line">总用量 48</span><br><span class="line">-rw-r--r--. 1 root root    0 5月   3 15:27 a.txt</span><br><span class="line">-rw-r--r--. 1 root root    0 5月   3 15:27 b.txt</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:16 cat</span><br><span class="line">-rw-r--r--. 1 root root    0 5月   3 15:27 c.txt</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:18 date</span><br><span class="line">-rw-r--r--. 1 root root    0 5月   3 15:27 d.txt</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:16 less</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:14 ls</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:15 more</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:18 ps</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:15 sort</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:14 tr</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 18:47 uniq</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:17 vi</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:17 wc</span><br><span class="line">drwxr-xr-x. 4 root root 4096 5月   3 14:36 正则表达式</span><br><span class="line">[root@localhost Linux_Test]# ls -l|grep &#x27;^d&#x27;</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:16 cat</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:18 date</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:16 less</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:14 ls</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:15 more</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:18 ps</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:15 sort</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:14 tr</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 18:47 uniq</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:17 vi</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:17 wc</span><br><span class="line">drwxr-xr-x. 4 root root 4096 5月   3 14:36 正则表达式</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>
<h2 id="显示当前目录下的所有文件：ls-l-grep-‘-‘"><a href="#显示当前目录下的所有文件：ls-l-grep-‘-‘" class="headerlink" title="显示当前目录下的所有文件：ls -l|grep ‘^-‘"></a>显示当前目录下的所有文件：ls -l|grep ‘^-‘</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# ls -l|grep &#x27;^-&#x27;</span><br><span class="line">-rw-r--r--. 1 root root    0 5月   3 15:27 a.txt</span><br><span class="line">-rw-r--r--. 1 root root    0 5月   3 15:27 b.txt</span><br><span class="line">-rw-r--r--. 1 root root    0 5月   3 15:27 c.txt</span><br><span class="line">-rw-r--r--. 1 root root    0 5月   3 15:27 d.txt</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/a16f926a/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/a16f926a/" class="post-title-link" itemprop="url">正则表达式 组合与锚点</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-02 17:38:34" itemprop="dateCreated datePublished" datetime="2021-05-02T17:38:34+08:00">2021-05-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">正则表达式</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/a16f926a/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/a16f926a/" data-xid="/blog/a16f926a/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="单字符正则表达式的组合"><a href="#单字符正则表达式的组合" class="headerlink" title="单字符正则表达式的组合"></a>单字符正则表达式的组合</h1><h2 id="串结"><a href="#串结" class="headerlink" title="串结"></a>串结</h2><p>如<code>abc</code>串结在一起，可以匹配abc本身。<br>如<code>[A-Z].[0-9].</code>串结在一起，可以匹配<code>AA00</code>。</p>
<h2 id="星号（-）"><a href="#星号（-）" class="headerlink" title="星号（*）"></a>星号（*）</h2><p>单字符正则表达式后跟<code>*</code>，表示匹配这个单字符正则表达式的0次或任意多次。<br>例:正则表达式<code>12*4</code><br>与字符串1234不匹配，与1224，12224，14匹配</p>
<p>例:正则表达式<code>[A-Z][0-9]*</code><br>此例中<code>*</code>作用的单字符正则表式为<code>[0-9]</code>，代表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[A-Z]</span><br><span class="line">[A-Z][0-9]</span><br><span class="line">[A-Z][0-9][0-9]</span><br><span class="line">[A-Z][0-9][0-9][0-9]</span><br><span class="line">......</span><br></pre></td></tr></table></figure>
<p>这与<code>A</code>,<code>A1</code>,<code>C45</code>,<code>D768</code>匹配，与<code>b64512</code>,<code>T56t</code>不匹配。</p>
<p>例：正则表达式<code>[Cc]hapter *[1-4]</code><br>在*号前有一个空格，允许数字1-4之前有多个或者0个空格。可匹配<code>Chapter2</code>,<code>chapter 3</code>等等。<br>例：正则表达式<code>a\[i] *= *b\[j] *\* *c\[k]</code><br>匹配字符串<code>a[i]=b[j]*c[k]</code>，容许等号和星号两侧有空格</p>
<p>例：在vi中使用正则表达式<br><code>:1,$s/[0-9]*/xx/g</code>，<code>1,$</code>表示从第1行到最后一行，<code>s/[0-9]*/_/g</code>表示把一行的所有的数字全部替换成<code>_</code>。<br>需要注意的是</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">123 123 234 123 </span><br><span class="line">a b c </span><br><span class="line">hello2 hello3 hello4 </span><br></pre></td></tr></table></figure>
<p>替换结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">_ _ _ _ </span><br><span class="line">_a_ _b_ _c </span><br><span class="line">_h_e_l_l_o_ _h_e_l_l_o_ _h_e_l_l_o_ </span><br></pre></td></tr></table></figure>
<p>需要注意的是当没有数字的时候，<code>[0-9]*</code>可以匹配0次，这将匹配到一个空字符串，在一行中，任何两个字符之间都认为有一个空字符串。<br>所以替换的结果就是在任何两个字符之间添加一个<code>_</code>字符。这可能不是我们所希望的，在使用的时候应该多注意星号<code>*</code>匹配0次的情况。</p>
<h2 id="锚点：-与"><a href="#锚点：-与" class="headerlink" title="锚点：$与^"></a>锚点：$与^</h2><p>锚点表示要匹配的字符串必须处于的位置。</p>
<h3 id="在尾部时有特殊意义，否则与其自身匹配"><a href="#在尾部时有特殊意义，否则与其自身匹配" class="headerlink" title="$在尾部时有特殊意义，否则与其自身匹配"></a>$在尾部时有特殊意义，否则与其自身匹配</h3><p>例：<code>123$</code>匹配文件中行尾的123，不在行尾的123字符不匹配<br>例：<code>$123</code>与字符串<code>$123</code>匹配<br>例：<code>.$</code>匹配行尾的任意字符</p>
<h3 id="在首部时有特殊意义，否则与其自身匹配"><a href="#在首部时有特殊意义，否则与其自身匹配" class="headerlink" title="^在首部时有特殊意义，否则与其自身匹配"></a>^在首部时有特殊意义，否则与其自身匹配</h3><p>例：<code>^printf</code>匹配行首的printf字符串，不在行首的printf串不匹配<br>例：<code>Hel^lo</code>与字符串<code>Hel^lo</code>匹配<br>例：在vi中使用 :<code>1,$s/^----//g</code>表示删除第一行到最后一行的每行行首的4个减号<code>-</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0123456789</span><br><span class="line">----hello</span><br><span class="line">--------world</span><br></pre></td></tr></table></figure>
<p>替换结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0123456789</span><br><span class="line">hello</span><br><span class="line">----world</span><br></pre></td></tr></table></figure>
<h1 id="正则表达式扩展"><a href="#正则表达式扩展" class="headerlink" title="正则表达式扩展"></a>正则表达式扩展</h1><p>ERE：扩展的正则表达式(ERE)<br>PCRE: Perl-compatible regular expression</p>
<p>对基本正则表达式（BRE）进行了改进：</p>
<ul>
<li>添加分组：圆括号() ：<ul>
<li><code>(xy)*</code>可匹配空字符串，<code>xy</code>，<code>xyxy</code>，<code>xyxyxy</code></li>
</ul>
</li>
<li>添加逻辑运算：表示逻辑“或” 的符号 |<ul>
<li><code>(pink|green)</code>表示与pink或green匹配</li>
</ul>
</li>
<li>复次数定义：与星号地位类似的+和?，限定重复次数 {m,n}<ul>
<li><code>*</code>号表示它左边的单字符正则表达式重复的0次或多次</li>
<li><code>+</code>号表示重复1次或多次：<ul>
<li><code>[0-9]+</code>：匹配长度至少为1数字串</li>
</ul>
</li>
<li><code>?</code>表示0次或一次：<ul>
<li><code>a?</code>：匹配零个或一个a</li>
</ul>
</li>
<li>限定重复次数<code>\&#123;m,n\&#125;</code>，例如：<ul>
<li><code>[1-9][0-9]\&#123;6,8\&#125;</code>：7-9位数字，首位非0</li>
</ul>
</li>
</ul>
</li>
<li>命名的预定义集合<ul>
<li><code>[[:xdigit:]]</code>：十六进制数字</li>
<li><code>\d</code>：数字</li>
<li><code>\D</code>：非数字</li>
</ul>
</li>
<li>比<code>^</code>和<code>$</code>更灵活的锚点定义<ul>
<li>例如：寻找一个数字串，但是要求这个数字串不许出现在“合计”两个字之后</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/f80c1e3e/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/f80c1e3e/" class="post-title-link" itemprop="url">正则表达式 元字符和集合</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-02 16:24:34" itemprop="dateCreated datePublished" datetime="2021-05-02T16:24:34+08:00">2021-05-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">正则表达式</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/f80c1e3e/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/f80c1e3e/" data-xid="/blog/f80c1e3e/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>804</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="正则表达式的概念"><a href="#正则表达式的概念" class="headerlink" title="正则表达式的概念"></a>正则表达式的概念</h1><h2 id="正则表达式Regular-Expressions应用范围"><a href="#正则表达式Regular-Expressions应用范围" class="headerlink" title="正则表达式Regular Expressions应用范围"></a>正则表达式Regular Expressions应用范围</h2><p>字符串匹配操作和替换操作<br>举例：Linux中的vi more grep yacc lex awk sed<br>其他：Visual Studio，Word等文本编辑器</p>
<h2 id="正则表达式的功能"><a href="#正则表达式的功能" class="headerlink" title="正则表达式的功能"></a>正则表达式的功能</h2><p>描述一个字符串模式<br>注意<br>正则表达式规则与文件名通配符规则不同</p>
<ul>
<li>正则表达式规则用于<strong>文本</strong>处理的场合</li>
<li>文件名匹配规则用于<strong>文件</strong>处理的场合</li>
</ul>
<p>不同软件对正则表达式的定义会有差异</p>
<h1 id="正则表达式的特殊字符（元字符）"><a href="#正则表达式的特殊字符（元字符）" class="headerlink" title="正则表达式的特殊字符（元字符）"></a>正则表达式的特殊字符（元字符）</h1><h2 id="6个元字符"><a href="#6个元字符" class="headerlink" title="6个元字符"></a>6个元字符</h2><p><code>.</code>、<code>*</code>、<code>[</code>、<code>\</code>、<code>^</code>、<code>$</code>。<br>所谓的元字符，就是一些控制字符，这些有特殊的含义。</p>
<h2 id="转义"><a href="#转义" class="headerlink" title="转义"></a>转义</h2><p>用反斜线可以取消特殊字符的特殊含义。<br>如：正则表达<code>end\.</code>只与字符串<code>end.</code>匹配</p>
<h1 id="单字符正则表达式"><a href="#单字符正则表达式" class="headerlink" title="单字符正则表达式"></a>单字符正则表达式</h1><p>长的正则表达式由单字符正则表达式构成的<br>非特殊字符与其自身匹配<br>如：正则表达式a与字符串a匹配,  b与b，&#x2F;与&#x2F;</p>
<h2 id="转义字符（-）"><a href="#转义字符（-）" class="headerlink" title="转义字符（\）"></a>转义字符（\）</h2><p><code>\.</code>、<code>\*</code>、<code>\$</code>、<code>\^</code>、<code>\[</code>、<code>\\</code>。<br>正则表达式<code>\*</code>与字符串<code>*</code>匹配，与字符串<code>\*</code>不匹配。</p>
<p>转义字符后除以上六种之外的不该出现其他字符，例如:不该出现\u，这样的组合被视为undefined（未定义的），后出的软件有可能会有特殊的解释</p>
<h2 id="圆点"><a href="#圆点" class="headerlink" title="圆点"></a>圆点</h2><p>圆点<code>.</code>：匹配任意单字符</p>
<h2 id="定义集合"><a href="#定义集合" class="headerlink" title="定义集合"></a>定义集合</h2><h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><ul>
<li>在一对方括号之间的字符为集合的内容，<ul>
<li>如：单字符正则表达式<code>[abcd]</code>与a或b,c,d匹配</li>
</ul>
</li>
<li>圆点,星号，反斜线在方括号内时，代表它们自己<ul>
<li>如:<code>[\*.]</code>可匹配<code>\</code>、<code>*</code>、<code>.</code>这3个单字符本身。</li>
</ul>
</li>
</ul>
<h3 id="用减号-定义一个区间"><a href="#用减号-定义一个区间" class="headerlink" title="用减号-定义一个区间"></a>用减号-定义一个区间</h3><p>如<code>[a-d]</code>、<code>[A-Z]</code>、<code>[a-zA-Z0-9]</code><br>[][] 集合含左右中括号两个字符</p>
<p>减号在最后，则失去表示区间的意义<br><code>[ad-]</code>只与<code>a</code>、<code>d</code>、<code>-</code>3个字符匹配。</p>
<h3 id="用-表示补集"><a href="#用-表示补集" class="headerlink" title="用^表示补集"></a>用^表示补集</h3><p><code>^</code>在集合的开头,则表示与集合内字符之外的任意字符匹配<br>如：<code>[^a-z]</code>匹配任一非小写字母<br><code>[^][]</code>匹配任一非中括号字符<br><code>^</code>不在集合的开头,则失去其表示补集的意义<br>如：<code>[a-z^]</code>能匹配<code>a-z</code>等26个字符和<code>^</code>字符本身，也就是一共能匹配27个单字符</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/29005fc5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/29005fc5/" class="post-title-link" itemprop="url">Linux uniq命令</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-01 14:44:03" itemprop="dateCreated datePublished" datetime="2021-05-01T14:44:03+08:00">2021-05-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E5%8F%8A%E5%85%B6%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4/" itemprop="url" rel="index"><span itemprop="name">文本文件及其处理命令</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E5%8F%8A%E5%85%B6%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4/%E5%A4%84%E7%90%86%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6/" itemprop="url" rel="index"><span itemprop="name">处理文本文件</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/29005fc5/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/29005fc5/" data-xid="/blog/29005fc5/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>5.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>5 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Linux-uniq命令：筛选文件中的重复行"><a href="#Linux-uniq命令：筛选文件中的重复行" class="headerlink" title="Linux uniq命令：筛选文件中的重复行"></a>Linux uniq命令：筛选文件中的重复行</h1><p>Linux的uniq 命令用于检查及删除文本文件中重复出现的行列，一般与 sort 命令结合使用。</p>
<h2 id="uniq-–help"><a href="#uniq-–help" class="headerlink" title="uniq –help"></a>uniq –help</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# uniq --help</span><br><span class="line">用法：uniq [选项]... [文件]</span><br><span class="line">Filter adjacent matching lines from INPUT (or standard input),</span><br><span class="line">writing to OUTPUT (or standard output).</span><br><span class="line"></span><br><span class="line">With no options, matching lines are merged to the first occurrence.</span><br><span class="line"></span><br><span class="line">Mandatory arguments to long options are mandatory for short options too.</span><br><span class="line">  -c, --count           prefix lines by the number of occurrences</span><br><span class="line">  -d, --repeated        only print duplicate lines, one for each group</span><br><span class="line">  -D, --all-repeated[=METHOD]  print all duplicate lines</span><br><span class="line">                          groups can be delimited with an empty line</span><br><span class="line">                          METHOD=&#123;none(default),prepend,separate&#125;</span><br><span class="line">  -f, --skip-fields=N   avoid comparing the first N fields</span><br><span class="line">      --group[=METHOD]  show all items, separating groups with an empty line</span><br><span class="line">                          METHOD=&#123;separate(default),prepend,append,both&#125;</span><br><span class="line">  -i, --ignore-case     ignore differences in case when comparing</span><br><span class="line">  -s, --skip-chars=N    avoid comparing the first N characters</span><br><span class="line">  -u, --unique          only print unique lines</span><br><span class="line">  -z, --zero-terminated  end lines with 0 byte, not newline</span><br><span class="line">  -w, --check-chars=N    对每行第N 个字符以后的内容不作对照</span><br><span class="line">      --help        显示此帮助信息并退出</span><br><span class="line">      --version        显示版本信息并退出</span><br><span class="line"></span><br><span class="line">若域中为先空字符(通常包括空格以及制表符)，然后非空字符，域中字符前的空字符将被跳过。</span><br><span class="line"></span><br><span class="line">Note: &#x27;uniq&#x27; does not detect repeated lines unless they are adjacent.</span><br><span class="line">You may want to sort the input first, or use &#x27;sort -u&#x27; without &#x27;uniq&#x27;.</span><br><span class="line">Also, comparisons honor the rules specified by &#x27;LC_COLLATE&#x27;.</span><br><span class="line"></span><br><span class="line">GNU coreutils online help: &lt;http://www.gnu.org/software/coreutils/&gt;</span><br><span class="line">请向&lt;http://translationproject.org/team/zh_CN.html&gt; 报告uniq 的翻译错误</span><br><span class="line">要获取完整文档，请运行：info coreutils &#x27;uniq invocation&#x27;</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>
<h2 id="man-uniq"><a href="#man-uniq" class="headerlink" title="man uniq"></a>man uniq</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">UNIQ(1)                                                              FSF                                                              UNIQ(1)</span><br><span class="line"></span><br><span class="line">NAME</span><br><span class="line">       uniq - 删除排序文件中的重复行</span><br><span class="line"></span><br><span class="line">总览 (SYNOPSIS)</span><br><span class="line">       ../src/uniq [OPTION]... [INPUT [OUTPUT]]</span><br><span class="line"></span><br><span class="line">描述 (DESCRIPTION)</span><br><span class="line">       从 INPUT (或 标准输入) 数据 中 忽略 (但是 保留 一行) 连续的 相似行, 结果 送入 OUTPUT (或 标准输出).</span><br><span class="line"></span><br><span class="line">       -c, --count</span><br><span class="line">              在 行首 显示 出现 的 数目</span><br><span class="line"></span><br><span class="line">       -d, --repeated</span><br><span class="line">              仅显示 重复行</span><br><span class="line"></span><br><span class="line">       -D, --all-repeated</span><br><span class="line">              显示 全部 重复行</span><br><span class="line"></span><br><span class="line">       -f, --skip-fields=N</span><br><span class="line">              不比较 起初的 N 栏</span><br><span class="line"></span><br><span class="line">       -i, --ignore-case</span><br><span class="line">              比较时 忽略 大小写</span><br><span class="line"></span><br><span class="line">       -s, --skip-chars=N</span><br><span class="line">              不比较 起初的 N 个 字符</span><br><span class="line"></span><br><span class="line">       -u, --unique</span><br><span class="line">              仅显示 无重复行</span><br><span class="line"></span><br><span class="line">       -w, --check-chars=N</span><br><span class="line">              每行中 比较 不超过 N 个 字符</span><br><span class="line"></span><br><span class="line">       -N     同 -f N</span><br><span class="line"></span><br><span class="line">       +N     同 -s N</span><br><span class="line"></span><br><span class="line">       --help 显示 帮助信息, 然后 结束</span><br><span class="line"></span><br><span class="line">       --version</span><br><span class="line">              显示 版本信息, 然后 结束</span><br><span class="line"></span><br><span class="line">       栏(field) 指 一段 空白符(whitespace), 接下来 一段 非空白符.  字符前 的 栏 被 忽略 (Fields are skipped before chars).</span><br></pre></td></tr></table></figure>
<h1 id="uniq命令示例"><a href="#uniq命令示例" class="headerlink" title="uniq命令示例"></a>uniq命令示例</h1><h2 id="uniq：删除文件中的重复行"><a href="#uniq：删除文件中的重复行" class="headerlink" title="uniq：删除文件中的重复行"></a>uniq：删除文件中的重复行</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost uniq]# cat uniq_1.txt </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">4</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">8</span><br><span class="line">20</span><br></pre></td></tr></table></figure>
<p>使用uniq 命令删除重复行后，有如下输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost uniq]# uniq uniq_1.txt </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">8</span><br><span class="line">20</span><br><span class="line">[root@localhost uniq]# </span><br></pre></td></tr></table></figure>
<h2 id="uniq-c：删除文件重复行并显示重复行次数"><a href="#uniq-c：删除文件重复行并显示重复行次数" class="headerlink" title="uniq -c：删除文件重复行并显示重复行次数"></a>uniq -c：删除文件重复行并显示重复行次数</h2><p>检查文件并删除文件中重复出现的行，并在行首显示该行重复出现的次数。使用如下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost uniq]# uniq -c uniq_1.txt </span><br><span class="line">      1 1</span><br><span class="line">      1 2</span><br><span class="line">      4 3</span><br><span class="line">      3 4</span><br><span class="line">      3 5</span><br><span class="line">      1 8</span><br><span class="line">      1 20</span><br><span class="line">[root@localhost uniq]# </span><br></pre></td></tr></table></figure>
<p>输出的第1列表示重复次数，第2列表示该行的内容。</p>
<h2 id="uniq-d：只打印一次文件中的重复行"><a href="#uniq-d：只打印一次文件中的重复行" class="headerlink" title="uniq -d：只打印一次文件中的重复行"></a>uniq -d：只打印一次文件中的重复行</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost uniq]# cat uniq_1.txt </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">4</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">8</span><br><span class="line">20</span><br><span class="line">[root@localhost uniq]# uniq -d uniq_1.txt </span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">[root@localhost uniq]# </span><br></pre></td></tr></table></figure>
<h2 id="uniq-D：打印文件中所有重复行"><a href="#uniq-D：打印文件中所有重复行" class="headerlink" title="uniq -D：打印文件中所有重复行"></a>uniq -D：打印文件中所有重复行</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost uniq]# cat uniq_1.txt </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">4</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">8</span><br><span class="line">20</span><br><span class="line">[root@localhost uniq]# uniq -d uniq_1.txt </span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">[root@localhost uniq]# uniq -D uniq_1.txt </span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">4</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">[root@localhost uniq]# </span><br></pre></td></tr></table></figure>
<h2 id="uniq-f-N：行比较的时候忽略前面的N个字段"><a href="#uniq-f-N：行比较的时候忽略前面的N个字段" class="headerlink" title="uniq -f N：行比较的时候忽略前面的N个字段"></a>uniq -f N：行比较的时候忽略前面的N个字段</h2><p>例如我现在有如下的文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost uniq]# cat uniq_4.txt </span><br><span class="line">0 0 0 a</span><br><span class="line">0 1 0 a</span><br><span class="line">1 0 0 a</span><br><span class="line">0 0 0 A</span><br><span class="line">0 1 0 A</span><br><span class="line">1 0 0 A</span><br><span class="line">[root@localhost uniq]#</span><br></pre></td></tr></table></figure>
<p>如果比较整行的话，所有的行都不相同：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost uniq]# uniq uniq_4.txt </span><br><span class="line">0 0 0 a</span><br><span class="line">0 1 0 a</span><br><span class="line">1 0 0 a</span><br><span class="line">0 0 0 A</span><br><span class="line">0 1 0 A</span><br><span class="line">1 0 0 A</span><br><span class="line">[root@localhost uniq]#</span><br></pre></td></tr></table></figure>
<p>但是，如果忽略前面两个字段的影响的话，则文件中两行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost uniq]# uniq -f 2 uniq_4.txt </span><br><span class="line">0 0 0 a</span><br><span class="line">0 0 0 A</span><br><span class="line">[root@localhost uniq]#</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost uniq]# uniq -c -f 2 uniq_4.txt </span><br><span class="line">      3 0 0 0 a</span><br><span class="line">      3 0 0 0 A</span><br><span class="line">[root@localhost uniq]# </span><br></pre></td></tr></table></figure>
<h2 id="uniq-s-N：行比较时忽略行首之后的N个字符"><a href="#uniq-s-N：行比较时忽略行首之后的N个字符" class="headerlink" title="uniq -s N：行比较时忽略行首之后的N个字符"></a>uniq -s N：行比较时忽略行首之后的N个字符</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost uniq]# cat uniq_5.txt </span><br><span class="line">0_0_0_a</span><br><span class="line">0_1_0_a</span><br><span class="line">1_0_0_a</span><br><span class="line">0_0_0_A</span><br><span class="line">0_1_0_A</span><br><span class="line">1_0_0_A</span><br><span class="line">[root@localhost uniq]#</span><br></pre></td></tr></table></figure>
<p>比较时忽略行首之后的4个字符：</p>
<pre>
<mark>0_0_</mark>0_a
<mark>0_1_</mark>0_a
<mark>1_0_</mark>0_a
<mark>0_0_</mark>0_A
<mark>0_1_</mark>0_A
<mark>1_0_</mark>0_A
</pre>

<p>运行结果：</p>
<pre>
[root@localhost uniq]&#35; uniq -c -s 4 uniq_5.txt 
      3 0_0_0<mark>_a</mark>
      3 0_0_0<mark>_A</mark>
[root@localhost uniq]&#35; 
</pre>

<p>忽略前三个字符：</p>
<pre>
<mark>0_0</mark>_0_a
<mark>0_1</mark>_0_a
<mark>1_0</mark>_0_a
<mark>0_0</mark>_0_A
<mark>0_1</mark>_0_A
<mark>1_0</mark>_0_A
</pre>

<p>运行结果：</p>
<pre>
[root@localhost uniq]&#35; uniq -c -s 3 uniq_5.txt 
      3 0_0<mark>_0_a</mark>
      3 0_0<mark>_0_A</mark>
[root@localhost uniq]&#35;
</pre>

<p>忽略前2个字符：</p>
<pre>
<mark>0_</mark>0_0_a
<mark>0_</mark>1_0_a
<mark>1_</mark>0_0_a
<mark>0_</mark>0_0_A
<mark>0_</mark>1_0_A
<mark>1_</mark>0_0_A
</pre>

<p>结果：</p>
<pre>
[root@localhost uniq]&#35; uniq -c -s 2 uniq_5.txt 
      1 0_<mark>0_0_a</mark>
      1 0_<mark>1_0_a</mark>
      1 1_<mark>0_0_a</mark>
      1 0_<mark>0_0_A</mark>
      1 0_<mark>1_0_A</mark>
      1 1_<mark>0_0_A</mark>
[root@localhost uniq]&#35; 
</pre>



<h2 id="uniq-i：忽略大小写比较"><a href="#uniq-i：忽略大小写比较" class="headerlink" title="uniq -i：忽略大小写比较"></a>uniq -i：忽略大小写比较</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost uniq]# cat uniq_3.txt </span><br><span class="line">a</span><br><span class="line">A</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">B</span><br><span class="line">b</span><br><span class="line">B</span><br><span class="line">c</span><br><span class="line">c</span><br><span class="line">c</span><br><span class="line">C</span><br><span class="line">[root@localhost uniq]# uniq -c uniq_3.txt </span><br><span class="line">      1 a</span><br><span class="line">      1 A</span><br><span class="line">      1 a</span><br><span class="line">      1 b</span><br><span class="line">      1 B</span><br><span class="line">      1 b</span><br><span class="line">      1 B</span><br><span class="line">      3 c</span><br><span class="line">      1 C</span><br><span class="line">[root@localhost uniq]# uniq -ci uniq_3.txt </span><br><span class="line">      3 a</span><br><span class="line">      4 b</span><br><span class="line">      4 c</span><br><span class="line">[root@localhost uniq]# </span><br></pre></td></tr></table></figure>
<h2 id="uniq-u：只显示没有重复的行"><a href="#uniq-u：只显示没有重复的行" class="headerlink" title="uniq -u：只显示没有重复的行"></a>uniq -u：只显示没有重复的行</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost uniq]# cat uniq_1.txt </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">4</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">8</span><br><span class="line">20</span><br><span class="line">[root@localhost uniq]# uniq -c uniq_1.txt </span><br><span class="line">      1 1</span><br><span class="line">      1 2</span><br><span class="line">      4 3</span><br><span class="line">      3 4</span><br><span class="line">      3 5</span><br><span class="line">      1 8</span><br><span class="line">      1 20</span><br><span class="line">[root@localhost uniq]# uniq -uc uniq_1.txt </span><br><span class="line">      1 1</span><br><span class="line">      1 2</span><br><span class="line">      1 8</span><br><span class="line">      1 20</span><br><span class="line">[root@localhost uniq]# </span><br></pre></td></tr></table></figure>
<h2 id="uniq对不相邻的重复行不起作用"><a href="#uniq对不相邻的重复行不起作用" class="headerlink" title="uniq对不相邻的重复行不起作用"></a>uniq对不相邻的重复行不起作用</h2><p>当重复的行并不相邻时，uniq 命令是不起作用的，即若文件内容为以下时，uniq 命令不起作用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost uniq]# cat uniq_2.txt </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">[root@localhost uniq]#</span><br></pre></td></tr></table></figure>
<p>运行效果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost uniq]# cat -n uniq_2.txt </span><br><span class="line">     1	1</span><br><span class="line">     2	2</span><br><span class="line">     3	1</span><br><span class="line">     4	2</span><br><span class="line">     5	1</span><br><span class="line">     6	2</span><br><span class="line">     7	1</span><br><span class="line">     8	2</span><br><span class="line">     9	1</span><br><span class="line">    10	2</span><br><span class="line">[root@localhost uniq]# uniq uniq_2.txt |cat -n</span><br><span class="line">     1	1</span><br><span class="line">     2	2</span><br><span class="line">     3	1</span><br><span class="line">     4	2</span><br><span class="line">     5	1</span><br><span class="line">     6	2</span><br><span class="line">     7	1</span><br><span class="line">     8	2</span><br><span class="line">     9	1</span><br><span class="line">    10	2</span><br><span class="line">[root@localhost uniq]# </span><br></pre></td></tr></table></figure>
<h2 id="uniq与sort搭配使用"><a href="#uniq与sort搭配使用" class="headerlink" title="uniq与sort搭配使用"></a>uniq与sort搭配使用</h2><h3 id="sort-uniq-c：统计各行在文件中出现的次数"><a href="#sort-uniq-c：统计各行在文件中出现的次数" class="headerlink" title="sort|uniq -c：统计各行在文件中出现的次数"></a>sort|uniq -c：统计各行在文件中出现的次数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost uniq]# cat uniq_2.txt </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">[root@localhost uniq]# sort uniq_2.txt |uniq -c</span><br><span class="line">      5 1</span><br><span class="line">      5 2</span><br><span class="line">[root@localhost uniq]# </span><br></pre></td></tr></table></figure>
<h3 id="sort-uniq-d：在文件中找出重复的行"><a href="#sort-uniq-d：在文件中找出重复的行" class="headerlink" title="sort|uniq -d：在文件中找出重复的行"></a>sort|uniq -d：在文件中找出重复的行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost uniq]# uniq uniq_2.txt </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">[root@localhost uniq]# uniq -d uniq_2.txt </span><br><span class="line">[root@localhost uniq]# sort uniq_2.txt|uniq -d</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">[root@localhost uniq]# </span><br></pre></td></tr></table></figure>
<h3 id="sort-uniq-u：在文件中找出没有重复的行"><a href="#sort-uniq-u：在文件中找出没有重复的行" class="headerlink" title="sort|uniq -u：在文件中找出没有重复的行"></a>sort|uniq -u：在文件中找出没有重复的行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost uniq]# cat uniq_1.txt </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">4</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">8</span><br><span class="line">20</span><br><span class="line">[root@localhost uniq]# sort uniq_1.txt </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">20</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">4</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">8</span><br><span class="line">[root@localhost uniq]# sort uniq_1.txt |uniq -u</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">20</span><br><span class="line">8</span><br><span class="line">[root@localhost uniq]# </span><br></pre></td></tr></table></figure>

<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-comm-uniq.html">https://www.runoob.com/linux/linux-comm-uniq.html</a><br><a target="_blank" rel="noopener" href="https://wangchujiang.com/linux-command/c/uniq.html">https://wangchujiang.com/linux-command/c/uniq.html</a><br><a target="_blank" rel="noopener" href="https://www.linuxidc.com/Linux/2018-12/155980.htm">https://www.linuxidc.com/Linux/2018-12/155980.htm</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/3fd8156d/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/3fd8156d/" class="post-title-link" itemprop="url">Linux tr命令</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-26 21:08:28" itemprop="dateCreated datePublished" datetime="2021-04-26T21:08:28+08:00">2021-04-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E5%8F%8A%E5%85%B6%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4/" itemprop="url" rel="index"><span itemprop="name">文本文件及其处理命令</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E5%8F%8A%E5%85%B6%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4/%E5%A4%84%E7%90%86%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6/" itemprop="url" rel="index"><span itemprop="name">处理文本文件</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/3fd8156d/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/3fd8156d/" data-xid="/blog/3fd8156d/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>7k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>6 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Linux-tr命令"><a href="#Linux-tr命令" class="headerlink" title="Linux tr命令"></a>Linux tr命令</h1><p>tr命令 可以对来自标准输入的字符进行替换、压缩和删除。它可以将一组字符变成另一组字符，经常用来编写优美的单行命令，作用很强大。<br>tr 是 Linux 和 Unix 系统中的命令行实用程序，用于转换，删除和挤压标准输入中的字符，并将结果写入标准输出。<br>该 tr 命令通常通过管道与其他命令结合使用，可以执行删除重复字符，将大写转换为小写，以及替换和删除基本字符等操作。<br>tr的英文全称是“ transform ”，即转换的意思。该命令</p>
<ul>
<li>可以将字符进行替换、压缩、删除，</li>
<li>也可以将一组字符转换成另一组字符。</li>
</ul>
<p><strong>tr只能从标准输入中读取数据，因此，tr要么将输入文件重定向到标准输入，要么从管道读入数据。</strong><br>注意：tr类似于sed命令，但是比sed简单，所以tr能实现的功能，sed都能实现。</p>
<h2 id="tr命令常用参数："><a href="#tr命令常用参数：" class="headerlink" title="tr命令常用参数："></a>tr命令常用参数：</h2><table>
<thead>
<tr>
<th align="left">tr命令参数</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-c</td>
<td align="left">选定字符串1中字符集的补集，即反选字符串1的补集</td>
</tr>
<tr>
<td align="left">-d</td>
<td align="left">删除字符串1中出现的所有字符</td>
</tr>
<tr>
<td align="left">-s</td>
<td align="left">删除所有重复出现的字符序列，只保留一个</td>
</tr>
</tbody></table>
<h2 id="tr-–help"><a href="#tr-–help" class="headerlink" title="tr –help"></a>tr –help</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# tr --help</span><br><span class="line">用法：tr [选项]... SET1 [SET2]</span><br><span class="line">从标准输入中替换、缩减和/或删除字符，并将结果写到标准输出。</span><br><span class="line"></span><br><span class="line">  -c, -C, --complement        首先补足SET1</span><br><span class="line">  -d, --delete            删除匹配SET1 的内容，并不作替换</span><br><span class="line">  -s, --squeeze-repeats    如果匹配于SET1 的字符在输入序列中存在连续的</span><br><span class="line">                重复，在替换时会被统一缩为一个字符的长度</span><br><span class="line">  -t, --truncate-set1        先将SET1 的长度截为和SET2 相等</span><br><span class="line">      --help        显示此帮助信息并退出</span><br><span class="line">      --version        显示版本信息并退出</span><br><span class="line"></span><br><span class="line">SET 是一组字符串，一般都可按照字面含义理解。解析序列如下：</span><br><span class="line"></span><br><span class="line">  \NNN    八进制值为NNN 的字符(1 至3 个数位)</span><br><span class="line">  \\        反斜杠</span><br><span class="line">  \a        终端鸣响</span><br><span class="line">  \b        退格</span><br><span class="line">  \f        换页</span><br><span class="line">  \n        换行</span><br><span class="line">  \r        回车</span><br><span class="line">  \t        水平制表符</span><br><span class="line">  \v        垂直制表符</span><br><span class="line">  字符1-字符2    从字符1 到字符2 的升序递增过程中经历的所有字符</span><br><span class="line">  [字符*]    在SET2 中适用，指定字符会被连续复制直到吻合设置1 的长度</span><br><span class="line">  [字符*次数]    对字符执行指定次数的复制，若次数以 0 开头则被视为八进制数</span><br><span class="line">  [:alnum:]    所有的字母和数字</span><br><span class="line">  [:alpha:]    所有的字母</span><br><span class="line">  [:blank:]    所有呈水平排列的空白字符</span><br><span class="line">  [:cntrl:]    所有的控制字符</span><br><span class="line">  [:digit:]    所有的数字</span><br><span class="line">  [:graph:]    所有的可打印字符，不包括空格</span><br><span class="line">  [:lower:]    所有的小写字母</span><br><span class="line">  [:print:]    所有的可打印字符，包括空格</span><br><span class="line">  [:punct:]    所有的标点字符</span><br><span class="line">  [:space:]    所有呈水平或垂直排列的空白字符</span><br><span class="line">  [:upper:]    所有的大写字母</span><br><span class="line">  [:xdigit:]    所有的十六进制数</span><br><span class="line">  [=字符=]    所有和指定字符相等的字符</span><br><span class="line"></span><br><span class="line">仅在SET1 和SET2 都给出，同时没有-d 选项的时候才会进行替换。</span><br><span class="line">仅在替换时才可能用到-t 选项。如果需要SET2 将被通过在末尾添加原来的末字符的方式</span><br><span class="line">补充到同SET1 等长。SET2 中多余的字符将被省略。只有[:lower:] 和[:upper:]</span><br><span class="line">以升序展开字符；在用于替换时的SET2 中以成对表示大小写转换。-s 作用于SET1，既不</span><br><span class="line">替换也不删除，否则在替换或展开后使用SET2 缩减。</span><br><span class="line"></span><br><span class="line">GNU coreutils online help: &lt;http://www.gnu.org/software/coreutils/&gt;</span><br><span class="line">请向&lt;http://translationproject.org/team/zh_CN.html&gt; 报告tr 的翻译错误</span><br><span class="line">要获取完整文档，请运行：info coreutils &#x27;tr invocation&#x27;</span><br><span class="line">[root@localhost Linux_Test]#s</span><br></pre></td></tr></table></figure>
<h2 id="man-tr"><a href="#man-tr" class="headerlink" title="man tr"></a>man tr</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line">TR(1)                                                           User Commands                                                           TR(1)</span><br><span class="line"></span><br><span class="line">NAME</span><br><span class="line">       tr - translate or delete characters</span><br><span class="line"></span><br><span class="line">SYNOPSIS</span><br><span class="line">       tr [OPTION]... SET1 [SET2]</span><br><span class="line"></span><br><span class="line">DESCRIPTION</span><br><span class="line">       Translate, squeeze, and/or delete characters from standard input, writing to standard output.</span><br><span class="line"></span><br><span class="line">       -c, -C, --complement</span><br><span class="line">              use the complement of SET1</span><br><span class="line"></span><br><span class="line">       -d, --delete</span><br><span class="line">              delete characters in SET1, do not translate</span><br><span class="line"></span><br><span class="line">       -s, --squeeze-repeats</span><br><span class="line">              replace each input sequence of a repeated character that is listed in SET1 with a single occurrence of that character</span><br><span class="line"></span><br><span class="line">       -t, --truncate-set1</span><br><span class="line">              first truncate SET1 to length of SET2</span><br><span class="line"></span><br><span class="line">       --help display this help and exit</span><br><span class="line"></span><br><span class="line">       --version</span><br><span class="line">              output version information and exit</span><br><span class="line"></span><br><span class="line">       SETs are specified as strings of characters.  Most represent themselves.  Interpreted sequences are:</span><br><span class="line"></span><br><span class="line">       \NNN   character with octal value NNN (1 to 3 octal digits)</span><br><span class="line"></span><br><span class="line">       \\     backslash</span><br><span class="line"></span><br><span class="line">       \a     audible BEL</span><br><span class="line"></span><br><span class="line">       \b     backspace</span><br><span class="line"></span><br><span class="line">       \f     form feed</span><br><span class="line"></span><br><span class="line">       \n     new line</span><br><span class="line"></span><br><span class="line">       \r     return</span><br><span class="line"></span><br><span class="line">       \t     horizontal tab</span><br><span class="line"></span><br><span class="line">       \v     vertical tab</span><br><span class="line"></span><br><span class="line">       CHAR1-CHAR2</span><br><span class="line">              all characters from CHAR1 to CHAR2 in ascending order</span><br><span class="line"></span><br><span class="line">       [CHAR*]</span><br><span class="line">              in SET2, copies of CHAR until length of SET1</span><br><span class="line"></span><br><span class="line">       [CHAR*REPEAT]</span><br><span class="line">              REPEAT copies of CHAR, REPEAT octal if starting with 0</span><br><span class="line"></span><br><span class="line">       [:alnum:]</span><br><span class="line">              all letters and digits</span><br><span class="line"></span><br><span class="line">       [:alpha:]</span><br><span class="line">              all letters</span><br><span class="line"></span><br><span class="line">       [:blank:]</span><br><span class="line">              all horizontal whitespace</span><br><span class="line"></span><br><span class="line">       [:cntrl:]</span><br><span class="line">              all control characters</span><br><span class="line"></span><br><span class="line">       [:digit:]</span><br><span class="line">              all digits</span><br><span class="line"></span><br><span class="line">       [:graph:]</span><br><span class="line">              all printable characters, not including space</span><br><span class="line"></span><br><span class="line">       [:lower:]</span><br><span class="line">              all lower case letters</span><br><span class="line"></span><br><span class="line">       [:print:]</span><br><span class="line">              all printable characters, including space</span><br><span class="line"></span><br><span class="line">       [:punct:]</span><br><span class="line">              all punctuation characters</span><br><span class="line"></span><br><span class="line">       [:space:]</span><br><span class="line">              all horizontal or vertical whitespace</span><br><span class="line"></span><br><span class="line">       [:upper:]</span><br><span class="line">              all upper case letters</span><br><span class="line"></span><br><span class="line">       [:xdigit:]</span><br><span class="line">              all hexadecimal digits</span><br><span class="line"></span><br><span class="line">       [=CHAR=]</span><br><span class="line">              all characters which are equivalent to CHAR</span><br><span class="line"></span><br><span class="line">       Translation  occurs  if  -d  is  not  given and both SET1 and SET2 appear.  -t may be used only when translating.  SET2 is extended to</span><br><span class="line">       length of SET1 by repeating its last character as necessary.  Excess characters of SET2 are ignored.  Only [:lower:] and [:upper:] are</span><br><span class="line">       guaranteed  to  expand  in ascending order; used in SET2 while translating, they may only be used in pairs to specify case conversion.</span><br><span class="line">       -s uses SET1 if not translating nor deleting; else squeezing uses SET2 and occurs after translation or deletion.</span><br><span class="line"></span><br><span class="line">       GNU  coreutils  online  help:  &lt;http://www.gnu.org/software/coreutils/&gt;  Report  tr  translation   bugs   to   &lt;http://translationpro‐</span><br><span class="line">       ject.org/team/&gt;</span><br><span class="line"></span><br><span class="line">AUTHOR</span><br><span class="line">       Written by Jim Meyering.</span><br></pre></td></tr></table></figure>
<h1 id="tr命令示例"><a href="#tr命令示例" class="headerlink" title="tr命令示例"></a>tr命令示例</h1><h2 id="映射替换"><a href="#映射替换" class="headerlink" title="映射替换"></a>映射替换</h2><p><strong>tr接受两组字符，通常具有相同的长度，并用第二组中的相应字符替换第一组的字符</strong>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# echo &#x27;aaaaa_bbbbb_cccc&#x27; | tr &#x27;abc&#x27; &#x27;ABC&#x27;</span><br><span class="line">AAAAA_BBBBB_CCCC</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>
<p>将a替换成A,将b替换成B,将c替换成C</p>
<h3 id="使用定义字符集"><a href="#使用定义字符集" class="headerlink" title="使用定义字符集"></a>使用定义字符集</h3><h2 id="tr-c-SET1-SET2：不再SET1中的字符替换成SET2中的字符"><a href="#tr-c-SET1-SET2：不再SET1中的字符替换成SET2中的字符" class="headerlink" title="tr -c SET1 SET2：不再SET1中的字符替换成SET2中的字符"></a>tr -c SET1 SET2：不再SET1中的字符替换成SET2中的字符</h2><pre>
[root@localhost Linux_Test]&#35; echo 'aaaaaa_bbbbbbb_cccccc_ddddd'|tr -c 'cdef_\n' '1'
<mark>111111_1111111_cccccc_ddddd</mark>
[root@localhost Linux_Test]&#35; echo 'aaaaaa_bbbbbbb_cccccc_ddddd'|tr -c 'cdef_' '1'
<mark>111111_1111111_cccccc_ddddd1</mark>[root@localhost Linux_Test]&#35; 
[root@localhost Linux_Test]&#35; 
</pre>

<p>您可能已经注意到输出比输入多了一个字符。这是因为该 echo 命令打印了一个不可见换行符 \n 也被替换为 y 。要在没有新行的情况下回显字符串，请使用该 -n 选项。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# echo -n &#x27;aaaaaa_bbbbbbb_cccccc_ddddd&#x27;|tr -c &#x27;cdef_&#x27; &#x27;1&#x27;</span><br><span class="line">111111_1111111_cccccc_ddddd[root@localhost Linux_Test]# </span><br><span class="line">[root@localhost Linux_Test]#</span><br></pre></td></tr></table></figure>


<h2 id="大小写转换"><a href="#大小写转换" class="headerlink" title="大小写转换"></a>大小写转换</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# cat tr.txt </span><br><span class="line">abc 012</span><br><span class="line">def 345</span><br><span class="line">ghi 678</span><br><span class="line">jkl 909</span><br><span class="line">[root@localhost Linux_Test]# tr &quot;[a-z]&quot; &quot;[A-Z]&quot; &lt; tr.txt </span><br><span class="line">ABC 012</span><br><span class="line">DEF 345</span><br><span class="line">GHI 678</span><br><span class="line">JKL 909</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>
<h2 id="tr-d-SET1：删除匹配SET1-的内容，并不作替换"><a href="#tr-d-SET1：删除匹配SET1-的内容，并不作替换" class="headerlink" title="tr -d SET1：删除匹配SET1 的内容，并不作替换"></a>tr -d SET1：删除匹配SET1 的内容，并不作替换</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# cat tr.txt </span><br><span class="line">abc 012</span><br><span class="line">def 345</span><br><span class="line">ghi 678</span><br><span class="line">jkl 909</span><br><span class="line">[root@localhost Linux_Test]# tr -d &quot;[a-z]&quot; &lt; tr.txt </span><br><span class="line"> 012</span><br><span class="line"> 345</span><br><span class="line"> 678</span><br><span class="line"> 909</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>
<h2 id="tr-s：压缩重复"><a href="#tr-s：压缩重复" class="headerlink" title="tr -s：压缩重复"></a>tr -s：压缩重复</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# cat tr_1.txt </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">[root@localhost Linux_Test]# tr -s &quot;\n&quot; &lt;tr_1.txt </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">[root@localhost Linux_Test]#</span><br></pre></td></tr></table></figure>
<h2 id="tr-t-SET1-SET2"><a href="#tr-t-SET1-SET2" class="headerlink" title="tr -t SET1 SET2"></a>tr -t SET1 SET2</h2><p>默认情况下的<code>tr SET1 SET2</code>，如果 SET1 大于 SET2   tr 将重用 SET2  的最后一个字符。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# echo &#x27;aaaaaa_bbbbbbb_cccccc_ddddd&#x27;|tr &#x27;abcd&#x27; &#x27;1234&#x27;</span><br><span class="line">111111_2222222_333333_44444</span><br><span class="line">[root@localhost Linux_Test]# echo &#x27;aaaaaa_bbbbbbb_cccccc_ddddd&#x27;|tr &#x27;abcd&#x27; &#x27;123&#x27;</span><br><span class="line">111111_2222222_333333_33333</span><br></pre></td></tr></table></figure>
<p>而使用-t(–truncate-set1) 选项，则会强制 tr 到做进一步处理之前截断 SET1 到 SET2 的长度。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# echo &#x27;aaaaaa_bbbbbbb_cccccc_ddddd&#x27;|tr -t &#x27;abcd&#x27; &#x27;123&#x27;</span><br><span class="line">111111_2222222_333333_ddddd</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>
<p>这里的SET1为abcd,SET2为123，SET1比SET2长，加上-t参数后，SET1将被截断到SET2相同的长度，也就是’abc’。</p>
<h2 id="删除空行"><a href="#删除空行" class="headerlink" title="删除空行"></a>删除空行</h2><p>删除空行<br>要删除空白行，只需挤压重复的换行符：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tr -s &#x27;\n&#x27; &lt; tr_1.txt &gt; tr_2.txt</span><br></pre></td></tr></table></figure>
<p>在上面的命令中，我们使用重定向符号将命令 &lt; 的内容作为输入传递 file.txt 给 tr 命令。重定向 &gt; 将命令的输出写入 new_file.txt 。<br>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# cat tr_1.txt </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">[root@localhost Linux_Test]# tr -s &#x27;\n&#x27; &lt; tr_1.txt &gt; tr_2.txt</span><br><span class="line">[root@localhost Linux_Test]# cat tr_2.txt </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>

<h2 id="在单独的行上打印-PATH-目录"><a href="#在单独的行上打印-PATH-目录" class="headerlink" title="在单独的行上打印 $PATH 目录"></a>在单独的行上打印 $PATH 目录</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# echo $PATH</span><br><span class="line">/opt/java/jdk1.8.0_281/bin:/opt/java/jdk1.8.0_281/jre/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin:/usr/local/git/bin:/root/bin</span><br><span class="line">[root@localhost Linux_Test]# echo $PATH |tr &#x27;:&#x27; &#x27;\n&#x27;</span><br><span class="line">/opt/java/jdk1.8.0_281/bin</span><br><span class="line">/opt/java/jdk1.8.0_281/jre/bin</span><br><span class="line">/usr/local/sbin</span><br><span class="line">/usr/local/bin</span><br><span class="line">/usr/sbin</span><br><span class="line">/usr/bin</span><br><span class="line">/root/bin</span><br><span class="line">/usr/local/git/bin</span><br><span class="line">/root/bin</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>
<p>到目前为止，您应该很好地理解如何使用 Linux   tr 命令。虽然非常有用， tr 但只能使用单个字符。对于更复杂的模式匹配和字符串操作，您应该使用 sed 或 awk 。</p>
<h2 id="删除所有非数字字符"><a href="#删除所有非数字字符" class="headerlink" title="删除所有非数字字符"></a>删除所有非数字字符</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;my phone is 123-456-7890&quot; | tr -cd [:digit:]</span><br></pre></td></tr></table></figure>
<p>[:digit:] 代表所有数字字符，通过使用该 -c 选项，该命令将删除所有非数字字符。输出将如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# echo &quot;my phone is 123-456-7890&quot; | tr -cd [:digit:]</span><br><span class="line">1234567890[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>

<p>1234567890</p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a target="_blank" rel="noopener" href="https://wangchujiang.com/linux-command/c/tr.html">https://wangchujiang.com/linux-command/c/tr.html</a><br><a target="_blank" rel="noopener" href="https://www.linuxidc.com/Linux/2019-08/159907.htm">https://www.linuxidc.com/Linux/2019-08/159907.htm</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/linyfeng/p/9075062.html">https://www.cnblogs.com/linyfeng/p/9075062.html</a><br><a target="_blank" rel="noopener" href="https://www.linuxcool.com/tr">https://www.linuxcool.com/tr</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/page/25/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/25/">25</a><span class="page-number current">26</span><a class="page-number" href="/blog/page/27/">27</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/70/">70</a><a class="extend next" rel="next" href="/blog/page/27/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2018 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">蓝蓝</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">1.6m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">24:54</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
<script src="/blog/js/comments.js"></script><script src="/blog/js/utils.js"></script><script src="/blog/js/motion.js"></script><script src="/blog/js/next-boot.js"></script><script src="/blog/js/bookmark.js"></script><script src="/blog/js/pjax.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/blog/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdn.jsdelivr.net/npm/mermaid@8.14.0/dist/mermaid.min.js","integrity":"sha256-7wT34TI0pEBeEFoi4z+vhuSddGh6vUTMWdqJ2SDe2jg="}}</script>
  <script src="/blog/js/third-party/tags/mermaid.js"></script>

  <script src="/blog/js/third-party/fancybox.js"></script>

  <script src="/blog/js/third-party/pace.js"></script>

  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/blog/js/third-party/math/mathjax.js"></script>


  <script src="https://cdn.jsdelivr.net/npm/quicklink@2.2.0/dist/quicklink.umd.js" integrity="sha256-4kQf9z5ntdQrzsBC3YSHnEz02Z9C1UeW/E9OgnvlzSY=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"https://lanlan2017.github.io/blog/page/26/"}</script>
  <script src="/blog/js/third-party/quicklink.js"></script>
<script class="next-config" data-name="waline" type="application/json">{"lang":null,"enable":true,"serverURL":"https://waline-test-lanlan2017.vercel.app","placeholder":"填写邮箱可接收回复通知 填写个人网址可为您引流","avatar":"mm","pageSize":10,"visitor":false,"comment_count":true,"requiredFields":[],"meta":["nick","mail","link"],"libUrl":"https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js","el":"#waline-comments","path":"/blog/page/26/"}</script>
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() => 
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => {
    new Waline(CONFIG.waline);
  });
});
</script>
</body>
</html>
