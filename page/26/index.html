<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.1.0">

<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="_Sly-yzHYmALHXzjFpPWsodMrjBSphw7bfRbMUH80Qc">
  <meta name="msvalidate.01" content="B1CFD346B8DEBBFE0C983C2AF8955531">
  <meta name="baidu-site-verification" content="vkMTwK56xr">

<link rel="stylesheet" href="/blog/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"lanlan2017.github.io","root":"/blog/","images":"/blog/images","scheme":"Gemini","darkmode":true,"version":"8.11.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/blog/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/blog/js/config.js"></script>

    <meta name="description" content="记录一些学习心得">
<meta property="og:type" content="website">
<meta property="og:title" content="蓝蓝站点">
<meta property="og:url" content="https://lanlan2017.github.io/blog/page/26/index.html">
<meta property="og:site_name" content="蓝蓝站点">
<meta property="og:description" content="记录一些学习心得">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="蓝蓝">
<meta property="article:tag" content="Java 数据库">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://lanlan2017.github.io/blog/page/26/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/26/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>蓝蓝站点</title>
  

  <script src="/blog/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?dadeb188eb14ccde0b25a19230c429b5"></script>



<link rel="dns-prefetch" href="https://waline-test-lanlan2017.vercel.app">
  <noscript>
    <link rel="stylesheet" href="/blog/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">蓝蓝站点</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-dir"><a href="/blog/dir/" rel="section"><i class="fa fa-sitemap fa-fw"></i>目录</a></li><li class="menu-item menu-item-categories"><a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-tags"><a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="蓝蓝"
      src="/blog/images/avatar.gif">
  <p class="site-author-name" itemprop="name">蓝蓝</p>
  <div class="site-description" itemprop="description">记录一些学习心得</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/blog/archives/">
          <span class="site-state-item-count">703</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/blog/categories/">
        <span class="site-state-item-count">225</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://lanlan2017.github.io/todo/" title="todo → https:&#x2F;&#x2F;lanlan2017.github.io&#x2F;todo&#x2F;"><i class="fa fa-check-square fa-fw"></i>todo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://lanlan2017.github.io/links/" title="links → https:&#x2F;&#x2F;lanlan2017.github.io&#x2F;links&#x2F;"><i class="fa fa-link fa-fw"></i>links</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/d23c9652/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/d23c9652/" class="post-title-link" itemprop="url">Linux 比较两文件是否相同：通过hash算法值来比较</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-15 23:54:38" itemprop="dateCreated datePublished" datetime="2021-05-15T23:54:38+08:00">2021-05-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%96%87%E4%BB%B6%E6%AF%94%E8%BE%83/" itemprop="url" rel="index"><span itemprop="name">文件比较</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/d23c9652/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/d23c9652/" data-xid="/blog/d23c9652/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>7.8k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>7 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="md5sum-x2F-sha1sum-文件内容比较"><a href="#md5sum-x2F-sha1sum-文件内容比较" class="headerlink" title="md5sum&#x2F;sha1sum:文件内容比较"></a>md5sum&#x2F;sha1sum:文件内容比较</h1><ul>
<li>使用MD5算法（散列函数）根据文件内容生成16字节hash值，比较hash值是否相<br>同，就可断定两文件内容是否完全相同，（md5sum命令）</li>
<li>使用SHA-1算法的命令名为sha1sum (20字节hash值)</li>
<li>其他散列函数也可以用来完成这一任务: sha512sum</li>
</ul>
<p>md5算法常用于数据完整性（Data Integrity）验证和判断位于网络不同机器上的两个文件的内容是否相同。例如网上给出的安装程序经常会给出对应的md5值，我们可以对下载的安装程序计算md5值，如果我们计算的md5值与官网给出的md5值相同，则表示该安装程序没有被第三方篡改过，是安全的。</p>
<h1 id="md5sum"><a href="#md5sum" class="headerlink" title="md5sum"></a>md5sum</h1><h2 id="测试文件"><a href="#测试文件" class="headerlink" title="测试文件"></a>测试文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# cat -n a.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    helloworld!</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost cmp]# cat -n b.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost cmp]# cat -n c.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    helloworld!</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost cmp]# </span><br></pre></td></tr></table></figure>
<p>可看到a.txt与c.txt的内容是相同的。<br>对着三个文件执行md5sum命令：</p>
<pre>
[root@localhost cmp]&#35; md5sum a.txt 
<mark>abd3291ec48e1700a70d39ee5db7fb7d</mark>  a.txt
[root@localhost cmp]&#35; md5sum b.txt 
bf56342c3e159e45ea1e434122410291  b.txt
[root@localhost cmp]&#35; md5sum c.txt 
<mark>abd3291ec48e1700a70d39ee5db7fb7d</mark>  c.txt
[root@localhost cmp]&#35; 
</pre>

<p>可以看到a.txt和c.txt的计算结果都是：<mark>abd3291ec48e1700a70d39ee5db7fb7d</mark>所以，这两个文件是相同的。</p>
<h2 id="md5sum-c-md5文件：读取MD5SUM的文件并验证所有文件是否具有匹配的校验和"><a href="#md5sum-c-md5文件：读取MD5SUM的文件并验证所有文件是否具有匹配的校验和" class="headerlink" title="md5sum -c md5文件：读取MD5SUM的文件并验证所有文件是否具有匹配的校验和"></a>md5sum -c md5文件：读取MD5SUM的文件并验证所有文件是否具有匹配的校验和</h2><p>测试文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# cat -n a.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    helloworld!</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost cmp]# cat -n b.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost cmp]#</span><br></pre></td></tr></table></figure>
<p>计算这两个文件的md5值，保存到文件中：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# md5sum a.txt b.txt</span><br><span class="line">abd3291ec48e1700a70d39ee5db7fb7d  a.txt</span><br><span class="line">bf56342c3e159e45ea1e434122410291  b.txt</span><br><span class="line">[root@localhost cmp]# md5sum a.txt b.txt &gt;a_b.md5</span><br></pre></td></tr></table></figure>
<p>修改a.txt文件，在末尾加入一行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# vim a.txt </span><br><span class="line">[root@localhost cmp]# cat a.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">helloworld!</span><br><span class="line">this is line d</span><br><span class="line">this is some new word</span><br><span class="line">[root@localhost cmp]#</span><br></pre></td></tr></table></figure>
<p>执行md5校验：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# md5sum -c a_b.md5</span><br><span class="line">a.txt: 失败</span><br><span class="line">b.txt: 确定</span><br><span class="line">md5sum: 警告：1 个校验和不匹配</span><br><span class="line">[root@localhost cmp]# </span><br></pre></td></tr></table></figure>
<p>可以看到我们修改a.txt后，该文件md5校验失败，这表示a.txt文件被篡改了。</p>
<h2 id="md5sum命令手册"><a href="#md5sum命令手册" class="headerlink" title="md5sum命令手册"></a>md5sum命令手册</h2><h3 id="tldr-md5sum"><a href="#tldr-md5sum" class="headerlink" title="tldr md5sum"></a>tldr md5sum</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# tldr md5sum</span><br><span class="line"></span><br><span class="line">  md5sum</span><br><span class="line"></span><br><span class="line">  计算 MD5 加密校验和.</span><br><span class="line">  更多信息： https://www.gnu.org/software/coreutils/md5sum.</span><br><span class="line"></span><br><span class="line">  - 计算文件的 MD5 校验和:</span><br><span class="line">    md5sum filename1</span><br><span class="line"></span><br><span class="line">  - 计算多个文件的 MD5 校验和:</span><br><span class="line">    md5sum filename1 filename2</span><br><span class="line"></span><br><span class="line">  - 读取 MD5SUM 的文件并验证所有文件是否具有匹配的校验和:</span><br><span class="line">    md5sum -c filename.md5</span><br><span class="line"></span><br><span class="line">[root@localhost cmp]# </span><br></pre></td></tr></table></figure>
<h1 id="sha1sum"><a href="#sha1sum" class="headerlink" title="sha1sum"></a>sha1sum</h1><h2 id="sha1sum-file：计算文件的SHA1校验和"><a href="#sha1sum-file：计算文件的SHA1校验和" class="headerlink" title="sha1sum file：计算文件的SHA1校验和"></a>sha1sum file：计算文件的SHA1校验和</h2><p>测试文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# cat -n a.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    helloworld!</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost cmp]# cat -n b.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost cmp]# cat -n c.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    helloworld!</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost cmp]# </span><br></pre></td></tr></table></figure>
<p>计算sha1校验和：</p>
<pre>
[root@localhost cmp]&#35; sha1sum a.txt 
<mark>01c3d325eeca7f806192dddbfa9ce791cb5c6fc7</mark>  a.txt
[root@localhost cmp]&#35; sha1sum b.txt 
1cb5cee11036b493799b8b1b0d6ea9704e84c282  b.txt
[root@localhost cmp]&#35; sha1sum c.txt 
<mark>01c3d325eeca7f806192dddbfa9ce791cb5c6fc7</mark>  c.txt
[root@localhost cmp]&#35; 
</pre>

<p>可以看到a.txt和c.txt的校验和是一样的，所以这两个文件的内容相同。</p>
<h2 id="sha1sum-多个文件：计算多个文件的SHA1校验和"><a href="#sha1sum-多个文件：计算多个文件的SHA1校验和" class="headerlink" title="sha1sum 多个文件：计算多个文件的SHA1校验和"></a>sha1sum 多个文件：计算多个文件的SHA1校验和</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# sha1sum a.txt b.txt c.txt</span><br><span class="line">01c3d325eeca7f806192dddbfa9ce791cb5c6fc7  a.txt</span><br><span class="line">1cb5cee11036b493799b8b1b0d6ea9704e84c282  b.txt</span><br><span class="line">01c3d325eeca7f806192dddbfa9ce791cb5c6fc7  c.txt</span><br><span class="line">[root@localhost cmp]# </span><br></pre></td></tr></table></figure>
<h2 id="sha1sum-–check-file-sha1：检查文件是否被篡改"><a href="#sha1sum-–check-file-sha1：检查文件是否被篡改" class="headerlink" title="sha1sum –check file.sha1：检查文件是否被篡改"></a>sha1sum –check file.sha1：检查文件是否被篡改</h2><p>测试文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# cat -n a.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    helloworld!</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost cmp]# cat -n b.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost cmp]# sha1sum a.txt b.txt </span><br><span class="line">01c3d325eeca7f806192dddbfa9ce791cb5c6fc7  a.txt</span><br><span class="line">1cb5cee11036b493799b8b1b0d6ea9704e84c282  b.txt</span><br><span class="line">[root@localhost cmp]# </span><br></pre></td></tr></table></figure>
<p>生成SHA1校验和文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# sha1sum a.txt b.txt &gt; a_b.sha1</span><br></pre></td></tr></table></figure>
<p>修改文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# cat -n a.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    helloworld!</span><br><span class="line">     4    this is line d</span><br><span class="line">     5    this is a new line</span><br><span class="line">[root@localhost cmp]# cat -n b.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost cmp]#</span><br></pre></td></tr></table></figure>
<p>检查所有文件的SHA1校验和：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# sha1sum --check a_b.sha1 </span><br><span class="line">a.txt: 失败</span><br><span class="line">b.txt: 确定</span><br><span class="line">sha1sum: 警告：1 个校验和不匹配</span><br><span class="line">[root@localhost cmp]# </span><br></pre></td></tr></table></figure>
<p>可以看到a.txt校验失败了，这说明a.txt被修改过了。</p>
<h3 id="sha1sum-c-filename-sha1"><a href="#sha1sum-c-filename-sha1" class="headerlink" title="sha1sum -c filename.sha1"></a>sha1sum -c filename.sha1</h3><p>上面的–check参数可以简写为-c:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# sha1sum -c a_b.sha1 </span><br><span class="line">a.txt: 失败</span><br><span class="line">b.txt: 确定</span><br><span class="line">sha1sum: 警告：1 个校验和不匹配</span><br><span class="line">[root@localhost cmp]# </span><br></pre></td></tr></table></figure>
<h2 id="sha1sum-–check-–quiet-file-sha1：只显示SHA1校验和失败的文件"><a href="#sha1sum-–check-–quiet-file-sha1：只显示SHA1校验和失败的文件" class="headerlink" title="sha1sum –check –quiet file.sha1：只显示SHA1校验和失败的文件"></a>sha1sum –check –quiet file.sha1：只显示SHA1校验和失败的文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Try &#x27;sha1sum --help&#x27; for more information.</span><br><span class="line">[root@localhost cmp]# sha1sum --check --quiet a_b.sha1 </span><br><span class="line">a.txt: 失败</span><br><span class="line">sha1sum: 警告：1 个校验和不匹配</span><br><span class="line">[root@localhost cmp]#</span><br></pre></td></tr></table></figure>
<h3 id="sha1sum-c-–quiet-filename-sha1"><a href="#sha1sum-c-–quiet-filename-sha1" class="headerlink" title="sha1sum -c –quiet filename.sha1"></a>sha1sum -c –quiet filename.sha1</h3><p><code>--check</code>可以简写为<code>-c</code>,不过需要注意的是<code>--quiet</code>参数不能省略:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# sha1sum --check --quiet a_b.sha1 </span><br><span class="line">a.txt: 失败</span><br><span class="line">sha1sum: 警告：1 个校验和不匹配</span><br><span class="line">[root@localhost cmp]# sha1sum -c --quiet a_b.sha1 </span><br><span class="line">a.txt: 失败</span><br><span class="line">sha1sum: 警告：1 个校验和不匹配</span><br><span class="line">[root@localhost cmp]# sha1sum -c -q a_b.sha1 </span><br><span class="line">sha1sum：无效选项 -- q</span><br><span class="line">Try &#x27;sha1sum --help&#x27; for more information.</span><br><span class="line">[root@localhost cmp]# </span><br></pre></td></tr></table></figure>

<h2 id="sha1sum命令手册"><a href="#sha1sum命令手册" class="headerlink" title="sha1sum命令手册"></a>sha1sum命令手册</h2><h3 id="tldr-sha1sum"><a href="#tldr-sha1sum" class="headerlink" title="tldr sha1sum"></a>tldr sha1sum</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# tldr sha1sum</span><br><span class="line"></span><br><span class="line">  sha1sum</span><br><span class="line"></span><br><span class="line">  Calculate SHA1 cryptographic checksums.</span><br><span class="line">  More information: https://www.gnu.org/software/coreutils/sha1sum.</span><br><span class="line"></span><br><span class="line">  - Calculate the SHA1 checksum for a file:</span><br><span class="line">    sha1sum filename1</span><br><span class="line"></span><br><span class="line">  - Calculate SHA1 checksums for multiple files:</span><br><span class="line">    sha1sum filename1 filename2</span><br><span class="line"></span><br><span class="line">  - Calculate and save the list of SHA1 checksums to a file:</span><br><span class="line">    sha1sum filename1 filename2 &gt; filename.sha1</span><br><span class="line"></span><br><span class="line">  - Read a file of SHA1 sums and verify all files have matching checksums:</span><br><span class="line">    sha1sum --check filename.sha1</span><br><span class="line"></span><br><span class="line">  - Only show a message for files for which verification fails:</span><br><span class="line">    sha1sum --check --quiet filename.sha1</span><br><span class="line"></span><br><span class="line">[root@localhost cmp]# </span><br></pre></td></tr></table></figure>
<h3 id="sha1sum-–help"><a href="#sha1sum-–help" class="headerlink" title="sha1sum –help"></a>sha1sum –help</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# sha1sum --help</span><br><span class="line">用法：sha1sum [选项]... [文件]...</span><br><span class="line">显示或检查 SHA1(160-bit) 校验和。</span><br><span class="line">若没有文件选项，或者文件处为&quot;-&quot;，则从标准输入读取。</span><br><span class="line"></span><br><span class="line">  -b, --binary        以二进制模式读取</span><br><span class="line">  -c, --check        从文件中读取SHA1 的校验值并予以检查</span><br><span class="line">      --tag            create a BSD-style checksum</span><br><span class="line">  -t, --text        以纯文本模式读取(默认)</span><br><span class="line">  Note: There is no difference between binary and text mode option on GNU system.</span><br><span class="line"></span><br><span class="line">The following four options are useful only when verifying checksums:</span><br><span class="line">      --quiet          don&#x27;t print OK for each successfully verified file</span><br><span class="line">      --status         don&#x27;t output anything, status code shows success</span><br><span class="line">      --strict         exit non-zero for improperly formatted checksum lines</span><br><span class="line">  -w, --warn           warn about improperly formatted checksum lines</span><br><span class="line"></span><br><span class="line">      --help        显示此帮助信息并退出</span><br><span class="line">      --version        显示版本信息并退出</span><br><span class="line"></span><br><span class="line">The sums are computed as described in FIPS-180-1.  When checking, the input</span><br><span class="line">should be a former output of this program.  The default mode is to print</span><br><span class="line">a line with checksum, a character indicating input mode (&#x27;*&#x27; for binary,</span><br><span class="line">space for text), and name for each FILE.</span><br><span class="line"></span><br><span class="line">GNU coreutils online help: &lt;http://www.gnu.org/software/coreutils/&gt;</span><br><span class="line">请向&lt;http://translationproject.org/team/zh_CN.html&gt; 报告sha1sum 的翻译错误</span><br><span class="line">要获取完整文档，请运行：info coreutils &#x27;sha1sum invocation&#x27;</span><br><span class="line">[root@localhost cmp]# </span><br></pre></td></tr></table></figure>
<h3 id="man-sha1sum"><a href="#man-sha1sum" class="headerlink" title="man sha1sum"></a>man sha1sum</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">SHA1SUM(1)                                                            User Commands                                                           SHA1SUM(1)</span><br><span class="line"></span><br><span class="line">NAME</span><br><span class="line">       sha1sum - compute and check SHA1 message digest</span><br><span class="line"></span><br><span class="line">SYNOPSIS</span><br><span class="line">       sha1sum [OPTION]... [FILE]...</span><br><span class="line"></span><br><span class="line">DESCRIPTION</span><br><span class="line">       Print or check SHA1 (160-bit) checksums.  With no FILE, or when FILE is -, read standard input.</span><br><span class="line"></span><br><span class="line">       -b, --binary</span><br><span class="line">              read in binary mode</span><br><span class="line"></span><br><span class="line">       -c, --check</span><br><span class="line">              read SHA1 sums from the FILEs and check them</span><br><span class="line"></span><br><span class="line">       --tag  create a BSD-style checksum</span><br><span class="line"></span><br><span class="line">       -t, --text</span><br><span class="line">              read in text mode (default)</span><br><span class="line"></span><br><span class="line">              Note: There is no difference between binary and text mode option on GNU system.</span><br><span class="line"></span><br><span class="line">   The following four options are useful only when verifying checksums:</span><br><span class="line">       --quiet</span><br><span class="line">              don&#x27;t print OK for each successfully verified file</span><br><span class="line"></span><br><span class="line">       --status</span><br><span class="line">              don&#x27;t output anything, status code shows success</span><br><span class="line"></span><br><span class="line">       --strict</span><br><span class="line">              exit non-zero for improperly formatted checksum lines</span><br><span class="line"></span><br><span class="line">       -w, --warn</span><br><span class="line">              warn about improperly formatted checksum lines</span><br><span class="line"></span><br><span class="line">       --help display this help and exit</span><br><span class="line"></span><br><span class="line">       --version</span><br><span class="line">              output version information and exit</span><br><span class="line"></span><br><span class="line">       The  sums  are  computed as described in FIPS-180-1.  When checking, the input should be a former output of this program.  The default mode is to</span><br><span class="line">       print a line with checksum, a character indicating input mode (&#x27;*&#x27; for binary, space for text), and name for each FILE.</span><br><span class="line"></span><br><span class="line">       GNU coreutils online help: &lt;http://www.gnu.org/software/coreutils/&gt; Report sha1sum translation bugs to &lt;http://translationproject.org/team/&gt;</span><br><span class="line"></span><br><span class="line">AUTHOR</span><br><span class="line">       Written by Ulrich Drepper, Scott Miller, and David Madore.</span><br><span class="line"></span><br><span class="line">COPYRIGHT</span><br><span class="line">       Copyright © 2013 Free Software Foundation, Inc.  License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;.</span><br><span class="line">       This is free software: you are free to change and redistribute it.  There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line"></span><br><span class="line">SEE ALSO</span><br><span class="line">       The full documentation for sha1sum is maintained as a Texinfo manual.  If the info and sha1sum programs are properly installed at your site,  the</span><br><span class="line">       command</span><br><span class="line"></span><br><span class="line">              info coreutils &#x27;sha1sum invocation&#x27;</span><br><span class="line"></span><br><span class="line">       should give you access to the complete manual.</span><br><span class="line"></span><br><span class="line">GNU coreutils 8.22                                                    November 2020                                                           SHA1SUM(1)</span><br></pre></td></tr></table></figure>

<h1 id="hash算法失误率"><a href="#hash算法失误率" class="headerlink" title="hash算法失误率"></a>hash算法失误率</h1><p>MD5: $2^{-128} &#x3D;3.4×10^{-38}$<br>SHA-1: $2^{-160} &#x3D;4.7×10^{-50}$</p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/99e4a22d/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/99e4a22d/" class="post-title-link" itemprop="url">Linux 两文件逐字节比较：cmp命令</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-15 22:36:07" itemprop="dateCreated datePublished" datetime="2021-05-15T22:36:07+08:00">2021-05-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%96%87%E4%BB%B6%E6%AF%94%E8%BE%83/" itemprop="url" rel="index"><span itemprop="name">文件比较</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/99e4a22d/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/99e4a22d/" data-xid="/blog/99e4a22d/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>6.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>6 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="cmp命令"><a href="#cmp命令" class="headerlink" title="cmp命令"></a>cmp命令</h1><h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmp file1 file2</span><br></pre></td></tr></table></figure>
<h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><ul>
<li>逐字节比较两个文件是否完全相同</li>
<li>两个文件完全相同时，不给出任何提示</li>
<li>两个文件不同时，打印出第一个不同之处</li>
<li>在Windows中有类似的命令COMP</li>
</ul>
<p>cmp命令用来比较两个文件是否有差异。</p>
<ul>
<li>当相互比较的两个文件完全一样时，则该指令不会显示任何信息。</li>
<li>若发现有差异，预设会标示出第一个不通之处的字符和列数编号。</li>
<li>若不指定任何文件名称或是所给予的文件名为“-”，则cmp指令会从标准输入设备读取数据。</li>
</ul>
<h1 id="cmp命令示例"><a href="#cmp命令示例" class="headerlink" title="cmp命令示例"></a>cmp命令示例</h1><h2 id="查找两个文件之间的第一个差异的字节和行号"><a href="#查找两个文件之间的第一个差异的字节和行号" class="headerlink" title="查找两个文件之间的第一个差异的字节和行号"></a>查找两个文件之间的第一个差异的字节和行号</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# cat -n a.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    helloworld!</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost cmp]# cat -n b.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost cmp]# cmp a.txt b.txt </span><br><span class="line">a.txt b.txt 不同：第 31 字节，第 3 行</span><br><span class="line">[root@localhost cmp]# </span><br></pre></td></tr></table></figure>
<h2 id="cmp-b：显示差异处的十进制字码和对应字符"><a href="#cmp-b：显示差异处的十进制字码和对应字符" class="headerlink" title="cmp -b：显示差异处的十进制字码和对应字符"></a>cmp -b：显示差异处的十进制字码和对应字符</h2><pre>
[root@localhostf cmp]&#35; cat -n a.txt 
     1	this is line a
     2	this is line b
     3	<mark>h</mark>elloworld!
     4	this is line d
[root@localhost cmp]&#35; cat -n b.txt 
     1	this is line a
     2	this is line b
     3	<mark>t</mark>his is line c
     4	this is line d
[root@localhost cmp]&#35; cmp -b a.txt b.txt 
a.txt b.txt 不同：第 3 行，第 31 字节为 150 <mark>h</mark> 164 <mark>t</mark>
[root@localhost cmp]&#35; 
</pre>

<h2 id="cmp-l：显示出所有不一样的字节"><a href="#cmp-l：显示出所有不一样的字节" class="headerlink" title="cmp -l：显示出所有不一样的字节"></a>cmp -l：显示出所有不一样的字节</h2><pre>
[root@localhost cmp]&#35; cat -n a.txt 
     1	this is line a
     2	this is line b
     3	helloworld!
     4	this is line d
[root@localhost cmp]&#35; cat -n b.txt 
     1	this is line a
     2	this is line b
     3	this is line c
     4	this is line d
[root@localhost cmp]&#35; cmp -l a.txt b.txt 
31 150 164
32 145 150
33 154 151
34 154 163
35 157  40
36 167 151
37 157 163
38 162  40
40 144 151
41  41 156
42  12 145
43 164  40
44 150 143
45 151  12
46 163 164
47  40 150
51 154 151
52 151 163
53 156  40
54 145 154
55  40 151
56 144 156
57  12 145
cmp：a.txt 已结束
</pre>

<h3 id="cmp-l输出详解"><a href="#cmp-l输出详解" class="headerlink" title="cmp -l输出详解"></a>cmp -l输出详解</h3><p>cmp -l的输出有3列，</p>
<ul>
<li>第1列表示两个文件开始不同的字节序号，也就是具体从第几个字节开始不同。</li>
<li>第2列表示文件a.txt当前的字节</li>
<li>第3行表示文件b.txt当前的字节</li>
</ul>
<p>当然光看字节，我们难以理解，可以加上<code>-b</code>选项同时显示对应的字符：</p>
<pre>
[root@localhost cmp]&#35; cmp -bl a.txt b.txt 
31 150 h    164 t
32 145 e    150 h
33 154 l    151 i
34 154 l    163 s
35 157 o     40  
36 167 w    151 i
37 157 o    163 s
38 162 r     40  
40 144 d    151 i
41  41 !    156 n
42  12 ^J   145 e
43 164 t     40  
44 150 h    143 c
45 151 i     12 ^J
46 163 s    164 t
47  40      150 h
51 154 l    151 i
52 151 i    163 s
53 156 n     40  
54 145 e    154 l
55  40      151 i
56 144 d    156 n
57  12 ^J   145 e
cmp：a.txt 已结束
[root@localhost cmp]&#35; 
</pre>

<p>可以看到a.txt和b.txt这两个文件从第31个字节处开始不同：</p>
<ul>
<li>a.txt的第31个字节是150，对应的是字符h。</li>
<li>b.txt的第31个字节是164，对应的是字符t。</li>
</ul>
<h2 id="cmp-s：只比较不显示消息，以命令返回值表示"><a href="#cmp-s：只比较不显示消息，以命令返回值表示" class="headerlink" title="cmp -s：只比较不显示消息，以命令返回值表示"></a>cmp -s：只比较不显示消息，以命令返回值表示</h2><p>这样，如果文件相同，则给出值 0，如果不同，则给出值 1，或者如果发生错误，则给出值 2。该命令形式通常用在 shell 步骤中。例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if cmp  -s prog.c.bak prog.c</span><br><span class="line">then</span><br><span class="line">    echo 没有改变</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<p>如果两个文件相同，则该部分的shell步骤显示 没有改变</p>
<h3 id="cmp-s用在shell编程中"><a href="#cmp-s用在shell编程中" class="headerlink" title="cmp -s用在shell编程中"></a>cmp -s用在shell编程中</h3><p>测试文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# ls</span><br><span class="line">a.txt  b.txt  c.txt  isSame.sh</span><br><span class="line">[root@localhost cmp]# cat -n a.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    helloworld!</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost cmp]# cat -n b.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost cmp]# cat -n c.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    helloworld!</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost cmp]#</span><br></pre></td></tr></table></figure>
<p>shell程序：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# cat isSame.sh </span><br><span class="line">if cmp -s a.txt b.txt</span><br><span class="line">then</span><br><span class="line">    echo a.txt与b.txt相同</span><br><span class="line">else</span><br><span class="line">    echo a.txt与b.txt不同</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if cmp -s a.txt c.txt</span><br><span class="line">then</span><br><span class="line">        echo a.txt与c.txt相同</span><br><span class="line">else</span><br><span class="line">        echo a.txt与c.txt不同</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">[root@localhost cmp]#</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# ./isSame.sh </span><br><span class="line">a.txt与b.txt不同</span><br><span class="line">a.txt与c.txt相同</span><br><span class="line">[root@localhost cmp]# </span><br></pre></td></tr></table></figure>


<h1 id="windows的comp命令示例"><a href="#windows的comp命令示例" class="headerlink" title="windows的comp命令示例"></a>windows的comp命令示例</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">G:\Desktop\test\CMD&gt;dir</span><br><span class="line"> 驱动器 G 中的卷是 原来的C盘</span><br><span class="line"> 卷的序列号是 0C02-061D</span><br><span class="line"></span><br><span class="line"> G:\Desktop\test\CMD 的目录</span><br><span class="line"></span><br><span class="line">2021/05/15  22:50    &lt;DIR&gt;          .</span><br><span class="line">2021/05/15  22:50    &lt;DIR&gt;          ..</span><br><span class="line">2021/05/15  22:50                57 a.txt</span><br><span class="line">2021/05/15  22:50                60 b.txt</span><br><span class="line">               2 个文件            117 字节</span><br><span class="line">               2 个目录 102,362,640,384 可用字节</span><br><span class="line"></span><br><span class="line">G:\Desktop\test\CMD&gt;comp a.txt b.txt</span><br><span class="line">比较 a.txt 和 b.txt...</span><br><span class="line">文件的大小不同。</span><br><span class="line"></span><br><span class="line">是否要比较更多文件 (Y/N)? y</span><br><span class="line">第一个比较文件的名称:b.txt</span><br><span class="line">第二个比较文件的名称:a.txt</span><br><span class="line">选项:</span><br><span class="line">比较 b.txt 和 a.txt...</span><br><span class="line">文件的大小不同。</span><br><span class="line"></span><br><span class="line">是否要比较更多文件 (Y/N)? N</span><br><span class="line"></span><br><span class="line">G:\Desktop\test\CMD&gt;</span><br></pre></td></tr></table></figure>

<h1 id="cmp参考手册"><a href="#cmp参考手册" class="headerlink" title="cmp参考手册"></a>cmp参考手册</h1><h2 id="tldr-cmp"><a href="#tldr-cmp" class="headerlink" title="tldr cmp"></a>tldr cmp</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# tldr cmp</span><br><span class="line"></span><br><span class="line">  cmp</span><br><span class="line"></span><br><span class="line">  Compare two files byte by byte.</span><br><span class="line">  More information: https://www.gnu.org/software/diffutils/manual/html_node/Invoking-cmp.html.</span><br><span class="line"></span><br><span class="line">  - Find the byte and line number of the first difference between two files:</span><br><span class="line">    cmp path/to/file1 path/to/file2</span><br><span class="line"></span><br><span class="line">  - Find the byte number and differing bytes of every difference:</span><br><span class="line">    cmp -l path/to/file1 path/to/file2</span><br><span class="line"></span><br><span class="line">[root@localhost cmp]# </span><br></pre></td></tr></table></figure>
<h2 id="cmp-–help"><a href="#cmp-–help" class="headerlink" title="cmp –help"></a>cmp –help</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost cmp]# cmp --help</span><br><span class="line">用法: cmp [选项]... 文件1 [文件2 [SKIP1 [SKIP2]]]</span><br><span class="line">逐字节比较两个文件。</span><br><span class="line"></span><br><span class="line">The optional SKIP1 and SKIP2 specify the number of bytes to skip</span><br><span class="line">at the beginning of each file (zero by default).</span><br><span class="line"></span><br><span class="line">Mandatory arguments to long options are mandatory for short options too.</span><br><span class="line">  -b, --print-bytes          print differing bytes</span><br><span class="line">  -i, --ignore-initial=SKIP         skip first SKIP bytes of both inputs</span><br><span class="line">  -i, --ignore-initial=SKIP1:SKIP2  skip first SKIP1 bytes of FILE1 and</span><br><span class="line">                                      first SKIP2 bytes of FILE2</span><br><span class="line">  -l, --verbose              output byte numbers and differing byte values</span><br><span class="line">  -n, --bytes=LIMIT          compare at most LIMIT bytes</span><br><span class="line">  -s, --quiet, --silent      suppress all normal output</span><br><span class="line">      --help                 display this help and exit</span><br><span class="line">  -v, --version              output version information and exit</span><br><span class="line"></span><br><span class="line">SKIP 值可以加上以下的单位：</span><br><span class="line">kB=1000、K=1024、MB=1000000、M=1048576、GB=1000000000、G=1073741824，</span><br><span class="line">还有 T、P、E、Z、Y 如此类推。</span><br><span class="line"></span><br><span class="line">If a FILE is &#x27;-&#x27; or missing, read standard input.</span><br><span class="line">如果输入相同，则退出状态为 0；1 表示输入不同；2 表示有错误产生。</span><br><span class="line"></span><br><span class="line">Report bugs to: bug-diffutils@gnu.org</span><br><span class="line">GNU diffutils home page: &lt;http://www.gnu.org/software/diffutils/&gt;</span><br><span class="line">General help using GNU software: &lt;http://www.gnu.org/gethelp/&gt;</span><br><span class="line">[root@localhost cmp]# </span><br></pre></td></tr></table></figure>
<h2 id="man-cmp"><a href="#man-cmp" class="headerlink" title="man cmp"></a>man cmp</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">CMP(1)                                                                User Commands                                                               CMP(1)</span><br><span class="line"></span><br><span class="line">NAME</span><br><span class="line">       cmp - compare two files byte by byte</span><br><span class="line"></span><br><span class="line">SYNOPSIS</span><br><span class="line">       cmp [OPTION]... FILE1 [FILE2 [SKIP1 [SKIP2]]]</span><br><span class="line"></span><br><span class="line">DESCRIPTION</span><br><span class="line">       Compare two files byte by byte.</span><br><span class="line"></span><br><span class="line">       The optional SKIP1 and SKIP2 specify the number of bytes to skip at the beginning of each file (zero by default).</span><br><span class="line"></span><br><span class="line">       Mandatory arguments to long options are mandatory for short options too.</span><br><span class="line"></span><br><span class="line">       -b, --print-bytes</span><br><span class="line">              print differing bytes</span><br><span class="line"></span><br><span class="line">       -i, --ignore-initial=SKIP</span><br><span class="line">              skip first SKIP bytes of both inputs</span><br><span class="line"></span><br><span class="line">       -i, --ignore-initial=SKIP1:SKIP2</span><br><span class="line">              skip first SKIP1 bytes of FILE1 and first SKIP2 bytes of FILE2</span><br><span class="line"></span><br><span class="line">       -l, --verbose</span><br><span class="line">              output byte numbers and differing byte values</span><br><span class="line"></span><br><span class="line">       -n, --bytes=LIMIT</span><br><span class="line">              compare at most LIMIT bytes</span><br><span class="line"></span><br><span class="line">       -s, --quiet, --silent</span><br><span class="line">              suppress all normal output</span><br><span class="line"></span><br><span class="line">       --help display this help and exit</span><br><span class="line"></span><br><span class="line">       -v, --version</span><br><span class="line">              output version information and exit</span><br><span class="line"></span><br><span class="line">       SKIP  values  may  be  followed  by  the  following  multiplicative  suffixes:  kB  1000,  K 1024, MB 1,000,000, M 1,048,576, GB 1,000,000,000, G</span><br><span class="line">       1,073,741,824, and so on for T, P, E, Z, Y.</span><br><span class="line"></span><br><span class="line">       If a FILE is &#x27;-&#x27; or missing, read standard input.  Exit status is 0 if inputs are the same, 1 if different, 2 if trouble.</span><br><span class="line"></span><br><span class="line">AUTHOR</span><br><span class="line">       Written by Torbjorn Granlund and David MacKenzie.</span><br><span class="line"></span><br><span class="line">REPORTING BUGS</span><br><span class="line">       Report bugs to: bug-diffutils@gnu.org</span><br><span class="line">       GNU diffutils home page: &lt;http://www.gnu.org/software/diffutils/&gt;</span><br><span class="line">       General help using GNU software: &lt;http://www.gnu.org/gethelp/&gt;</span><br><span class="line"></span><br><span class="line">COPYRIGHT</span><br><span class="line">       Copyright © 2013 Free Software Foundation, Inc.  License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;.</span><br><span class="line">       This is free software: you are free to change and redistribute it.  There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line"></span><br><span class="line">SEE ALSO</span><br><span class="line">       diff(1), diff3(1), sdiff(1)</span><br><span class="line"></span><br><span class="line">       The full documentation for cmp is maintained as a Texinfo manual.  If the info and cmp programs are properly installed at your site, the command</span><br><span class="line"></span><br><span class="line">              info cmp</span><br><span class="line"></span><br><span class="line">       should give you access to the complete manual.</span><br><span class="line"></span><br><span class="line">diffutils 3.3                                                          August 2019                                                                CMP(1)</span><br></pre></td></tr></table></figure>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a target="_blank" rel="noopener" href="http://www.linuxso.com/command/cmp.html">http://www.linuxso.com/command/cmp.html</a><br><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-comm-cmp.html">https://www.runoob.com/linux/linux-comm-cmp.html</a><br><a target="_blank" rel="noopener" href="https://man.linuxde.net/cmp">https://man.linuxde.net/cmp</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/d5380d8b/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/d5380d8b/" class="post-title-link" itemprop="url">电脑充电器乖贝虎说明书</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-15 13:27:05" itemprop="dateCreated datePublished" datetime="2021-05-15T13:27:05+08:00">2021-05-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 15:13:22" itemprop="dateModified" datetime="2022-04-04T15:13:22+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E5%85%B6%E4%BB%96/" itemprop="url" rel="index"><span itemprop="name">其他</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E5%85%B6%E4%BB%96/%E8%AF%B4%E6%98%8E%E4%B9%A6/" itemprop="url" rel="index"><span itemprop="name">说明书</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/d5380d8b/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/d5380d8b/" data-xid="/blog/d5380d8b/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>11</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="电脑充电器乖贝虎说明书"><a href="#电脑充电器乖贝虎说明书" class="headerlink" title="电脑充电器乖贝虎说明书"></a>电脑充电器乖贝虎说明书</h1><p><img data-src="https://raw.githubusercontent.com/lanlan2017/images/master/Blog/Other/ProductManual/NotebookCharger/GuaiBeiHu/1.jpg" alt="图片"></p>
<p><img data-src="https://raw.githubusercontent.com/lanlan2017/images/master/Blog/Other/ProductManual/NotebookCharger/GuaiBeiHu/2.jpg" alt="图片"></p>
<!-- Blog/Other/ProductManual/NotebookCharger/GuaiBeiHu/ -->

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/f8ced58d/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/f8ced58d/" class="post-title-link" itemprop="url">Linux cheat命令</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-08 23:14:49" itemprop="dateCreated datePublished" datetime="2021-05-08T23:14:49+08:00">2021-05-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3/" itemprop="url" rel="index"><span itemprop="name">帮助文档</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/f8ced58d/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/f8ced58d/" data-xid="/blog/f8ced58d/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="cheat介绍"><a href="#cheat介绍" class="headerlink" title="cheat介绍"></a>cheat介绍</h1><p><a target="_blank" rel="noopener" href="https://github.com/cheat/cheat">https://github.com/cheat/cheat</a></p>
<h1 id="cheat安装"><a href="#cheat安装" class="headerlink" title="cheat安装"></a>cheat安装</h1><h1 id="cheat使用"><a href="#cheat使用" class="headerlink" title="cheat使用"></a>cheat使用</h1><h2 id="cheat-tar"><a href="#cheat-tar" class="headerlink" title="cheat tar"></a>cheat tar</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cheat tar</span><br><span class="line"># To extract an uncompressed archive:</span><br><span class="line">tar -xvf /path/to/foo.tar</span><br><span class="line"></span><br><span class="line"># To create an uncompressed archive:</span><br><span class="line">tar -cvf /path/to/foo.tar /path/to/foo/</span><br><span class="line"></span><br><span class="line"># To extract a .gz archive:</span><br><span class="line">tar -xzvf /path/to/foo.tgz</span><br><span class="line"></span><br><span class="line"># To create a .gz archive:</span><br><span class="line">tar -czvf /path/to/foo.tgz /path/to/foo/</span><br><span class="line"></span><br><span class="line"># To list the content of an .gz archive:</span><br><span class="line">tar -ztvf /path/to/foo.tgz</span><br><span class="line"></span><br><span class="line"># To extract a .bz2 archive:</span><br><span class="line">tar -xjvf /path/to/foo.tgz</span><br><span class="line"></span><br><span class="line"># To create a .bz2 archive:</span><br><span class="line">tar -cjvf /path/to/foo.tgz /path/to/foo/</span><br><span class="line"></span><br><span class="line"># To extract a .tar in specified Directory:</span><br><span class="line">tar -xvf /path/to/foo.tar -C /path/to/destination/</span><br><span class="line"></span><br><span class="line"># To list the content of an .bz2 archive:</span><br><span class="line">tar -jtvf /path/to/foo.tgz</span><br><span class="line"></span><br><span class="line"># To create a .gz archive and exclude all jpg,gif,... from the tgz</span><br><span class="line">tar czvf /path/to/foo.tgz --exclude=\*.&#123;jpg,gif,png,wmv,flv,tar.gz,zip&#125; /path/to/foo/</span><br><span class="line"></span><br><span class="line"># To use parallel (multi-threaded) implementation of compression algorithms:</span><br><span class="line">tar -z ... -&gt; tar -Ipigz ...</span><br><span class="line">tar -j ... -&gt; tar -Ipbzip2 ...</span><br><span class="line">tar -J ... -&gt; tar -Ipixz ...</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/32637435">https://zhuanlan.zhihu.com/p/32637435</a><br><a target="_blank" rel="noopener" href="https://linux.cn/article-9193-1.html">https://linux.cn/article-9193-1.html</a><br><a target="_blank" rel="noopener" href="https://linux.cn/article-3760-1.html">https://linux.cn/article-3760-1.html</a><br><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000038323985">https://segmentfault.com/a/1190000038323985</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/42d91331/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/42d91331/" class="post-title-link" itemprop="url">Linux tldr命令</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-08 22:22:58" itemprop="dateCreated datePublished" datetime="2021-05-08T22:22:58+08:00">2021-05-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3/" itemprop="url" rel="index"><span itemprop="name">帮助文档</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/42d91331/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/42d91331/" data-xid="/blog/42d91331/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.7k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="tldr命令介绍"><a href="#tldr命令介绍" class="headerlink" title="tldr命令介绍"></a>tldr命令介绍</h1><p>该命令可以显示一些命令的常见用法<br>tldr全称Too long, Don’t read，翻译成中文就是[太长不读]。tldr根据二八原则将命令的常用场景给出示例，让人一看就懂。<br>tldr是简化版的使用手册，并不会像man一样把所有的使用参数和说明都列出来，而是只显示常用的几个使用Sample和说明。</p>
<h2 id="相关网址"><a href="#相关网址" class="headerlink" title="相关网址"></a>相关网址</h2><p>官网：<a target="_blank" rel="noopener" href="https://tldr.sh/">https://tldr.sh/</a><br>在线查询网站：<a target="_blank" rel="noopener" href="https://tldr.ostera.io/">https://tldr.ostera.io/</a><br>在线查询网站源码：<a target="_blank" rel="noopener" href="https://github.com/ostera/tldr.jsx">https://github.com/ostera/tldr.jsx</a><br>github:<a target="_blank" rel="noopener" href="https://github.com/tldr-pages/tldr">https://github.com/tldr-pages/tldr</a><br>安卓客户端：<br><a target="_blank" rel="noopener" href="https://play.google.com/store/apps/details?id=io.github.hidroh.tldroid">https://play.google.com/store/apps/details?id=io.github.hidroh.tldroid</a><br><a target="_blank" rel="noopener" href="https://play.google.com/store/apps/details?id=wtf.technodisaster.tldr">https://play.google.com/store/apps/details?id=wtf.technodisaster.tldr</a><br>电脑客户端：<a target="_blank" rel="noopener" href="https://github.com/terenceng2010/tldr-electron">https://github.com/terenceng2010/tldr-electron</a></p>
<h1 id="tldr安装"><a href="#tldr安装" class="headerlink" title="tldr安装"></a>tldr安装</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g tldr</span><br></pre></td></tr></table></figure>
<h1 id="tldr使用示例"><a href="#tldr使用示例" class="headerlink" title="tldr使用示例"></a>tldr使用示例</h1><h2 id="tldr-man"><a href="#tldr-man" class="headerlink" title="tldr man"></a>tldr man</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# tldr man</span><br><span class="line"></span><br><span class="line">  man</span><br><span class="line"></span><br><span class="line">  Format and display manual pages.</span><br><span class="line">  More information: https://www.man7.org/linux/man-pages/man1/man.1.html.</span><br><span class="line"></span><br><span class="line">  - Display the man page for a command:</span><br><span class="line">    man command</span><br><span class="line"></span><br><span class="line">  - Display the man page for a command from section 7:</span><br><span class="line">    man command.7</span><br><span class="line"></span><br><span class="line">  - Display the path searched for manpages:</span><br><span class="line">    man --path</span><br><span class="line"></span><br><span class="line">  - Display the location of a manpage rather than the manpage itself:</span><br><span class="line">    man -w command</span><br><span class="line"></span><br><span class="line">  - Display the man page using a specific locale:</span><br><span class="line">    man command --locale=locale</span><br><span class="line"></span><br><span class="line">  - Search for manpages containing a search string:</span><br><span class="line">    man -k &quot;search_string&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h2 id="tldr-ls"><a href="#tldr-ls" class="headerlink" title="tldr ls"></a>tldr ls</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# tldr ls</span><br><span class="line"></span><br><span class="line">  ls</span><br><span class="line"></span><br><span class="line">  List directory contents.</span><br><span class="line">  More information: https://www.gnu.org/software/coreutils/ls.</span><br><span class="line"></span><br><span class="line">  - List files one per line:</span><br><span class="line">    ls -1</span><br><span class="line"></span><br><span class="line">  - List all files, including hidden files:</span><br><span class="line">    ls -a</span><br><span class="line"></span><br><span class="line">  - List all files, with trailing / added to directory names:</span><br><span class="line">    ls -F</span><br><span class="line"></span><br><span class="line">  - Long format list (permissions, ownership, size, and modification date) of all files:</span><br><span class="line">    ls -la</span><br><span class="line"></span><br><span class="line">  - Long format list with size displayed using human readable units (KiB, MiB, GiB):</span><br><span class="line">    ls -lh</span><br><span class="line"></span><br><span class="line">  - Long format list sorted by size (descending):</span><br><span class="line">    ls -lS</span><br><span class="line"></span><br><span class="line">  - Long format list of all files, sorted by modification date (oldest first):</span><br><span class="line">    ls -ltr</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h2 id="tldr-tar"><a href="#tldr-tar" class="headerlink" title="tldr tar"></a>tldr tar</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# tldr tar</span><br><span class="line"></span><br><span class="line">  tar</span><br><span class="line"></span><br><span class="line">  Archiving utility.</span><br><span class="line">  Often combined with a compression method, such as gzip or bzip2.</span><br><span class="line">  More information: https://www.gnu.org/software/tar.</span><br><span class="line"></span><br><span class="line">  - [c]reate an archive and write it to a [f]ile:</span><br><span class="line">    tar cf target.tar file1 file2 file3</span><br><span class="line"></span><br><span class="line">  - [c]reate a g[z]ipped archive and write it to a [f]ile:</span><br><span class="line">    tar czf target.tar.gz file1 file2 file3</span><br><span class="line"></span><br><span class="line">  - [c]reate a g[z]ipped archive from a directory using relative paths:</span><br><span class="line">    tar czf target.tar.gz --directory=path/to/directory .</span><br><span class="line"></span><br><span class="line">  - E[x]tract a (compressed) archive [f]ile into the current directory [v]erbosely:</span><br><span class="line">    tar xvf source.tar[.gz|.bz2|.xz]</span><br><span class="line"></span><br><span class="line">  - E[x]tract a (compressed) archive [f]ile into the target directory:</span><br><span class="line">    tar xf source.tar[.gz|.bz2|.xz] --directory=directory</span><br><span class="line"></span><br><span class="line">  - [c]reate a compressed archive and write it to a [f]ile, using [a]rchive suffix to determine the compression program:</span><br><span class="line">    tar caf target.tar.xz file1 file2 file3</span><br><span class="line"></span><br><span class="line">  - Lis[t] the contents of a tar [f]ile [v]erbosely:</span><br><span class="line">    tar tvf source.tar</span><br><span class="line"></span><br><span class="line">  - E[x]tract files matching a pattern from an archive [f]ile:</span><br><span class="line">    tar xf source.tar --wildcards &quot;*.html&quot;</span><br><span class="line"></span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a target="_blank" rel="noopener" href="https://www.hi-linux.com/posts/16098.html">https://www.hi-linux.com/posts/16098.html</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/xingchenxuanfeng/article/details/89398327">https://blog.csdn.net/xingchenxuanfeng/article/details/89398327</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/561eb334/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/561eb334/" class="post-title-link" itemprop="url">基本正则表达式BRE和扩展正则表达式ERE</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-08 17:51:37" itemprop="dateCreated datePublished" datetime="2021-05-08T17:51:37+08:00">2021-05-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">正则表达式</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/561eb334/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/561eb334/" data-xid="/blog/561eb334/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>701</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="基本正则表达式-BRE元字符表"><a href="#基本正则表达式-BRE元字符表" class="headerlink" title="基本正则表达式 BRE元字符表"></a>基本正则表达式 BRE元字符表</h1><table>
<thead>
<tr>
<th align="left">元字符</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>*</code></td>
<td align="left">将<code>*</code>前面的正则表达式匹配的结果重复任意次(含0次)。</td>
</tr>
<tr>
<td align="left"><code>\+</code></td>
<td align="left">与星号(<code>*</code>)相同，只是至少重复1次，GNU的扩展功能。</td>
</tr>
<tr>
<td align="left"><code>\?</code></td>
<td align="left">与星号(<code>*</code>)相同，只是最多重复1次，GNU的扩展功能。</td>
</tr>
<tr>
<td align="left"><code>\&#123;i\&#125;</code></td>
<td align="left">与星号(<code>*</code>)相同，只是重复指定的i次。</td>
</tr>
<tr>
<td align="left"><code>\&#123;i,j\&#125;</code></td>
<td align="left">与星号(<code>*</code>)相同，只是重复i至j次。</td>
</tr>
<tr>
<td align="left"><code>\&#123;i, \&#125;</code></td>
<td align="left">与星号(<code>*</code>)相同，只是至少重复i次。</td>
</tr>
<tr>
<td align="left"><code>\(regexp\)</code></td>
<td align="left">将regexp看作一个整体，用于后向引用，与<code>\digit</code>配合使用。</td>
</tr>
<tr>
<td align="left"><code>.</code></td>
<td align="left">匹配任意单个字符。</td>
</tr>
<tr>
<td align="left"><code>^</code></td>
<td align="left">匹配模版空间开始处的NULL字符串。</td>
</tr>
<tr>
<td align="left"><code>$</code></td>
<td align="left">匹配的是模版空间结束处的NULL字符串。</td>
</tr>
<tr>
<td align="left"><code>[list]</code></td>
<td align="left">匹配方括号中的字符列表中的任意一个。</td>
</tr>
<tr>
<td align="left"><code>[^list]</code></td>
<td align="left">否定匹配方括号中的字符列表中的任意一个。</td>
</tr>
<tr>
<td align="left"><code>regexp1&amp;#124;regexp2</code></td>
<td align="left">用在相邻的正则表达式之间，表示匹配这些正则表达式中任一个都可以。匹配是从左向右开始的，一旦匹配成功就停止匹配。</td>
</tr>
<tr>
<td align="left"><code>regexp1&#124;regexp2</code></td>
<td align="left">匹配regexp1和regexp2的连接结果。</td>
</tr>
<tr>
<td align="left"><code>\digit</code></td>
<td align="left">匹配正则表达式前半部分定义的后向引用的第digit个子表达式。digit为1至9的数字, 1为从左开始。</td>
</tr>
<tr>
<td align="left"><code>\n</code></td>
<td align="left">匹配换行符。</td>
</tr>
<tr>
<td align="left"><code>\meta</code></td>
<td align="left">将元字符meta转换成普通字符，以便匹配该字符本身，有<code>$</code>、 <code>*</code>、 <code>.</code>、 <code>[</code>、 <code>\</code> 和 <code>^</code>。</td>
</tr>
</tbody></table>
<h1 id="扩展正则表达式"><a href="#扩展正则表达式" class="headerlink" title="扩展正则表达式"></a>扩展正则表达式</h1><p>扩展正则表达式除了以下元字符与基本正则表达式不同外，其余相似。</p>
<p>BRE与ERE元字符对应表</p>
<table>
<thead>
<tr>
<th align="left">基本正则表达式</th>
<th align="left">扩展正则表达式</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>\?</code></td>
<td align="left"><code>?</code></td>
</tr>
<tr>
<td align="left"><code>\+</code></td>
<td align="left"><code>+</code></td>
</tr>
<tr>
<td align="left"><code>&amp;#124;</code></td>
<td align="left"><code>&#124;</code></td>
</tr>
<tr>
<td align="left"><code>\&#123; \&#125;</code></td>
<td align="left"><code>&#123; &#125;</code></td>
</tr>
<tr>
<td align="left"><code>\( \)</code></td>
<td align="left"><code>( )</code></td>
</tr>
</tbody></table>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/95f62934/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/95f62934/" class="post-title-link" itemprop="url">Linux sed命令高级用法精讲</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-07 18:35:04" itemprop="dateCreated datePublished" datetime="2021-05-07T18:35:04+08:00">2021-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">正则表达式</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/95f62934/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/95f62934/" data-xid="/blog/95f62934/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="sed-多行命令"><a href="#sed-多行命令" class="headerlink" title="sed 多行命令"></a>sed 多行命令</h1><p>在学习 sed 命令的基础功能时，你可能注意到了一个局限，即所有的 sed 命令都只是针对单行数据执行操作，在 sed 命令读取缓冲区中的文本数据时，它会基于换行符的位置，将数据分成行，sed 会根据定义好的脚本命令一次处理一行数据。</p>
<p>但是，有时我们需要对跨多行的数据执行特定操作。比如说，在文本中查找一串字符串”<a target="_blank" rel="noopener" href="http://c.biancheng.net&quot;,它很有可能出现在两行中,每行各包含其中一部分.这时,如果用普通的/">http://c.biancheng.net&quot;，它很有可能出现在两行中，每行各包含其中一部分。这时，如果用普通的</a> sed 编辑器命令来处理文本，就不可能发现这种被分开的情况。</p>
<p>幸运的是，sed 命令的设计人员已经考虑到了这种情况，并设计了对应的解决方案。sed 包含了三个可用来处理多行文本的特殊命令，分别是：</p>
<ul>
<li>Next 命令（N）：将数据流中的下一行加进来创建一个多行组来处理。</li>
<li>Delete（D）：删除多行组中的一行。</li>
<li>Print（P）：打印多行组中的一行。</li>
</ul>
<h1 id="sed多行操作命令N"><a href="#sed多行操作命令N" class="headerlink" title="sed多行操作命令N"></a>sed多行操作命令N</h1><p>N 命令会将下一行文本内容添加到缓冲区已有数据之后（之间用换行符分隔），从而使前后两个文本行同时位于缓冲区中，sed 命令会将这两行数据当成一行来处理。</p>
<h2 id="两行变一行"><a href="#两行变一行" class="headerlink" title="两行变一行"></a>两行变一行</h2><p>下面这个例子演示的 N 命令的功能：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">hello</span><br><span class="line">world</span><br><span class="line">[root@localhost sed]# sed &quot;/hello/&#123;N;s/\n/ /&#125;&quot; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">hello world</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<p>在这个例子中，sed 命令查找含有单词 hello 的那行文本。找到该行后，它会用 N 命令将下一行合并到那行，然后用替换命令 s 将换行符替换成空格。结果是，文本文件中的两行在 sed 的输出中成了一行。</p>
<h3 id="示例2"><a href="#示例2" class="headerlink" title="示例2"></a>示例2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost exam]# cat result1.txt </span><br><span class="line">1单选(3分)</span><br><span class="line">下列哪个不是单字符正则表达式？</span><br><span class="line">A.</span><br><span class="line">. </span><br><span class="line">B.</span><br><span class="line"> [i-k] </span><br><span class="line">C.</span><br><span class="line">@</span><br><span class="line">D.</span><br><span class="line">$</span><br><span class="line">正确答案：D你错选为C</span><br><span class="line">[root@localhost exam]# sed -r &#x27;N;s/([A-Z]\.)\n(.+)/\1 \2/g&#x27; result1.txt </span><br><span class="line">1单选(3分)</span><br><span class="line">下列哪个不是单字符正则表达式？</span><br><span class="line">A. . </span><br><span class="line">B.  [i-k] </span><br><span class="line">C. @</span><br><span class="line">D. $</span><br><span class="line">正确答案：D你错选为C</span><br><span class="line">[root@localhost exam]# </span><br></pre></td></tr></table></figure>
<h2 id="sed多行删除命令D"><a href="#sed多行删除命令D" class="headerlink" title="sed多行删除命令D"></a>sed多行删除命令D</h2><p>sed 不仅提供了单行删除命令（d），也提供了多行删除命令 D，其作用是只删除缓冲区中的第一行，也就是说，D 命令将缓冲区中第一个换行符（包括换行符）之前的内容删除掉。</p>
<h2 id="多行打印命令P"><a href="#多行打印命令P" class="headerlink" title="多行打印命令P"></a>多行打印命令P</h2><p>同 d 和 D 之间的区别一样，P（大写）命令和单行打印命令 p（小写）不同，对于具有多行数据的缓冲区来说，它只会打印缓冲区中的第一行，也就是首个换行符之前的所有内容。</p>
<p>未完待续</p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a target="_blank" rel="noopener" href="http://c.biancheng.net/view/4056.html">http://c.biancheng.net/view/4056.html</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/905dd514/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/905dd514/" class="post-title-link" itemprop="url">收音机说明书</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-04 21:58:34" itemprop="dateCreated datePublished" datetime="2021-05-04T21:58:34+08:00">2021-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 15:13:22" itemprop="dateModified" datetime="2022-04-04T15:13:22+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E5%85%B6%E4%BB%96/" itemprop="url" rel="index"><span itemprop="name">其他</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/%E5%85%B6%E4%BB%96/%E8%AF%B4%E6%98%8E%E4%B9%A6/" itemprop="url" rel="index"><span itemprop="name">说明书</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/905dd514/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/905dd514/" data-xid="/blog/905dd514/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>6</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="收音机说明书"><a href="#收音机说明书" class="headerlink" title="收音机说明书"></a>收音机说明书</h1><!-- ![说明书](https://raw.githubusercontent.com/lanlan2017/images/master/Blog/Other/ProductManual/radio/1.jpg) -->
<p><img data-src="https://raw.githubusercontent.com/lanlan2017/images/master/Blog/Other/ProductManual/radio/1.jpg" alt="说明书"></p>
<!-- ![这里有一张图片](https://gitee.com/XiaoLan223/images/blob/master/Blog/Other/ProductManual/radio/1.jpg) -->


<!-- ![](https://raw.githubusercontent.com/lanlan2017/images/master/Blog/Programming/Linux/General/VIEditorAndGarbledProblem/1.png) -->


<!-- ![这里有一张图片](https://raw.githubusercontent.com/lanlan2017/images/3a6b6244b90244da22123165c5f1d7f2a2e63774/Blog/Other/ProductManual/radio/1.jpg) -->

<!-- ![](https://raw.githubusercontent.com/lanlan2017/images/master/Blog/Other/ProductManual/radio/1.jpg) -->

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/21ec0bd3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/21ec0bd3/" class="post-title-link" itemprop="url">Linux复杂筛选及加工命令awk</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-03 15:40:15" itemprop="dateCreated datePublished" datetime="2021-05-03T15:40:15+08:00">2021-05-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">正则表达式</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/21ec0bd3/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/21ec0bd3/" data-xid="/blog/21ec0bd3/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>4.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>4 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Linux复杂筛选及加工命令awk"><a href="#Linux复杂筛选及加工命令awk" class="headerlink" title="Linux复杂筛选及加工命令awk"></a>Linux复杂筛选及加工命令awk</h1><h2 id="awk：逐行扫描进行文本处理的一门语言"><a href="#awk：逐行扫描进行文本处理的一门语言" class="headerlink" title="awk：逐行扫描进行文本处理的一门语言"></a>awk：逐行扫描进行文本处理的一门语言</h2><p>a.w.k分别为该程序的三位设计者姓氏的第一个字母</p>
<h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><p>awk ‘程序’ 文件名列表<br>awk -f 程序文件名 文件名列表</p>
<h2 id="awk程序"><a href="#awk程序" class="headerlink" title="awk程序"></a>awk程序</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">条件&#123;动作&#125;</span><br></pre></td></tr></table></figure>
<p>awk自动对每行文本执行条件判断，满足条件则执行动作 （内置循环）<br>允许多段程序：多段程序间用空格或分号隔开。</p>
<h2 id="处理方式"><a href="#处理方式" class="headerlink" title="处理方式"></a>处理方式</h2><ul>
<li>输入文件的每行作为一个“记录”，awk内置变量NR就是行号</li>
<li>每行用空格分隔开的部分，叫做记录的“域”<ul>
<li>内置变量$1是第1域内容，依次，$2是第2域内容，……</li>
<li>特别的，$0指的是整个这一行的内容</li>
</ul>
</li>
<li>awk的处理为：符合条件的行，执行相应的动作</li>
</ul>
<h2 id="awk描述条件的方法"><a href="#awk描述条件的方法" class="headerlink" title="awk描述条件的方法"></a>awk描述条件的方法</h2><h3 id="关系运算-与C语言类似的"><a href="#关系运算-与C语言类似的" class="headerlink" title="关系运算 与C语言类似的"></a>关系运算 与C语言类似的</h3><table>
<thead>
<tr>
<th align="left">awk关系运算符</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&lt;</td>
<td align="left">小于</td>
</tr>
<tr>
<td align="left">&lt;&#x3D;</td>
<td align="left">小于或等于</td>
</tr>
<tr>
<td align="left">&#x3D;&#x3D;</td>
<td align="left">等于</td>
</tr>
<tr>
<td align="left">!&#x3D;</td>
<td align="left">不等于</td>
</tr>
<tr>
<td align="left">&gt;</td>
<td align="left">大于</td>
</tr>
<tr>
<td align="left">&gt;&#x3D;</td>
<td align="left">大于或等于</td>
</tr>
</tbody></table>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p>使用与C语言类似的逻辑算符</p>
<table>
<thead>
<tr>
<th align="left">awk逻辑运算符</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&amp;#124;&amp;#124;</td>
<td align="left">条件或</td>
</tr>
<tr>
<td align="left"><code>&amp;&amp;</code></td>
<td align="left">条件与</td>
</tr>
<tr>
<td align="left"><code>!</code></td>
<td align="left">条件非</td>
</tr>
</tbody></table>
<h3 id="正则表达式的模式匹配-x2F-regexpr-x2F"><a href="#正则表达式的模式匹配-x2F-regexpr-x2F" class="headerlink" title="正则表达式的模式匹配 &#x2F;regexpr&#x2F;"></a>正则表达式的模式匹配 &#x2F;regexpr&#x2F;</h3><p>包含该模式的行，执行动作</p>
<h3 id="特殊的条件"><a href="#特殊的条件" class="headerlink" title="特殊的条件"></a>特殊的条件</h3><ul>
<li>不指定任何条件：对所有文本行执行动作</li>
<li>BEGIN：开始处理所有文本行之前执行动作</li>
<li>END：处理完所有文本行之后执行动作</li>
</ul>
<h2 id="awk描述动作的方法"><a href="#awk描述动作的方法" class="headerlink" title="awk描述动作的方法"></a>awk描述动作的方法</h2><p>描述“动作”时，简单的用法有：</p>
<ul>
<li>自定义变量</li>
<li>加减乘除等算术逻辑运算</li>
<li>正则表达式匹配运算符（用作条件判断） ~    !~<ul>
<li>例如： $2 ~  “[1-9][0-9]*”</li>
</ul>
</li>
<li>流程控制（与C语言类似）<ul>
<li>条件判断 if</li>
<li>循环控制 for</li>
</ul>
</li>
<li>print 变量1， 变量2，……</li>
<li>printf(”格式串”，变量1，变量2，……)</li>
</ul>
<h1 id="awk示例"><a href="#awk示例" class="headerlink" title="awk示例"></a>awk示例</h1><h2 id="只显示命令输出的某些列"><a href="#只显示命令输出的某些列" class="headerlink" title="只显示命令输出的某些列"></a>只显示命令输出的某些列</h2><h3 id="只显示ls-l命令的某些列"><a href="#只显示ls-l命令的某些列" class="headerlink" title="只显示ls -l命令的某些列"></a>只显示ls -l命令的某些列</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# ls -l</span><br><span class="line">总用量 48</span><br><span class="line">-rw-r--r--. 1 root root    0 5月   3 15:27 a.txt</span><br><span class="line">-rw-r--r--. 1 root root    0 5月   3 15:27 b.txt</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:16 cat</span><br><span class="line">-rw-r--r--. 1 root root    0 5月   3 15:27 c.txt</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:18 date</span><br><span class="line">-rw-r--r--. 1 root root    0 5月   3 15:27 d.txt</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:16 less</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:14 ls</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:15 more</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:18 ps</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:15 sort</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:14 tr</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 18:47 uniq</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:17 vi</span><br><span class="line">drwxr-xr-x. 2 root root 4096 5月   1 15:17 wc</span><br><span class="line">drwxr-xr-x. 4 root root 4096 5月   3 14:36 正则表达式</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>
<p>只打印第1列和第9列（最后一列）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost Linux_Test]# ls -l| awk &#x27;&#123; printf(&quot;%s %s\n&quot;,$1,$9); &#125;&#x27;</span><br><span class="line">总用量 </span><br><span class="line">-rw-r--r--. a.txt</span><br><span class="line">-rw-r--r--. b.txt</span><br><span class="line">drwxr-xr-x. cat</span><br><span class="line">-rw-r--r--. c.txt</span><br><span class="line">drwxr-xr-x. date</span><br><span class="line">-rw-r--r--. d.txt</span><br><span class="line">drwxr-xr-x. less</span><br><span class="line">drwxr-xr-x. ls</span><br><span class="line">drwxr-xr-x. more</span><br><span class="line">drwxr-xr-x. ps</span><br><span class="line">drwxr-xr-x. sort</span><br><span class="line">drwxr-xr-x. tr</span><br><span class="line">drwxr-xr-x. uniq</span><br><span class="line">drwxr-xr-x. vi</span><br><span class="line">drwxr-xr-x. wc</span><br><span class="line">drwxr-xr-x. 正则表达式</span><br><span class="line">[root@localhost Linux_Test]# </span><br></pre></td></tr></table></figure>
<h3 id="只显示date命令的某些列"><a href="#只显示date命令的某些列" class="headerlink" title="只显示date命令的某些列"></a>只显示date命令的某些列</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost C_Test]# date</span><br><span class="line">2021年 05月 03日 星期一 16:30:54 CST</span><br><span class="line">[root@localhost C_Test]# date|awk &#x27;&#123;printf(&quot;%s %s %s\n&quot;,$1,$2,$3);&#125;&#x27;</span><br><span class="line">2021年 05月 03日</span><br><span class="line">[root@localhost C_Test]# date|awk &#x27;&#123;printf(&quot;%s\n&quot;,$4);&#125;&#x27;</span><br><span class="line">星期一</span><br><span class="line">[root@localhost C_Test]# date|awk &#x27;&#123;printf(&quot;%s\n&quot;,$5);&#125;&#x27;</span><br><span class="line">16:31:16</span><br><span class="line">[root@localhost C_Test]# </span><br></pre></td></tr></table></figure>
<p>上面这些功能也可以使用print实现：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost C_Test]# date</span><br><span class="line">2021年 05月 03日 星期一 16:41:03 CST</span><br><span class="line">[root@localhost C_Test]# date|awk &#x27;&#123;print $1 $2 $3&#125;&#x27;</span><br><span class="line">2021年05月03日</span><br><span class="line">[root@localhost C_Test]# date|awk &#x27;&#123;print $4&#125;&#x27;</span><br><span class="line">星期一</span><br><span class="line">[root@localhost C_Test]# date|awk &#x27;&#123;print $5&#125;&#x27;</span><br><span class="line">16:41:17</span><br><span class="line">[root@localhost C_Test]#</span><br></pre></td></tr></table></figure>
<h2 id="显示文件时显示自定义行号"><a href="#显示文件时显示自定义行号" class="headerlink" title="显示文件时显示自定义行号"></a>显示文件时显示自定义行号</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost C_Test]# cat helloworld.c</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    printf(&quot;%s\n&quot;,&quot;HelloWorld!&quot;);</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost C_Test]# cat helloworld.c|awk &#x27;&#123;printf(&quot;%d: %s\n&quot;,NR,$0);&#125;&#x27;</span><br><span class="line">1: #include &lt;stdio.h&gt;</span><br><span class="line">2: </span><br><span class="line">3: int main()</span><br><span class="line">4: &#123;</span><br><span class="line">5:     printf(&quot;%s\n&quot;,&quot;HelloWorld!&quot;);</span><br><span class="line">6: &#125;</span><br><span class="line">[root@localhost C_Test]# cat -n helloworld.c</span><br><span class="line">     1    #include &lt;stdio.h&gt;</span><br><span class="line">     2    </span><br><span class="line">     3    int main()</span><br><span class="line">     4    &#123;</span><br><span class="line">     5        printf(&quot;%s\n&quot;,&quot;HelloWorld!&quot;);</span><br><span class="line">     6    &#125;</span><br><span class="line">[root@localhost C_Test]# </span><br></pre></td></tr></table></figure>
<h2 id="只显示文件大小大于等于16KB的文件"><a href="#只显示文件大小大于等于16KB的文件" class="headerlink" title="只显示文件大小大于等于16KB的文件"></a>只显示文件大小大于等于16KB的文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost C_Test]# ls -sh</span><br><span class="line">总用量 120K</span><br><span class="line"> 16K a.out       4.0K file1.txt  4.0K file3.txt  4.0K forkTest.c  4.0K helloworld.c    4.0K redCharacter.c    4.0K strerror.c        16K terminalColor.out</span><br><span class="line">4.0K command.sh  4.0K file2.txt  4.0K file4.txt   16K forkTest.o   16K helloworld.out   16K redCharacter.out  4.0K terminalColor.c</span><br><span class="line">[root@localhost C_Test]# ls -s</span><br><span class="line">总用量 120</span><br><span class="line">16 a.out        4 file1.txt   4 file3.txt   4 forkTest.c   4 helloworld.c     4 redCharacter.c     4 strerror.c       16 terminalColor.out</span><br><span class="line"> 4 command.sh   4 file2.txt   4 file4.txt  16 forkTest.o  16 helloworld.out  16 redCharacter.out   4 terminalColor.c</span><br><span class="line">[root@localhost C_Test]# ls -s|awk &#x27;$1&gt;=16&#123;printf(&quot;%s\n&quot;,$0);&#125;&#x27;</span><br><span class="line">总用量 120</span><br><span class="line">16 a.out</span><br><span class="line">16 forkTest.o</span><br><span class="line">16 helloworld.out</span><br><span class="line">16 redCharacter.out</span><br><span class="line">16 terminalColor.out</span><br><span class="line">[root@localhost C_Test]#</span><br></pre></td></tr></table></figure>
<h2 id="列出当前目录下的所有-c文件"><a href="#列出当前目录下的所有-c文件" class="headerlink" title="列出当前目录下的所有.c文件"></a>列出当前目录下的所有.c文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost C_Test]# ls</span><br><span class="line">a.out       file1.txt  file3.txt  forkTest.c  helloworld.c    redCharacter.c    strerror.c       terminalColor.out</span><br><span class="line">command.sh  file2.txt  file4.txt  forkTest.o  helloworld.out  redCharacter.out  terminalColor.c</span><br><span class="line">[root@localhost C_Test]# ls|awk &#x27;/.+\.c/&#x27;</span><br><span class="line">forkTest.c</span><br><span class="line">helloworld.c</span><br><span class="line">redCharacter.c</span><br><span class="line">strerror.c</span><br><span class="line">terminalColor.c</span><br><span class="line">[root@localhost C_Test]# ls -l |awk &#x27;/.+\.c/&#x27;</span><br><span class="line">-rw-r--r--. 1 root root   152 4月  11 17:26 forkTest.c</span><br><span class="line">-rw-r--r--. 1 root root    66 5月   3 16:22 helloworld.c</span><br><span class="line">-rw-r--r--. 1 root root   785 4月   3 22:34 redCharacter.c</span><br><span class="line">-rw-r--r--. 1 root root   496 3月  24 17:53 strerror.c</span><br><span class="line">-rw-r--r--. 1 root root  1623 4月   3 22:48 terminalColor.c</span><br><span class="line">[root@localhost C_Test]# </span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/blog/ce005e75/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="记录一些学习心得">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/ce005e75/" class="post-title-link" itemprop="url">Linux流编辑命令sed</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-03 15:32:51" itemprop="dateCreated datePublished" datetime="2021-05-03T15:32:51+08:00">2021-05-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-04-04 00:51:45" itemprop="dateModified" datetime="2022-04-04T00:51:45+08:00">2022-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">通用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/%E9%80%9A%E7%94%A8/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">正则表达式</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/blog/ce005e75/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/blog/ce005e75/" data-xid="/blog/ce005e75/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>35k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>32 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="流编辑sed和正则表达式替换"><a href="#流编辑sed和正则表达式替换" class="headerlink" title="流编辑sed和正则表达式替换"></a>流编辑sed和正则表达式替换</h1><p>sed 会根据脚本命令来处理文本文件中的数据，这些命令要么从命令行中输入，要么存储在一个文本文件中，此命令执行数据的顺序如下：</p>
<ul>
<li>每次仅读取一行内容；</li>
<li>根据提供的规则命令匹配并修改数据。注意，sed 默认不会直接修改源文件数据，而是会将数据复制到缓冲区中，修改也仅限于缓冲区中的数据；</li>
<li>将执行结果输出。</li>
</ul>
<p>当一行数据匹配完成后，它会继续读取下一行数据，并重复这个过程，直到将文件中所有数据处理完毕。</p>
<p>sed全名叫stream editor，流编辑器，用程序的方式来编辑文本，相当的hacker啊。sed基本上就是玩正则模式匹配，所以，玩sed的人，正则表达式一般都比较强。</p>
<p>sed 默认读取整个文件并对其中的每一行进行修改。说白了就是一行一行的操作。</p>
<p>sed 是一种在线编辑器，它一次处理一行内容。处理时，把当前处理的行存储在临时缓冲区中，称为“模式空间”（pattern space），接着用sed命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。文件内容并没有 改变，除非你使用重定向存储输出。Sed主要用来自动编辑一个或多个文件；简化对文件的反复操作；编写转换程序等。</p>
<h1 id="sed命令常用选项及含义"><a href="#sed命令常用选项及含义" class="headerlink" title="sed命令常用选项及含义"></a>sed命令常用选项及含义</h1><table>
<thead>
<tr>
<th align="left">选项</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-e 脚本命令</td>
<td align="left">该选项会将其后跟的脚本命令添加到已有的命令中。</td>
</tr>
<tr>
<td align="left">-f 脚本命令文件</td>
<td align="left">，该选项会将其后文件中的脚本命令添加到已有的命令中。</td>
</tr>
<tr>
<td align="left">-n</td>
<td align="left">使用安静silent模式。在一般sed的用法中，所有来自stdin的内容一般都会被列出到屏幕上。但如果加上-n参数后，则只有经过sed特殊处理的那一行(或者动作)才会被列出来</td>
</tr>
<tr>
<td align="left">-i</td>
<td align="left">直接修改读取的文件内容，而不是由屏幕输出</td>
</tr>
<tr>
<td align="left">-r</td>
<td align="left">让sed命令支持扩展的正则表达式(默认是基础正则表达式)</td>
</tr>
</tbody></table>
<h2 id="sed命令常见用法"><a href="#sed命令常见用法" class="headerlink" title="sed命令常见用法"></a>sed命令常见用法</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;命令&#x27; 文件名列表</span><br><span class="line">sed –e &#x27;命令1&#x27; –e &#x27;命令2&#x27; –e &#x27;命令3&#x27; 文件名列表</span><br><span class="line">sed -f 命令文件 文件名列表</span><br></pre></td></tr></table></figure>
<p>成功使用 sed 命令的关键在于掌握各式各样的脚本命令及格式，它能帮你定制编辑文件的规则。</p>
<h2 id="sed-i：直接修改文件内容"><a href="#sed-i：直接修改文件内容" class="headerlink" title="sed -i：直接修改文件内容"></a>sed -i：直接修改文件内容</h2><p>sed 的<code>-i</code>选项可以直接修改文件内容，这功能非常有帮助！举例来说，如果你有一个 100 万行的文件，你要在第 100 行加某些文字，此时使用 vim 可能会疯掉！因为文件太大了！那怎办？就利用 sed 啊！透过 sed 直接修改&#x2F;取代的功能，你甚至不需要使用 vim 去修订！</p>
<h3 id="删除空行"><a href="#删除空行" class="headerlink" title="删除空行"></a>删除空行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]# sed &#x27;/^$/d&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]#</span><br></pre></td></tr></table></figure>
<h3 id="删除空行并且替换原文件"><a href="#删除空行并且替换原文件" class="headerlink" title="删除空行并且替换原文件"></a>删除空行并且替换原文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]# sed -i &#x27;/^$/d&#x27; sed_append.txt </span><br><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]#</span><br></pre></td></tr></table></figure>
<p>删除＃号开头的行到最后一行之间的所有行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]# sed &#x27;/^#/,$d&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed -i &#x27;/^#/,$d&#x27; sed_append.txt </span><br><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h1 id="sed脚本命令"><a href="#sed脚本命令" class="headerlink" title="sed脚本命令"></a>sed脚本命令</h1><h2 id="sed脚本命令s：替换行中的部分内容"><a href="#sed脚本命令s：替换行中的部分内容" class="headerlink" title="sed脚本命令s：替换行中的部分内容"></a>sed脚本命令s：替换行中的部分内容</h2><p>此命令的基本格式为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[address]s/pattern/replacement/flags</span><br></pre></td></tr></table></figure>
<p>其中，<br>address表示指定要操作的具体行，<br>pattern 指的是需要替换的内容，<br>replacement 指的是要替换的新内容。</p>
<p>此命令中常用的 flags 标记如下表所示</p>
<h3 id="sed的s命令的flags标记及功能"><a href="#sed的s命令的flags标记及功能" class="headerlink" title="sed的s命令的flags标记及功能"></a>sed的s命令的flags标记及功能</h3><table>
<thead>
<tr>
<th align="left">flags标记</th>
<th align="left">功能</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>n</code></td>
<td align="left">1~512 之间的数字，表示指定要替换的字符串出现第几次时才进行替换，例如，一行中有 3 个 A，但用户只想替换第二个 A，这是就用到这个标记；</td>
</tr>
<tr>
<td align="left"><code>g</code></td>
<td align="left">对数据中所有匹配到的内容进行替换，如果没有 g，则只会在第一次匹配成功时做替换操作。例如，一行数据中有 3 个 A，则只会替换第一个 A；</td>
</tr>
<tr>
<td align="left"><code>p</code></td>
<td align="left">会打印与替换命令中指定的模式匹配的行。此标记通常与 -n 选项一起使用。</td>
</tr>
<tr>
<td align="left"><code>w file</code></td>
<td align="left">将缓冲区中的内容写到指定的 file 文件中；</td>
</tr>
<tr>
<td align="left"><code>&amp;</code></td>
<td align="left">用正则表达式匹配的内容进行替换；</td>
</tr>
<tr>
<td align="left"><code>\n</code></td>
<td align="left">匹配第 n 个子串，该子串之前在 pattern 中用 () 指定。</td>
</tr>
<tr>
<td align="left"><code>\</code></td>
<td align="left">转义（转义替换部分包含：&amp;、\ 等）。</td>
</tr>
</tbody></table>
<h3 id="在行首添加内容"><a href="#在行首添加内容" class="headerlink" title="在行首添加内容"></a>在行首添加内容</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]# sed &#x27;s/^/#/g&#x27; sed_append.txt </span><br><span class="line">#this is line a</span><br><span class="line">#this is line b</span><br><span class="line">#this is line c</span><br><span class="line">#this is line d</span><br><span class="line">## helloworld_1</span><br><span class="line">## helloworld_2</span><br><span class="line">## helloworld_3</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="在行尾添加内容"><a href="#在行尾添加内容" class="headerlink" title="在行尾添加内容"></a>在行尾添加内容</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]# sed &#x27;s/$/。/g&#x27; sed_append.txt </span><br><span class="line">this is line a。</span><br><span class="line">this is line b。</span><br><span class="line">this is line c。</span><br><span class="line">this is line d。</span><br><span class="line"># helloworld_1。</span><br><span class="line"># helloworld_2。</span><br><span class="line"># helloworld_3。</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>


<h3 id="替换所有行中第n次模式匹配的地方：sed-‘s-x2F-pattern-x2F-replacement-x2F-n’"><a href="#替换所有行中第n次模式匹配的地方：sed-‘s-x2F-pattern-x2F-replacement-x2F-n’" class="headerlink" title="替换所有行中第n次模式匹配的地方：sed ‘s&#x2F;pattern&#x2F;replacement&#x2F;n’"></a>替换所有行中第n次模式匹配的地方：sed ‘s&#x2F;pattern&#x2F;replacement&#x2F;n’</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;s/pattern/replacement/n&#x27;</span><br></pre></td></tr></table></figure>
<p>例如,将所有行中出现的第二个制表符<code>\t</code>替换为减号<code>-</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">	public static void main(String[] args)&#123;</span><br><span class="line">		System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">		System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">		System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">		for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">			System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;s/\t/----/2&#x27; SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">	public static void main(String[] args)&#123;</span><br><span class="line">	----System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">	----System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">	----System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">	----for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">	----	System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">	----&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<p>将所有行中出现的第3个sed字符串替换为全大写的SED字符串：</p>
<pre>
[root@localhost sed]&#35; cat SedTest.java 
public class SedTest{
    public static void main(String[] args){
        System.out.println("HelloWorld!");
        System.out.println("sed命令示例");
        System.out.println("sed替换示例");
        for(int i=0;i&lt;5;i++){
            System.out.println("sed_sed_sed_sed"+i);
        }
    }
}
[root@localhost sed]&#35; sed 's/sed/SED/3' SedTest.java 
public class SedTest{
    public static void main(String[] args){
        System.out.println("HelloWorld!");
        System.out.println("sed命令示例");
        System.out.println("sed替换示例");
        for(int i=0;i&lt;5;i++){
            System.out.println("sed_sed_<mark>SED</mark>_sed"+i);
        }
    }
}
[root@localhost sed]&#35; 
</pre>

<h3 id="替换某行中全部模式匹配的地方：sed-‘行号s-x2F-pattern-x2F-replacement-x2F-g’"><a href="#替换某行中全部模式匹配的地方：sed-‘行号s-x2F-pattern-x2F-replacement-x2F-g’" class="headerlink" title="替换某行中全部模式匹配的地方：sed ‘行号s&#x2F;pattern&#x2F;replacement&#x2F;g’"></a>替换某行中全部模式匹配的地方：sed ‘行号s&#x2F;pattern&#x2F;replacement&#x2F;g’</h3><p>把第3行中的所有<code>\t</code>全部替换为4个减号：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n SedTest.java </span><br><span class="line">     1    public class SedTest&#123;</span><br><span class="line">     2        public static void main(String[] args)&#123;</span><br><span class="line">     3            System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">     4            System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">     5            System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">     6            for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">     7                System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">     8            &#125;</span><br><span class="line">     9        &#125;</span><br><span class="line">    10    &#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;3s/\t/----/g&#x27; SedTest.java|cat -n</span><br><span class="line">     1    public class SedTest&#123;</span><br><span class="line">     2        public static void main(String[] args)&#123;</span><br><span class="line">     3    --------System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">     4            System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">     5            System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">     6            for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">     7                System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">     8            &#125;</span><br><span class="line">     9        &#125;</span><br><span class="line">    10    &#125;</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="替换第N行到第M行中第x次模式匹配的地方：sed-‘N-Ms-x2F-pattern-x2F-replacement-x2F-x’"><a href="#替换第N行到第M行中第x次模式匹配的地方：sed-‘N-Ms-x2F-pattern-x2F-replacement-x2F-x’" class="headerlink" title="替换第N行到第M行中第x次模式匹配的地方：sed ‘N,Ms&#x2F;pattern&#x2F;replacement&#x2F;x’"></a>替换第N行到第M行中第x次模式匹配的地方：sed ‘N,Ms&#x2F;pattern&#x2F;replacement&#x2F;x’</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;N,Ms/pattern/replacement/x&#x27;</span><br></pre></td></tr></table></figure>
<p>这里的行号范围包括N,但不包括M,也就是替换[N,M)区间内的行数。</p>
<h4 id="第2到第3行之间的第2个制表符替换成四个减号"><a href="#第2到第3行之间的第2个制表符替换成四个减号" class="headerlink" title="第2到第3行之间的第2个制表符替换成四个减号"></a>第2到第3行之间的第2个制表符替换成四个减号</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# sed &#x27;2,3s/\t/----/2&#x27; SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">    ----System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]#</span><br></pre></td></tr></table></figure>
<h4 id="第2到第4行之间的第2个制表符替换成四个减号"><a href="#第2到第4行之间的第2个制表符替换成四个减号" class="headerlink" title="第2到第4行之间的第2个制表符替换成四个减号"></a>第2到第4行之间的第2个制表符替换成四个减号</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# sed &#x27;2,4s/\t/----/2&#x27; SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">    ----System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">    ----System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]#</span><br></pre></td></tr></table></figure>
<h3 id="替换行中所有模式匹配的地方：sed-‘s-x2F-pattern-x2F-replacement-x2F-g’"><a href="#替换行中所有模式匹配的地方：sed-‘s-x2F-pattern-x2F-replacement-x2F-g’" class="headerlink" title="替换行中所有模式匹配的地方：sed ‘s&#x2F;pattern&#x2F;replacement&#x2F;g’"></a>替换行中所有模式匹配的地方：sed ‘s&#x2F;pattern&#x2F;replacement&#x2F;g’</h3><h4 id="将所有行中的所有制表符全部替换为四个减号"><a href="#将所有行中的所有制表符全部替换为四个减号" class="headerlink" title="将所有行中的所有制表符全部替换为四个减号"></a>将所有行中的所有制表符全部替换为四个减号</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;s/\t/----/g&#x27; SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">----public static void main(String[] args)&#123;</span><br><span class="line">--------System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">--------System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">--------System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">--------for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">------------System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">--------&#125;</span><br><span class="line">----&#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h4 id="将所有的全小写的sed字符全部替换为全大写的SED字符串"><a href="#将所有的全小写的sed字符全部替换为全大写的SED字符串" class="headerlink" title="将所有的全小写的sed字符全部替换为全大写的SED字符串"></a>将所有的全小写的sed字符全部替换为全大写的SED字符串</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;s/sed/SED/g&#x27; SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;SED命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;SED替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;SED_SED_SED_SED&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h4 id="将包括第1行到不包括第3行之间的制表符改成4个减号"><a href="#将包括第1行到不包括第3行之间的制表符改成4个减号" class="headerlink" title="将包括第1行到不包括第3行之间的制表符改成4个减号"></a>将包括第1行到不包括第3行之间的制表符改成4个减号</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;1,3s/\t/----/g&#x27; SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">----public static void main(String[] args)&#123;</span><br><span class="line">--------System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="将缓冲区中的内容输出到文件中：sed-‘s-x2F-pattern-x2F-replacement-x2F-flag-w-file’："><a href="#将缓冲区中的内容输出到文件中：sed-‘s-x2F-pattern-x2F-replacement-x2F-flag-w-file’：" class="headerlink" title="将缓冲区中的内容输出到文件中：sed ‘s&#x2F;pattern&#x2F;replacement&#x2F;flag w file’："></a>将缓冲区中的内容输出到文件中：sed ‘s&#x2F;pattern&#x2F;replacement&#x2F;flag w file’：</h3><p>经过替换的行会保存在缓冲区中，没经过替换的行则不会放入缓冲区中。如果想把这些经过替换之后的行输出到文件中，可以在s脚本的后面追加flags标记<code>w 文件名</code>。</p>
<p>例如，将[2,4)区间范围的行的所有\t替换成四个减号，并且输出缓冲区的内容到文件中：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;2,4s/\t/----/g w out.txt&#x27; SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">----public static void main(String[] args)&#123;</span><br><span class="line">--------System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">--------System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# ls</span><br><span class="line">out.txt  SedTest.java</span><br><span class="line">[root@localhost sed]# cat out.txt </span><br><span class="line">----public static void main(String[] args)&#123;</span><br><span class="line">--------System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">--------System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h2 id="sed脚本命令d：删除某行"><a href="#sed脚本命令d：删除某行" class="headerlink" title="sed脚本命令d：删除某行"></a>sed脚本命令d：删除某行</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;[address]d&#x27;</span><br></pre></td></tr></table></figure>
<p>如果需要删除文本中的特定行，可以用 d 脚本命令，它会删除指定行中的所有内容。但使用该命令时要特别小心，如果你忘记指定具体行的话，文件中的所有内容都会被删除，举个例子：</p>
<h3 id="sed删除所有的行"><a href="#sed删除所有的行" class="headerlink" title="sed删除所有的行"></a>sed删除所有的行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat SedTest.java </span><br><span class="line">public class SedTest&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;d&#x27; SedTest.java &gt; sed_d_out.txt</span><br><span class="line">[root@localhost sed]# cat sed_d_out.txt </span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="sed删除指定行"><a href="#sed删除指定行" class="headerlink" title="sed删除指定行"></a>sed删除指定行</h3><h4 id="只删除某行"><a href="#只删除某行" class="headerlink" title="只删除某行"></a>只删除某行</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;行号d&#x27;</span><br></pre></td></tr></table></figure>
<p>例如，只删除第2行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n SedTest.java </span><br><span class="line">     1    public class SedTest&#123;</span><br><span class="line">     2        public static void main(String[] args)&#123;</span><br><span class="line">     3            System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">     4            System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">     5            System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">     6            for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">     7                System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">     8            &#125;</span><br><span class="line">     9        &#125;</span><br><span class="line">    10    &#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;2d&#x27; SedTest.java</span><br><span class="line">public class SedTest&#123;</span><br><span class="line">        System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">        System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">        System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">        for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">            System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h4 id="删除第N行到第M行"><a href="#删除第N行到第M行" class="headerlink" title="删除第N行到第M行"></a>删除第N行到第M行</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;[N,M]d&#x27;</span><br></pre></td></tr></table></figure>
<p>与替换不同的时，删除使用的是全闭区间。<br>命令<code>sed &#39;1,2d&#39; SedTest.java</code>表示删除区间<code>[1,2]</code>的所有行,也就是删除第1行，并且删除第2行。<br>而命令<code>sed &#39;1,2s/\t/----/g&#39; SetTest.java</code>,表示把区间<code>[1,2)</code>之间的所有行中的\t全部替换成四个减号，也就是只替换第1行，不替换第2行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n SedTest.java </span><br><span class="line">     1	public class SedTest&#123;</span><br><span class="line">     2		public static void main(String[] args)&#123;</span><br><span class="line">     3			System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">     4			System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">     5			System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">     6			for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">     7				System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">     8			&#125;</span><br><span class="line">     9		&#125;</span><br><span class="line">    10	&#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;1,2d&#x27; SedTest.java</span><br><span class="line">		System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">		System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">		System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">		for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">			System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# sed &#x27;1,2s/\t/----/g&#x27; SedTest.java</span><br><span class="line">public class SedTest&#123;</span><br><span class="line">----public static void main(String[] args)&#123;</span><br><span class="line">		System.out.println(&quot;HelloWorld!&quot;);</span><br><span class="line">		System.out.println(&quot;sed命令示例&quot;);</span><br><span class="line">		System.out.println(&quot;sed替换示例&quot;);</span><br><span class="line">		for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">			System.out.println(&quot;sed_sed_sed_sed&quot;+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="删除空行-1"><a href="#删除空行-1" class="headerlink" title="删除空行"></a>删除空行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;/^$/d&#x27; a.txt       #删除所有空行</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;/^$/d&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<p>删除<code>#</code>开头的行，到最后一行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line"># helloworld_1</span><br><span class="line"># helloworld_2</span><br><span class="line"># helloworld_3</span><br><span class="line">[root@localhost sed]# sed &#x27;/^#/,$d&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>

<h2 id="sed脚本命令a：在指定行后追加新行"><a href="#sed脚本命令a：在指定行后追加新行" class="headerlink" title="sed脚本命令a：在指定行后追加新行"></a>sed脚本命令a：在指定行后追加新行</h2><p>在第N行之后附加新的内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;行号a 附加的内容&#x27;</span><br></pre></td></tr></table></figure>
<h3 id="在某行之后追加一行"><a href="#在某行之后追加一行" class="headerlink" title="在某行之后追加一行"></a>在某行之后追加一行</h3><p>例如，在第2行只有追加一行字符串<code>this is the newly inserted line</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n sed_append.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2a this is the newly inserted line&#x27; sed_append.txt |cat -n</span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is the newly inserted line</span><br><span class="line">     4    this is line c</span><br><span class="line">     5    this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="在某行之后追加多行"><a href="#在某行之后追加多行" class="headerlink" title="在某行之后追加多行"></a>在某行之后追加多行</h3><h4 id="使用折行符号"><a href="#使用折行符号" class="headerlink" title="使用折行符号"></a>使用折行符号</h4><p>使用在<strong>单引号</strong>中使用折行符<code>\</code>可以追加多行到指定行的后面：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n sed_append.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2a this is the newly inserted line 1\</span><br><span class="line">this is the newly inserted line 2&#x27; sed_append.txt |cat -n</span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is the newly inserted line 1</span><br><span class="line">     4    this is the newly inserted line 2</span><br><span class="line">     5    this is line c</span><br><span class="line">     6    this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h4 id="使用换行符-n"><a href="#使用换行符-n" class="headerlink" title="使用换行符\n"></a>使用换行符\n</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n sed_append.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">     5    helloworld1</span><br><span class="line">     6    helloworld2</span><br><span class="line">[root@localhost sed]# sed &#x27;1i this is the newly inserted line 1\nthis is the newly inserted line 2&#x27; sed_append.txt |cat -n</span><br><span class="line">     1    this is the newly inserted line 1</span><br><span class="line">     2    this is the newly inserted line 2</span><br><span class="line">     3    this is line a</span><br><span class="line">     4    this is line b</span><br><span class="line">     5    this is line c</span><br><span class="line">     6    this is line d</span><br><span class="line">     7    helloworld1</span><br><span class="line">     8    helloworld2</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>

<h2 id="sed脚本命令i：在指定行之前插入新行"><a href="#sed脚本命令i：在指定行之前插入新行" class="headerlink" title="sed脚本命令i：在指定行之前插入新行"></a>sed脚本命令i：在指定行之前插入新行</h2><h3 id="在第N行之前插入一行"><a href="#在第N行之前插入一行" class="headerlink" title="在第N行之前插入一行"></a>在第N行之前插入一行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n sed_append.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2i this is the newly inserted line&#x27; sed_append.txt |cat -n</span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is the newly inserted line</span><br><span class="line">     3    this is line b</span><br><span class="line">     4    this is line c</span><br><span class="line">     5    this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="在第N行之前插入多行"><a href="#在第N行之前插入多行" class="headerlink" title="在第N行之前插入多行"></a>在第N行之前插入多行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n sed_append.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2i this is the newly inserted line 1\</span><br><span class="line">this is the newly inserted line 2&#x27; sed_append.txt |cat -n</span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is the newly inserted line 1</span><br><span class="line">     3    this is the newly inserted line 2</span><br><span class="line">     4    this is line b</span><br><span class="line">     5    this is line c</span><br><span class="line">     6    this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>

<h2 id="sed脚本命令c：替换整行"><a href="#sed脚本命令c：替换整行" class="headerlink" title="sed脚本命令c：替换整行"></a>sed脚本命令c：替换整行</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[address]c\用于替换的新文本</span><br></pre></td></tr></table></figure>
<h3 id="替换第2行的内容"><a href="#替换第2行的内容" class="headerlink" title="替换第2行的内容"></a>替换第2行的内容</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat -n sed_append.txt </span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is line b</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2c this is the line after replacement&#x27; sed_append.txt |cat -n</span><br><span class="line">     1    this is line a</span><br><span class="line">     2    this is the line after replacement</span><br><span class="line">     3    this is line c</span><br><span class="line">     4    this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>

<h2 id="sed脚本命令y：字符集映射替换"><a href="#sed脚本命令y：字符集映射替换" class="headerlink" title="sed脚本命令y：字符集映射替换"></a>sed脚本命令y：字符集映射替换</h2><p>y 转换命令是唯一可以处理单个字符的 sed 脚本命令，其基本格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;[address]y/inchars/outchars/&#x27;</span><br></pre></td></tr></table></figure>
<p>转换命令会对 inchars 和 outchars 值进行一对一的映射，即 inchars 中的第一个字符会被转换为 outchars 中的第一个字符，第二个字符会被转换成 outchars 中的第二个字符…这个映射过程会一直持续到处理完指定字符。如果 inchars 和 outchars 的长度不同，则 sed 会产生一条错误消息。</p>
<h3 id="示例1"><a href="#示例1" class="headerlink" title="示例1"></a>示例1</h3><p>例如按如下映射进行替换：</p>
<table>
<thead>
<tr>
<th align="left">匹配字符</th>
<th align="left">替换字符</th>
</tr>
</thead>
<tbody><tr>
<td align="left">a</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">b</td>
<td align="left">2</td>
</tr>
<tr>
<td align="left">c</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">d</td>
<td align="left">4</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;y/abcd/1234/&#x27; sed_append.txt</span><br><span class="line">this is line 1</span><br><span class="line">this is line 2</span><br><span class="line">this is line 3</span><br><span class="line">this is line 4</span><br><span class="line">[root@localhost sed]# sed &#x27;1,2y/abcd/1234/&#x27; sed_append.txt</span><br><span class="line">this is line 1</span><br><span class="line">this is line 2</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<p>可以看到，inchars 模式中指定字符的每个实例都会被替换成 outchars 模式中相同位置的那个字符。</p>
<h3 id="示例2"><a href="#示例2" class="headerlink" title="示例2"></a>示例2</h3><table>
<thead>
<tr>
<th align="left">匹配字符</th>
<th align="left">替换字符</th>
</tr>
</thead>
<tbody><tr>
<td align="left">a</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">b</td>
<td align="left">2</td>
</tr>
<tr>
<td align="left">c</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">d</td>
<td align="left">4</td>
</tr>
<tr>
<td align="left">e</td>
<td align="left">5</td>
</tr>
</tbody></table>
<pre>
[root@localhost sed]&#35; cat sed_append.txt 
this is line a
this is line b
this is line c
this is line d
[root@localhost sed]&#35; sed '1,2y/abcde/12345/' sed_append.txt
this is lin<mark>5</mark> <mark>1</mark>
this is lin<mark>5</mark> <mark>2</mark>
this is line c
this is line d
[root@localhost sed]&#35;
</pre>

<h3 id="大小写转换"><a href="#大小写转换" class="headerlink" title="大小写转换"></a>大小写转换</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;1,2y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/&#x27; sed_append.txt</span><br><span class="line">THIS IS LINE A</span><br><span class="line">THIS IS LINE B</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>

<h2 id="sed脚本命令p：打印某行"><a href="#sed脚本命令p：打印某行" class="headerlink" title="sed脚本命令p：打印某行"></a>sed脚本命令p：打印某行</h2><blockquote>
<p>sed 默认会打印出被处理的输入内容，这些内容跟原始输入内容不一定完全一样，sed 的一些命令可以修改或删除输入内容，再把新的内容打印出来。<br>打印的输出结果并不是只对应匹配特定模式的行。<br>那些没有被处理的行，会原样打印。<br>如果只想打印匹配特定模式的行，要用 -n 选项和 p 命令。</p>
</blockquote>
<p>注意：-n 选项并不表示打印匹配特定模式且被处理的行。<br>例如，使用 -n 选项和 d 命令不会看到任何打印，并不会打印出被删除的行。</p>
<p><code>sed -n</code>∶使用安静(silent)模式。在一般 sed 的用法中，所有来自STDIN的资料一般都会被列出到萤幕上。但<strong>如果加上 -n 参数后，则只有经过sed 特殊处理的那一行(或者动作)才会被列出来</strong>。</p>
<h3 id="sed-‘-address-p’-输出匹配的行"><a href="#sed-‘-address-p’-输出匹配的行" class="headerlink" title="sed ‘[address]p’ 输出匹配的行"></a>sed ‘[address]p’ 输出匹配的行</h3><p>p命令表示搜索符号条件的行，并输出该行的内容。</p>
<pre>
[root@localhost sed]&#35; cat sed_append.txt 
this is line a
this is line b
this is line c
this is line d
&#35; helloworld_1
&#35; helloworld_2
&#35; helloworld_3
[root@localhost sed]&#35; sed '/^&#35;/p' sed_append.txt 
this is line a
this is line b
this is line c
this is line d
&#35; helloworld_1
<mark>&#35; helloworld_1</mark>
&#35; helloworld_2
<mark>&#35; helloworld_2</mark>
&#35; helloworld_3
<mark>&#35; helloworld_3</mark>
[root@localhost sed]&#35;
</pre>

<p>可以看到匹配的行输出了两次，第一次的输出是sed的输出，第2个输出则是脚本命令p的输出。<br>如果想只输出匹配的行，其他的行不输出的话，则可以加上-n参数。：</p>
<pre>
[root@localhost sed]&#35; cat sed_append.txt 
this is line a
this is line b
this is line c
this is line d
&#35; helloworld_1
&#35; helloworld_2
&#35; helloworld_3
[root@localhost sed]&#35; sed -n '/^&#35;/p' sed_append.txt 
&#35; helloworld_1
&#35; helloworld_2
&#35; helloworld_3
[root@localhost sed]&#35; 
</pre>


<p>通常 p 会与参数 sed -n 一起运作。此命令的基本格式为：</p>
<h3 id="sed-n-‘-address-p’"><a href="#sed-n-‘-address-p’" class="headerlink" title="sed -n ‘[address]p’"></a>sed -n ‘[address]p’</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -n &#x27;[address]p&#x27;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sed -n &#x27;1p&#x27; filename           #显示第一行 </span><br><span class="line">sed -n &#x27;$p&#x27; filename           #显示最后一行</span><br><span class="line">sed -n &#x27;1,2p&#x27; filename        #显示第一行到第二行</span><br><span class="line">sed -n &#x27;2,$p&#x27; filename        #显示第二行到最后一行</span><br></pre></td></tr></table></figure>
<p>p 命令常见的用法是打印包含匹配文本模式的行，例如：</p>
<h3 id="打印第一行"><a href="#打印第一行" class="headerlink" title="打印第一行"></a>打印第一行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed -n &#x27;1p&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">[root@localhost sed]#</span><br></pre></td></tr></table></figure>
<h3 id="打印最后一行"><a href="#打印最后一行" class="headerlink" title="打印最后一行"></a>打印最后一行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# sed -n &#x27;$p&#x27; sed_append.txt </span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="打印第1行到第2行"><a href="#打印第1行到第2行" class="headerlink" title="打印第1行到第2行"></a>打印第1行到第2行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# sed -n &#x27;1,2p&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="打印第2行到最后一行"><a href="#打印第2行到最后一行" class="headerlink" title="打印第2行到最后一行"></a>打印第2行到最后一行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# sed -n &#x27;2,$p&#x27; sed_append.txt</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="打印包含指定关键字的行"><a href="#打印包含指定关键字的行" class="headerlink" title="打印包含指定关键字的行"></a>打印包含指定关键字的行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# sed -n &#x27;/helloworld/p&#x27; sed_append.txt</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br></pre></td></tr></table></figure>
<h3 id="打印匹配正则表达式的行"><a href="#打印匹配正则表达式的行" class="headerlink" title="打印匹配正则表达式的行"></a>打印匹配正则表达式的行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# sed -n &#x27;/world[0-9]/p&#x27; sed_append.txt</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>

<h3 id="sed-n选项p命令：只打印包含匹配模式的行"><a href="#sed-n选项p命令：只打印包含匹配模式的行" class="headerlink" title="sed -n选项p命令：只打印包含匹配模式的行"></a>sed -n选项p命令：只打印包含匹配模式的行</h3><p>可以看到，用 -n 选项和 p 命令配合使用，可以只打印匹配的行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed -n &#x27;2p&#x27; sed_append.txt </span><br><span class="line">this is line b</span><br><span class="line">[root@localhost sed]# sed -n &#x27;/b/p&#x27; sed_append.txt </span><br><span class="line">this is line b</span><br><span class="line">[root@localhost sed]# sed -n &#x27;/line/p&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="sed多脚本"><a href="#sed多脚本" class="headerlink" title="sed多脚本"></a>sed多脚本</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">address &#123;</span><br><span class="line">    多个脚本命令</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="sed显示匹配的行，并显示替换后的结果。"><a href="#sed显示匹配的行，并显示替换后的结果。" class="headerlink" title="sed显示匹配的行，并显示替换后的结果。"></a>sed显示匹配的行，并显示替换后的结果。</h4><p>如果需要在修改之前查看行，也可以使用打印命令，比如与替换或修改命令一起使用。可以创建一个脚本在修改行之前显示该行，如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]#  sed -n &#x27;/b/&#123;</span><br><span class="line">&gt; p;</span><br><span class="line">&gt; s/line/row/p</span><br><span class="line">&gt; &#125;&#x27; sed_append.txt</span><br><span class="line">this is line b</span><br><span class="line">this is row b</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<p>sed 命令会查找包含小写字母b的行，然后执行两条命令。<br>首先，脚本用 p 命令来打印出原始行；<br>然后它用s命令替换文本，并用 p 标记打印出替换结果。<br>这样可以输出当前要处理的文本，以及替换之后的文本，以便于对比替换的结果是否达到要求</p>
<h4 id="多个脚本命令写在一行"><a href="#多个脚本命令写在一行" class="headerlink" title="多个脚本命令写在一行"></a>多个脚本命令写在一行</h4><p>可以吧多个命令写在一行之中，命令之间用英文的分号<code>;</code>分隔开即可：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;[address]&#123;命令1;命令2;...命令n&#125;&#x27;</span><br></pre></td></tr></table></figure>

<pre>
[root@localhost sed]&#35; cat sed_append.txt 
this is line a
this is line b
this is line c
this is line d
&#35; helloworld_1
&#35; helloworld_2
&#35; helloworld_3
[root@localhost sed]&#35; sed -n '/^&#35;/,${p;s/helloworld/HELLOWORLD/pg}' sed_append.txt 
&#35; helloworld_1
&#35; HELLOWORLD_1
&#35; helloworld_2
&#35; HELLOWORLD_2
&#35; helloworld_3
&#35; HELLOWORLD_3
[root@localhost sed]&#35; 
</pre>

<h3 id="正则表达式词首词尾"><a href="#正则表达式词首词尾" class="headerlink" title="正则表达式词首词尾"></a>正则表达式词首词尾</h3><p><code>\&lt;</code>表示词首。 如：<code>\&lt;abc</code>表示以abc为首的詞。<br><code>\&gt;</code>表示词尾。 如：<code>abc\&gt;</code>表示以abc結尾的詞。</p>
<h3 id="打印有hello为词首的单词的行"><a href="#打印有hello为词首的单词的行" class="headerlink" title="打印有hello为词首的单词的行"></a>打印有hello为词首的单词的行</h3><pre>
[root@localhost sed]&#35; cat sed_append.txt 
this is line a
this is line b
this is line c
this is line d
&#35; helloworld_1
&#35; helloworld_2
&#35; helloworld_3
[root@localhost sed]&#35; sed -n '/\&lt;hello/p' sed_append.txt 
&#35; helloworld_1
&#35; helloworld_2
&#35; helloworld_3
[root@localhost sed]&#35; 
</pre>

<h3 id="打印有line为词尾的单词的行"><a href="#打印有line为词尾的单词的行" class="headerlink" title="打印有line为词尾的单词的行"></a>打印有line为词尾的单词的行</h3><pre>
[root@localhost sed]&#35; cat sed_append.txt 
this is line a
this is line b
this is line c
this is line d
&&#35;35; helloworld_1
&&#35;35; helloworld_2
&&#35;35; helloworld_3
[root@localhost sed]&#35; sed -n '/line\&gt;/p' sed_append.txt 
this is line a
this is line b
this is line c
this is line d
[root@localhost sed]&#35; 
</pre>

<h2 id="sed脚本命令w-file：输出模式空间中的内容到文件"><a href="#sed脚本命令w-file：输出模式空间中的内容到文件" class="headerlink" title="sed脚本命令w file：输出模式空间中的内容到文件"></a>sed脚本命令w file：输出模式空间中的内容到文件</h2><p>w命令用来将文本中指定行的内容写入文件中，此命令的基本格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;[address]w filename&#x27;</span><br></pre></td></tr></table></figure>
<p>这里的 filename 表示文件名，可以使用相对路径或绝对路径，但不管是哪种，运行 sed 命令的用户都必须有文件的写权限。<br>下面的例子是将数据流中的前两行打印到一个文本文件中：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;1,2 w sed_w_out.txt&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# cat sed_w_out.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h2 id="sed脚本命令r：插入独立文件的内容到当前数据流的指定位置"><a href="#sed脚本命令r：插入独立文件的内容到当前数据流的指定位置" class="headerlink" title="sed脚本命令r：插入独立文件的内容到当前数据流的指定位置"></a>sed脚本命令r：插入独立文件的内容到当前数据流的指定位置</h2><p>r 命令用于将一个独立文件的数据插入到当前数据流的指定位置，该命令的基本格式为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &quot;[address]r filename&quot;</span><br></pre></td></tr></table></figure>
<p>sed命令会将filename文件中的内容插入到address指定的行的后面。</p>
<h3 id="在文件的某行后插入另一个文件的内容"><a href="#在文件的某行后插入另一个文件的内容" class="headerlink" title="在文件的某行后插入另一个文件的内容"></a>在文件的某行后插入另一个文件的内容</h3><p>例如，将sed_2.txt文件中的内容，插入到sed_append.txt文件中的第二行后面：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# cat sed_2.txt </span><br><span class="line">HelloWorld</span><br><span class="line">[root@localhost sed]# sed &quot;2r sed_2.txt&quot; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">HelloWorld</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h3 id="在文件的末尾插入另一个文件的内容"><a href="#在文件的末尾插入另一个文件的内容" class="headerlink" title="在文件的末尾插入另一个文件的内容"></a>在文件的末尾插入另一个文件的内容</h3><p>如果你想将指定文件中的数据插入到数据流的末尾，可以使用地址符<code>$</code>，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# cat sed_2.txt </span><br><span class="line">HelloWorld</span><br><span class="line">[root@localhost sed]# sed &#x27;$r sed_2.txt&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">HelloWorld</span><br></pre></td></tr></table></figure>
<p>需要注意的是，命令如果使用的是双引号的话，则需要使用转义符，也就是双引号中的美元符号，要写成<code>&quot;\$&quot;</code>，而使用单引号就不需要使用转义符，只需要写成<code>&#39;$&#39;</code>即可</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# sed &quot;$r sed_2.txt&quot; sed_append.txt </span><br><span class="line">sed：-e 表达式 #1，字符 10：未终止的“s”命令</span><br><span class="line">[root@localhost sed]# sed &quot;\$r sed_2.txt&quot; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">HelloWorld</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h2 id="sed脚本命令q：匹配第一次后就退出sed程序"><a href="#sed脚本命令q：匹配第一次后就退出sed程序" class="headerlink" title="sed脚本命令q：匹配第一次后就退出sed程序"></a>sed脚本命令q：匹配第一次后就退出sed程序</h2><p>q命令的作用是使sed命令在第一次匹配任务结束后，退出 sed 程序，不再进行对后续数据的处理。</p>
<h3 id="sed匹配后退出"><a href="#sed匹配后退出" class="headerlink" title="sed匹配后退出"></a>sed匹配后退出</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2q&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">[root@localhost sed]#</span><br></pre></td></tr></table></figure>
<p>可以看到，sed 命令在打印输出第 2 行之后，就停止了，是 q 命令造成的，再比如：</p>
<h3 id="sed查找替换第一次模式匹配后退出"><a href="#sed查找替换第一次模式匹配后退出" class="headerlink" title="sed查找替换第一次模式匹配后退出"></a>sed查找替换第一次模式匹配后退出</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]#  sed &#x27;/b/&#123; s/b/B/;q; &#125;&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line B</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<p>sed在当前行中查找到小写的字母b后，将小写的字母b替换成大写的字母B,然后退出sed不再处理后续的行。</p>
<h1 id="sed脚本命令的寻址方式"><a href="#sed脚本命令的寻址方式" class="headerlink" title="sed脚本命令的寻址方式"></a>sed脚本命令的寻址方式</h1><p>前面在介绍各个脚本命令时，我们一直忽略了对 address 部分的介绍。对各个脚本命令来说，address 用来表明该脚本命令作用到文本中的具体行。</p>
<p>默认情况下，sed 命令会作用于文本数据的所有行。如果只想将命令作用于特定行或某些行，则必须写明 address 部分，表示的方法有以下 2 种：</p>
<ul>
<li>以数字形式指定行区间；</li>
<li>用文本模式指定具体行区间。</li>
</ul>
<p>以上两种形式都可以使用如下这 2 种格式，分别是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[address]脚本命令</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">address &#123;</span><br><span class="line">    脚本命令1</span><br><span class="line">    脚本命令2</span><br><span class="line">    ......</span><br><span class="line">    脚本命令n</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="以数字形式指定行区间"><a href="#以数字形式指定行区间" class="headerlink" title="以数字形式指定行区间"></a>以数字形式指定行区间</h2><p>当使用数字方式的行寻址时，可以用行在文本流中的行位置来引用。sed 会将文本流中的第一行编号为 1，然后继续按顺序为接下来的行分配行号。</p>
<p>在脚本命令中，</p>
<ul>
<li>指定的地址可以是单个行号，</li>
<li>也可以用<strong>起始行号+逗号+结束行号</strong>来指定指定的一定区间范围内的行（<code>起始行号,结尾行号</code>）。</li>
</ul>
<h3 id="使用数字指定行号"><a href="#使用数字指定行号" class="headerlink" title="使用数字指定行号"></a>使用数字指定行号</h3><p>这里举一个 sed 命令作用到指定行号的例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2s/s/_/g&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">thi_ i_ line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]#</span><br></pre></td></tr></table></figure>
<p>可以看到，sed 只修改地址指定的第二行的文本。下面的例子中使用了行地址区间：</p>
<h3 id="使用区间指定行地址"><a href="#使用区间指定行地址" class="headerlink" title="使用区间指定行地址"></a>使用区间指定行地址</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2,3s/s/_/g&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">thi_ i_ line b</span><br><span class="line">thi_ i_ line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h4 id="特殊的行结束符"><a href="#特殊的行结束符" class="headerlink" title="特殊的行结束符$"></a>特殊的行结束符$</h4><p>在此基础上，如果想将命令作用到文本中从某行开始的所有行，可以用特殊地址——美元符（<code>$</code>）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">[root@localhost sed]# sed &#x27;2,$s/s/_/g&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">thi_ i_ line b</span><br><span class="line">thi_ i_ line c</span><br><span class="line">thi_ i_ line d</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h2 id="用文本模式指定行区间"><a href="#用文本模式指定行区间" class="headerlink" title="用文本模式指定行区间"></a>用文本模式指定行区间</h2><p>sed 允许指定文本模式来过滤出命令要作用的行，格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/pattern/command</span><br></pre></td></tr></table></figure>
<p>注意，必须用正斜线将要指定的pattern封起来，sed会将该命令作用到包含指定文本模式的行上。</p>
<h3 id="固定文本模式：字符串形式的文本模式"><a href="#固定文本模式：字符串形式的文本模式" class="headerlink" title="固定文本模式：字符串形式的文本模式"></a>固定文本模式：字符串形式的文本模式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# cat sed_append.txt |grep &#x27;helloworld&#x27;</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# sed &#x27;/helloworld/s/helloworld/HELLOWORLD/g&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">HELLOWORLD1</span><br><span class="line">HELLOWORLD2</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<p>虽然使用固定文本模式（字符串）能帮你过滤出特定的值，但其作用难免有限，因此，sed 允许在文本模式使用正则表达式指明作用的具体行。<br>正则表达式允许创建高级文本模式匹配表达式来匹配各种数据。这些表达式结合了一系列通配符、特殊字符以及固定文本字符来生成能够匹配几乎任何形式文本的简练模式。</p>
<h3 id="高级文本模式：使用正则表达式的文本模式"><a href="#高级文本模式：使用正则表达式的文本模式" class="headerlink" title="高级文本模式：使用正则表达式的文本模式"></a>高级文本模式：使用正则表达式的文本模式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost sed]# cat sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">helloworld1</span><br><span class="line">helloworld2</span><br><span class="line">[root@localhost sed]# sed &#x27;/world[0-9]/s/world/WORLD/g&#x27; sed_append.txt </span><br><span class="line">this is line a</span><br><span class="line">this is line b</span><br><span class="line">this is line c</span><br><span class="line">this is line d</span><br><span class="line">helloWORLD1</span><br><span class="line">helloWORLD2</span><br><span class="line">[root@localhost sed]# </span><br></pre></td></tr></table></figure>
<h1 id="sed命令帮助文档"><a href="#sed命令帮助文档" class="headerlink" title="sed命令帮助文档"></a>sed命令帮助文档</h1><h2 id="sed-–help"><a href="#sed-–help" class="headerlink" title="sed –help"></a>sed –help</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed --help</span><br><span class="line">用法: sed [选项]... &#123;脚本(如果没有其他脚本)&#125; [输入文件]...</span><br><span class="line"></span><br><span class="line">  -n, --quiet, --silent</span><br><span class="line">                 取消自动打印模式空间</span><br><span class="line">  -e 脚本, --expression=脚本</span><br><span class="line">                 添加“脚本”到程序的运行列表</span><br><span class="line">  -f 脚本文件, --file=脚本文件</span><br><span class="line">                 添加“脚本文件”到程序的运行列表</span><br><span class="line">  --follow-symlinks</span><br><span class="line">                 直接修改文件时跟随软链接</span><br><span class="line">  -i[SUFFIX], --in-place[=SUFFIX]</span><br><span class="line">                 edit files in place (makes backup if SUFFIX supplied)</span><br><span class="line">  -c, --copy</span><br><span class="line">                 use copy instead of rename when shuffling files in -i mode</span><br><span class="line">  -b, --binary</span><br><span class="line">                 does nothing; for compatibility with WIN32/CYGWIN/MSDOS/EMX (</span><br><span class="line">                 open files in binary mode (CR+LFs are not treated specially))</span><br><span class="line">  -l N, --line-length=N</span><br><span class="line">                 指定“l”命令的换行期望长度</span><br><span class="line">  --posix</span><br><span class="line">                 关闭所有 GNU 扩展</span><br><span class="line">  -r, --regexp-extended</span><br><span class="line">                 在脚本中使用扩展正则表达式</span><br><span class="line">  -s, --separate</span><br><span class="line">                 将输入文件视为各个独立的文件而不是一个长的连续输入</span><br><span class="line">  -u, --unbuffered</span><br><span class="line">                 从输入文件读取最少的数据，更频繁的刷新输出</span><br><span class="line">  -z, --null-data</span><br><span class="line">                 separate lines by NUL characters</span><br><span class="line">  --help</span><br><span class="line">                 display this help and exit</span><br><span class="line">  --version</span><br><span class="line">                 output version information and exit</span><br><span class="line"></span><br><span class="line">如果没有 -e, --expression, -f 或 --file 选项，那么第一个非选项参数被视为</span><br><span class="line">sed脚本。其他非选项参数被视为输入文件，如果没有输入文件，那么程序将从标准</span><br><span class="line">输入读取数据。</span><br><span class="line">GNU sed home page: &lt;http://www.gnu.org/software/sed/&gt;.</span><br><span class="line">General help using GNU software: &lt;http://www.gnu.org/gethelp/&gt;.</span><br><span class="line">E-mail bug reports to: &lt;bug-sed@gnu.org&gt;.</span><br><span class="line">Be sure to include the word ``sed&#x27;&#x27; somewhere in the ``Subject:&#x27;&#x27; field.</span><br><span class="line">[root@localhost ~]# </span><br></pre></td></tr></table></figure>
<h2 id="man-sed"><a href="#man-sed" class="headerlink" title="man sed"></a>man sed</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br></pre></td><td class="code"><pre><span class="line">SED(1)                                                          User Commands                                                          SED(1)</span><br><span class="line"></span><br><span class="line">NAME</span><br><span class="line">       sed - stream editor for filtering and transforming text</span><br><span class="line"></span><br><span class="line">SYNOPSIS</span><br><span class="line">       sed [OPTION]... &#123;script-only-if-no-other-script&#125; [input-file]...</span><br><span class="line"></span><br><span class="line">DESCRIPTION</span><br><span class="line">       Sed  is  a  stream  editor.   A stream editor is used to perform basic text transformations on an input stream (a file or input from a</span><br><span class="line">       pipeline).  While in some ways similar to an editor which permits scripted edits (such as ed), sed works by making only one pass  over</span><br><span class="line">       the  input(s),  and  is  consequently more efficient.  But it is sed&#x27;s ability to filter text in a pipeline which particularly distin‐</span><br><span class="line">       guishes it from other types of editors.</span><br><span class="line"></span><br><span class="line">       -n, --quiet, --silent</span><br><span class="line"></span><br><span class="line">              suppress automatic printing of pattern space</span><br><span class="line"></span><br><span class="line">       -e script, --expression=script</span><br><span class="line"></span><br><span class="line">              add the script to the commands to be executed</span><br><span class="line"></span><br><span class="line">       -f script-file, --file=script-file</span><br><span class="line"></span><br><span class="line">              add the contents of script-file to the commands to be executed</span><br><span class="line"></span><br><span class="line">       --follow-symlinks</span><br><span class="line"></span><br><span class="line">              follow symlinks when processing in place</span><br><span class="line"></span><br><span class="line">       -i[SUFFIX], --in-place[=SUFFIX]</span><br><span class="line"></span><br><span class="line">              edit files in place (makes backup if SUFFIX supplied)</span><br><span class="line"></span><br><span class="line">       -c, --copy</span><br><span class="line"></span><br><span class="line">              use copy instead of rename when shuffling files in -i mode</span><br><span class="line"></span><br><span class="line">       -b, --binary</span><br><span class="line"></span><br><span class="line">              does nothing; for compatibility with WIN32/CYGWIN/MSDOS/EMX ( open files in binary mode (CR+LFs are not treated specially))</span><br><span class="line"></span><br><span class="line">       -l N, --line-length=N</span><br><span class="line"></span><br><span class="line">              specify the desired line-wrap length for the `l&#x27; command</span><br><span class="line"></span><br><span class="line">       --posix</span><br><span class="line"></span><br><span class="line">              disable all GNU extensions.</span><br><span class="line"></span><br><span class="line">       -r, --regexp-extended</span><br><span class="line"></span><br><span class="line">              use extended regular expressions in the script.</span><br><span class="line"></span><br><span class="line">       -s, --separate</span><br><span class="line"></span><br><span class="line">              consider files as separate rather than as a single continuous long stream.</span><br><span class="line"></span><br><span class="line">       -u, --unbuffered</span><br><span class="line"></span><br><span class="line">              load minimal amounts of data from the input files and flush the output buffers more often</span><br><span class="line"></span><br><span class="line">       -z, --null-data</span><br><span class="line"></span><br><span class="line">              separate lines by NUL characters</span><br><span class="line"></span><br><span class="line">       --help</span><br><span class="line"></span><br><span class="line">              display this help and exit</span><br><span class="line"></span><br><span class="line">       --version</span><br><span class="line"></span><br><span class="line">              output version information and exit</span><br><span class="line"></span><br><span class="line">       If no -e, --expression, -f, or --file option is given, then the first non-option argument is taken as the  sed  script  to  interpret.</span><br><span class="line">       All remaining arguments are names of input files; if no input files are specified, then the standard input is read.</span><br><span class="line"></span><br><span class="line">       GNU  sed  home  page: &lt;http://www.gnu.org/software/sed/&gt;.  General help using GNU software: &lt;http://www.gnu.org/gethelp/&gt;.  E-mail bug</span><br><span class="line">       reports to: &lt;bug-sed@gnu.org&gt;.  Be sure to include the word ``sed&#x27;&#x27; somewhere in the ``Subject:&#x27;&#x27; field.</span><br><span class="line"></span><br><span class="line">COMMAND SYNOPSIS</span><br><span class="line">       This is just a brief synopsis of sed commands to serve as a reminder to those who already know sed; other documentation (such  as  the</span><br><span class="line">       texinfo document) must be consulted for fuller descriptions.</span><br><span class="line"></span><br><span class="line">   Zero-address ``commands&#x27;&#x27;</span><br><span class="line">       : label</span><br><span class="line">              Label for b and t commands.</span><br><span class="line"></span><br><span class="line">       #comment</span><br><span class="line">              The comment extends until the next newline (or the end of a -e script fragment).</span><br><span class="line"></span><br><span class="line">       &#125;      The closing bracket of a &#123; &#125; block.</span><br><span class="line"></span><br><span class="line">   Zero- or One- address commands</span><br><span class="line">       =      Print the current line number.</span><br><span class="line"></span><br><span class="line">       a \</span><br><span class="line"></span><br><span class="line">       text   Append text, which has each embedded newline preceded by a backslash.</span><br><span class="line"></span><br><span class="line">       i \</span><br><span class="line"></span><br><span class="line">       text   Insert text, which has each embedded newline preceded by a backslash.</span><br><span class="line"></span><br><span class="line">       q [exit-code]</span><br><span class="line">              Immediately  quit  the sed script without processing any more input, except that if auto-print is not disabled the current pat‐</span><br><span class="line">              tern space will be printed.  The exit code argument is a GNU extension.</span><br><span class="line"></span><br><span class="line">       Q [exit-code]</span><br><span class="line">              Immediately quit the sed script without processing any more input.  This is a GNU extension.</span><br><span class="line"></span><br><span class="line">       r filename</span><br><span class="line">              Append text read from filename.</span><br><span class="line"></span><br><span class="line">       R filename</span><br><span class="line">              Append a line read from filename.  Each invocation of the command reads a line from the file.  This is a GNU extension.</span><br><span class="line"></span><br><span class="line">   Commands which accept address ranges</span><br><span class="line">       &#123;      Begin a block of commands (end with a &#125;).</span><br><span class="line"></span><br><span class="line">       b label</span><br><span class="line">              Branch to label; if label is omitted, branch to end of script.</span><br><span class="line"></span><br><span class="line">       c \</span><br><span class="line"></span><br><span class="line">       text   Replace the selected lines with text, which has each embedded newline preceded by a backslash.</span><br><span class="line"></span><br><span class="line">       d      Delete pattern space.  Start next cycle.</span><br><span class="line"></span><br><span class="line">       D      If pattern space contains no newline, start a normal new cycle as if the d command was issued.  Otherwise, delete text  in  the</span><br><span class="line">              pattern space up to the first newline, and restart cycle with the resultant pattern space, without reading a new line of input.</span><br><span class="line"></span><br><span class="line">       h H    Copy/append pattern space to hold space.</span><br><span class="line"></span><br><span class="line">       g G    Copy/append hold space to pattern space.</span><br><span class="line"></span><br><span class="line">       l      List out the current line in a ``visually unambiguous&#x27;&#x27; form.</span><br><span class="line"></span><br><span class="line">       l width</span><br><span class="line">              List out the current line in a ``visually unambiguous&#x27;&#x27; form, breaking it at width characters.  This is a GNU extension.</span><br><span class="line"></span><br><span class="line">       n N    Read/append the next line of input into the pattern space.</span><br><span class="line"></span><br><span class="line">       p      Print the current pattern space.</span><br><span class="line"></span><br><span class="line">       P      Print up to the first embedded newline of the current pattern space.</span><br><span class="line"></span><br><span class="line">       s/regexp/replacement/</span><br><span class="line">              Attempt to match regexp against the pattern space.  If successful, replace that portion matched with replacement.  The replace‐</span><br><span class="line">              ment may contain the special character &amp; to refer to that portion of the pattern space which matched, and the  special  escapes</span><br><span class="line">              \1 through \9 to refer to the corresponding matching sub-expressions in the regexp.</span><br><span class="line"></span><br><span class="line">       t label</span><br><span class="line">              If  a s/// has done a successful substitution since the last input line was read and since the last t or T command, then branch</span><br><span class="line">              to label; if label is omitted, branch to end of script.</span><br><span class="line"></span><br><span class="line">       T label</span><br><span class="line">              If no s/// has done a successful substitution since the last input line was read and since the last t or T command, then branch</span><br><span class="line">              to label; if label is omitted, branch to end of script.  This is a GNU extension.</span><br><span class="line"></span><br><span class="line">       w filename</span><br><span class="line">              Write the current pattern space to filename.</span><br><span class="line"></span><br><span class="line">       W filename</span><br><span class="line">              Write the first line of the current pattern space to filename.  This is a GNU extension.</span><br><span class="line"></span><br><span class="line">       x      Exchange the contents of the hold and pattern spaces.</span><br><span class="line"></span><br><span class="line">       y/source/dest/</span><br><span class="line">              Transliterate the characters in the pattern space which appear in source to the corresponding character in dest.</span><br><span class="line"></span><br><span class="line">Addresses</span><br><span class="line">       Sed  commands  can  be  given  with no addresses, in which case the command will be executed for all input lines; with one address, in</span><br><span class="line">       which case the command will only be executed for input lines which match that address; or with two addresses, in which case  the  com‐</span><br><span class="line">       mand  will  be executed for all input lines which match the inclusive range of lines starting from the first address and continuing to</span><br><span class="line">       the second address.  Three things to note about address ranges: the syntax is addr1,addr2 (i.e., the  addresses  are  separated  by  a</span><br><span class="line">       comma); the line which addr1 matched will always be accepted, even if addr2 selects an earlier line; and if addr2 is a regexp, it will</span><br><span class="line">       not be tested against the line that addr1 matched.</span><br><span class="line"></span><br><span class="line">       After the address (or address-range), and before the command, a !  may be inserted, which specifies that the  command  shall  only  be</span><br><span class="line">       executed if the address (or address-range) does not match.</span><br><span class="line"></span><br><span class="line">       The following address types are supported:</span><br><span class="line"></span><br><span class="line">       number Match only the specified line number (which increments cumulatively across files, unless the -s option is specified on the com‐</span><br><span class="line">              mand line).</span><br><span class="line"></span><br><span class="line">       first~step</span><br><span class="line">              Match every step&#x27;th line starting with line first.  For example, ``sed -n 1~2p&#x27;&#x27; will print all the odd-numbered lines  in  the</span><br><span class="line">              input  stream, and the address 2~5 will match every fifth line, starting with the second.  first can be zero; in this case, sed</span><br><span class="line">              operates as if it were equal to step.  (This is an extension.)</span><br><span class="line"></span><br><span class="line">       $      Match the last line.</span><br><span class="line"></span><br><span class="line">       /regexp/</span><br><span class="line">              Match lines matching the regular expression regexp.</span><br><span class="line"></span><br><span class="line">       \cregexpc</span><br><span class="line">              Match lines matching the regular expression regexp.  The c may be any character.</span><br><span class="line"></span><br><span class="line">       GNU sed also supports some special 2-address forms:</span><br><span class="line"></span><br><span class="line">       0,addr2</span><br><span class="line">              Start out in &quot;matched first address&quot; state, until addr2 is found.  This is similar to 1,addr2, except that if addr2 matches the</span><br><span class="line">              very first line of input the 0,addr2 form will be at the end of its range, whereas the 1,addr2 form will still be at the begin‐</span><br><span class="line">              ning of its range.  This works only when addr2 is a regular expression.</span><br><span class="line"></span><br><span class="line">       addr1,+N</span><br><span class="line">              Will match addr1 and the N lines following addr1.</span><br><span class="line"></span><br><span class="line">       addr1,~N</span><br><span class="line">              Will match addr1 and the lines following addr1 until the next line whose input line number is a multiple of N.</span><br><span class="line"></span><br><span class="line">REGULAR EXPRESSIONS</span><br><span class="line">       POSIX.2 BREs should be supported, but they aren&#x27;t completely because of performance problems.  The \n sequence in a regular expression</span><br><span class="line">       matches the newline character, and similarly for \a, \t, and other sequences.</span><br><span class="line"></span><br><span class="line">BUGS</span><br><span class="line">       E-mail bug reports to bug-sed@gnu.org.  Also, please include the output of ``sed --version&#x27;&#x27; in the body of your report if at all pos‐</span><br><span class="line">       sible.</span><br><span class="line"></span><br><span class="line">AUTHOR</span><br><span class="line">       Written by Jay Fenlason, Tom Lord, Ken Pizzini, and Paolo Bonzini.  GNU sed home  page:  &lt;http://www.gnu.org/software/sed/&gt;.   General</span><br><span class="line">       help  using  GNU  software:  &lt;http://www.gnu.org/gethelp/&gt;.   E-mail  bug  reports to: &lt;bug-sed@gnu.org&gt;.  Be sure to include the word</span><br><span class="line">       ``sed&#x27;&#x27; somewhere in the ``Subject:&#x27;&#x27; field.</span><br><span class="line"></span><br><span class="line">COPYRIGHT</span><br><span class="line">       Copyright © 2012 Free Software Foundation, Inc.  License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;.</span><br><span class="line">       This is free software: you are free to change and redistribute it.  There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line"></span><br><span class="line">SEE ALSO</span><br><span class="line">       awk(1), ed(1), grep(1), tr(1), perlre(1), sed.info, any of various books on sed, the sed FAQ (http://sed.sf.net/grabbag/tutorials/sed‐</span><br><span class="line">       faq.txt), http://sed.sf.net/grabbag/.</span><br><span class="line"></span><br><span class="line">       The full documentation for sed is maintained as a Texinfo manual.  If the info and sed programs are properly installed at your site,</span><br><span class="line">       the command</span><br><span class="line"></span><br><span class="line">              info sed</span><br><span class="line"></span><br><span class="line">       should give you access to the complete manual.</span><br><span class="line"></span><br><span class="line">sed 4.2.2                                                       September 2020                                                         SED(1)</span><br><span class="line"> Manual page sed(1) line 210/246 (END) (press h for help or q to quit)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a target="_blank" rel="noopener" href="http://c.biancheng.net/view/4028.html">http://c.biancheng.net/view/4028.html</a><br><a target="_blank" rel="noopener" href="http://c.biancheng.net/view/4056.html">http://c.biancheng.net/view/4056.html</a><br><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-comm-sed.html">https://www.runoob.com/linux/linux-comm-sed.html</a><br><a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/320516">https://developer.aliyun.com/article/320516</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/dong008259/archive/2011/12/07/2279897.html">https://www.cnblogs.com/dong008259/archive/2011/12/07/2279897.html</a><br><a target="_blank" rel="noopener" href="https://coolshell.cn/articles/9104.html">https://coolshell.cn/articles/9104.html</a><br><a target="_blank" rel="noopener" href="https://qianngchn.github.io/wiki/4.html">https://qianngchn.github.io/wiki/4.html</a></p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000022722531">https://segmentfault.com/a/1190000022722531</a><br><a target="_blank" rel="noopener" href="https://www.linuxcool.com/sed">https://www.linuxcool.com/sed</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/ggjucheng/archive/2013/01/13/2856901.html">https://www.cnblogs.com/ggjucheng/archive/2013/01/13/2856901.html</a><br><a target="_blank" rel="noopener" href="https://learnku.com/server/wikis/36595">https://learnku.com/server/wikis/36595</a><br><a target="_blank" rel="noopener" href="http://linux.51yip.com/search/sed">http://linux.51yip.com/search/sed</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/130797132">https://zhuanlan.zhihu.com/p/130797132</a></p>
<h2 id="手册"><a href="#手册" class="headerlink" title="手册"></a>手册</h2><p><a target="_blank" rel="noopener" href="http://www.gnu.org/software/sed/manual/sed.html">http://www.gnu.org/software/sed/manual/sed.html</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/page/25/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/25/">25</a><span class="page-number current">26</span><a class="page-number" href="/blog/page/27/">27</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/71/">71</a><a class="extend next" rel="next" href="/blog/page/27/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2018 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">蓝蓝</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">1.6m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">24:57</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
<script src="/blog/js/comments.js"></script><script src="/blog/js/utils.js"></script><script src="/blog/js/motion.js"></script><script src="/blog/js/next-boot.js"></script><script src="/blog/js/bookmark.js"></script><script src="/blog/js/pjax.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/blog/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdn.jsdelivr.net/npm/mermaid@8.14.0/dist/mermaid.min.js","integrity":"sha256-7wT34TI0pEBeEFoi4z+vhuSddGh6vUTMWdqJ2SDe2jg="}}</script>
  <script src="/blog/js/third-party/tags/mermaid.js"></script>

  <script src="/blog/js/third-party/fancybox.js"></script>

  <script src="/blog/js/third-party/pace.js"></script>

  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/blog/js/third-party/math/mathjax.js"></script>


  <script src="https://cdn.jsdelivr.net/npm/quicklink@2.2.0/dist/quicklink.umd.js" integrity="sha256-4kQf9z5ntdQrzsBC3YSHnEz02Z9C1UeW/E9OgnvlzSY=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"https://lanlan2017.github.io/blog/page/26/"}</script>
  <script src="/blog/js/third-party/quicklink.js"></script>
<script class="next-config" data-name="waline" type="application/json">{"lang":null,"enable":true,"serverURL":"https://waline-test-lanlan2017.vercel.app","placeholder":"填写邮箱可接收回复通知 填写个人网址可为您引流","avatar":"mm","pageSize":10,"visitor":false,"comment_count":true,"requiredFields":[],"meta":["nick","mail","link"],"libUrl":"https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js","el":"#waline-comments","path":"/blog/page/26/"}</script>
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() => 
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => {
    new Waline(CONFIG.waline);
  });
});
</script>
</body>
</html>
